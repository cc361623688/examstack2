/*
  Implement Github like autocomplete mentions
  http://ichord.github.com/At.js

  Copyright (c) 2013 chord.luo@gmail.com
  Licensed under the MIT license.
*/
function pageName(){return"undefined"==typeof pageFullPath?void 0:pageFullPath.split("/").pop()}function pagePath(){return"undefined"==typeof pageFullPath?void 0:pageFullPath.split("/").slice(0,-1).join("/")}function htmlEscape(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function abspath(t,e){e[0]!="/"&&(e="/"+e,t&&(e="/"+t+e));var i=e.split("/"),n=i.slice(0,-1).join("/"),s=i.pop();return[n,s]}(function(){var t=[].slice;(function(t){return"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)})(function(e){var i,n,s,o,r,a,l,h;return a={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13},o={before_save:function(t){var i,n,s,o;if(!e.isArray(t))return t;for(o=[],n=0,s=t.length;s>n;n++)i=t[n],e.isPlainObject(i)?o.push(i):o.push({name:i});return o},matcher:function(t,e){var i,n;return t="(?:^|\\s)"+t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp(t+"([A-Za-z0-9_+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),i=n.exec(e),i?i[2]||i[1]:null},filter:function(t,e,i){var n,s,o,r;for(r=[],s=0,o=e.length;o>s;s++)n=e[s],~n[i].toLowerCase().indexOf(t)&&r.push(n);return r},remote_filter:null,sorter:function(t,e,i){var n,s,o,r;if(!t)return e;for(r=[],s=0,o=e.length;o>s;s++)n=e[s],n.atwho_order=n[i].toLowerCase().indexOf(t),n.atwho_order>-1&&r.push(n);return r.sort(function(t,e){return t.atwho_order-e.atwho_order})},tpl_eval:function(t,e){try{return t.replace(/\$\{([^\}]*)\}/g,function(t,i){return e[i]})}catch(i){return""}},highlighter:function(t,e){var i;return e?(i=new RegExp(">\\s*(\\w*)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(i,function(t,e,i,n){return"> "+e+"<strong>"+i+"</strong>"+n+" <"})):t},before_insert:function(t){return t}},l=function(){function t(t,e){this.context=t,this.key=e}var i;return i={},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var i,n,s;return i=this.fetch(),n=this.context.get_opt("search_key"),e(i=this.context.callbacks("filter").call(this.context,t,i,n)),i&&i.length>0?void 0:(s=this.context.callbacks("remote_filter"))!=null?s.call(this.context,t,e):void 0},t.prototype.fetch=function(){return i[this.key]||[]},t.prototype.save=function(t){return i[this.key]=this.context.callbacks("before_save").call(this.context,t||[])},t.prototype.load=function(t){return!this.saved()&&t?this._load(t):void 0},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){var i=this;return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return i.save(t)}):this.save(t)},t}(),s=function(){function n(t){this.id=t.id||s(),this.settings={},this.pos=0,this.current_flag=null,this.query=null,this.the_flag={},this._views={},this._models={},this.$inputor=e(t),i.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.listen()}var s,r;return r=0,s=function(){return r+=1},n.prototype.listen=function(){var t=this;return this.$inputor.on("keyup.atwho",function(e){return t.on_keyup(e)}).on("keydown.atwho",function(e){return t.on_keydown(e)}).on("scroll.atwho",function(){var e;return(e=t.view)!=null?e.hide():void 0}).on("blur.atwho",function(){var e;return(e=t.view)!=null?e.hide(t.get_opt("display_timeout")):void 0})},n.prototype.set_context_for=function(t){return t=this.current_flag=this.the_flag[t],this.view=this._views[t],this.model=this._models[t],this},n.prototype.reg=function(t,i){var n;return n=this.settings[t]=e.extend({},this.settings[t]||e.fn.atwho["default"],i),this.set_context_for((n.alias?this.the_flag[n.alias]=t:void 0,t=this.the_flag[t]=t)),(this._models[t]=new l(this,t)).reload(n.data),this._views[t]=new h(this,t),this},n.prototype.trigger=function(t,e){var i,n;return e.push(this),i=this.get_opt("alias"),n=i?""+t+"-"+i+".atwho":""+t+".atwho",this.$inputor.trigger(n,e)},n.prototype.super_call=function(){var i,n;n=arguments[0],i=2<=arguments.length?t.call(arguments,1):[];try{return o[n].apply(this,i)}catch(s){return e.error(""+s+" Or maybe At.js doesn't have function "+n)}},n.prototype.callbacks=function(t){return this.get_opt("callbacks")[t]||o[t]},n.prototype.get_opt=function(t){try{return this.settings[this.current_flag][t]}catch(e){return null}},n.prototype.rect=function(){var t,e;return t=this.$inputor.caret("offset",this.pos-1),e=document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+e}},n.prototype.catch_query=function(){var t,i,n,s,o,r,a,l=this;return i=this.$inputor.val(),t=this.$inputor.caret("pos"),r=i.slice(0,t),s=null,e.map(this.settings,function(t){var e;return e=l.callbacks("matcher").call(l,t.at,r),null!=e?(s=e,l.set_context_for(t.at)):void 0}),"string"==typeof s&&s.length<=this.get_opt("max_len",20)?(o=t-s.length,n=o+s.length,this.pos=o,s={text:s.toLowerCase(),head_pos:o,end_pos:n},this.trigger("matched",[this.current_flag,s.text])):(a=this.view)!=null&&a.hide(),this.query=s},n.prototype.insert=function(t){var e,i,n,s,o;return e=this.$inputor,t=""+t,n=e.val(),i=this.get_opt("display_flag")?0:this.current_flag.length,s=n.slice(0,(this.query.head_pos||0)-i),o=""+s+t+" "+n.slice(this.query.end_pos||0),e.val(o),e.caret("pos",s.length+t.length+1),e.change()},n.prototype.on_keyup=function(t){switch(t.keyCode){case a.ESC:t.preventDefault(),this.view.hide();break;case a.DOWN:case a.UP:e.noop();break;default:this.look_up()}},n.prototype.on_keydown=function(t){var i;if((i=this.view)!=null?i.visible():void 0)switch(t.keyCode){case a.ESC:t.preventDefault(),this.view.hide();break;case a.UP:t.preventDefault(),this.view.prev();break;case a.DOWN:t.preventDefault(),this.view.next();break;case a.TAB:case a.ENTER:if(!this.view.visible())return;t.preventDefault(),this.view.choose();break;default:e.noop()}},n.prototype.render_view=function(t){var e;return e=this.get_opt("search_key"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.get_opt("limit")))},n.prototype.look_up=function(){var t,i;if(t=this.catch_query())return i=function(t){return t&&t.length>0?this.render_view(t):this.view.hide()},this.model.query(t.text,e.proxy(i,this))},n}(),h=function(){function t(t,i){this.context=t,this.key=i,this.id=this.context.get_opt("alias")||"at-view-"+this.key.charCodeAt(0),this.$el=e("<div id='"+this.id+"' class='atwho-view'><ul id='"+this.id+"-ul' class='atwho-view-url'></ul></div>"),this.timeout_id=null,this.context.$el.append(this.$el),this.bind_event()}return t.prototype.bind_event=function(){var t,i=this;return t=this.$el.find("ul"),t.on("mouseenter.view","li",function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur")}).on("click",function(t){return i.choose(),t.preventDefault()})},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.choose=function(){var t;return t=this.$el.find(".cur"),this.context.insert(this.context.callbacks("before_insert").call(this.context,t.data("value"),t)),this.context.trigger("inserted",[t]),this.hide()},t.prototype.reposition=function(){var t,i;return i=this.context.rect(),i.bottom+this.$el.height()-e(window).scrollTop()>e(window).height()&&(i.bottom=i.top-this.$el.height()),t={left:i.left,top:i.bottom},this.$el.offset(t),this.context.trigger("reposition",[t])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur")},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur")},t.prototype.show=function(){return this.visible()||this.$el.show(),this.reposition()},t.prototype.hide=function(t){var e,i=this;return isNaN(t&&this.visible())?this.$el.hide():(e=function(){return i.hide()},clearTimeout(this.timeout_id),this.timeout_id=setTimeout(e,t))},t.prototype.render=function(t){var i,n,s,o,a,l,h;if(!e.isArray(t||t.length<=0))return this.hide(),void 0;for(this.$el.find("ul").empty(),n=this.$el.find("ul"),a=this.context.get_opt("tpl",r),l=0,h=t.length;h>l;l++)s=t[l],o=this.context.callbacks("tpl_eval").call(this.context,a,s),i=e(this.context.callbacks("highlighter").call(this.context,o,this.context.query.text)),i.data("atwho-info",s),n.append(i);return this.show(),n.find("li:first").addClass("cur")},t}(),r="<li data-value='${name}'>${name}</li>",n={init:function(t){var i,n;return n=(i=e(this)).data("atwho"),n||i.data("atwho",n=new s(this)),n.reg(t.at,t)},load:function(t,e){return this.set_context_for(t),this.model.load(e)},run:function(){return this.look_up()}},i=e("<div id='atwho-container'></div>"),e.fn.atwho=function(t){var s;return s=arguments,e("body").append(i),this.filter("textarea, input").each(function(){var i;return"object"!=typeof t&&t?n[t]?(i=e(this).data("atwho"))?n[t].apply(i,Array.prototype.slice.call(s,1)):void 0:e.error("Method "+t+" does not exist on jQuery.caret"):n.init.apply(this,s)})},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,tpl:r,callbacks:o,search_key:"name",limit:5,max_len:20,display_flag:!0,display_timeout:300}})}).call(this),/*
  Implement Github like autocomplete mentions
  http://ichord.github.com/At.js

  Copyright (c) 2013 chord.luo@gmail.com
  Licensed under the MIT license.
*/
function(){(function(t){return"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)})(function(t){"use strict";var e,i,n,s;return s="caret",e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getPos=function(){var t,e,i,n,s,o,r,a,l;return i=this.domInputor,i.focus(),document.selection?(r=document.selection.createRange(),o=0,r&&r.parentElement()===i&&(s=i.value.replace(/\r\n/g,"\n"),n=s.length,l=i.createTextRange(),l.moveToBookmark(r.getBookmark()),e=i.createTextRange(),e.collapse(!1),l.compareEndPoints("StartToEnd",e)>-1?a=t=n:(a=-l.moveStart("character",-n),t=-l.moveEnd("character",-n)))):a=i.selectionStart,a},e.prototype.setPos=function(t){var e,i;return e=this.domInputor,document.selection?(i=e.createTextRange(),i.move("character",t),i.select()):e.setSelectionRange(t,t)},e.prototype.getPosition=function(t){var e,n,s,o,r,a,l,h,c;return e=this.$inputor,s=function(t){return t.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/`/g,"&#96").replace(/"/g,"&quot").replace(/\r\n|\r|\n/g,"<br />")},t=t||this.getPos(),l=e.val().slice(0,t),r="<span>"+s(l)+"</span>",r+="<span id='caret'>|</span>",a=new i(e),n=a.create(r).rect(),h=n.left-e.scrollLeft(),c=n.top-e.scrollTop(),o=n.height,{left:h,top:c,height:o}},e.prototype.getOffset=function(e){var i,n,s,o,r,a,l;return i=this.$inputor,document.selection?(r=this.domInputor.createTextRange(),e&&r.move("character",e),a=r.boundingLeft+i.scrollLeft(),l=r.boundingTop+t(window).scrollTop()+i.scrollTop(),n=r.boundingHeight):(s=i.offset(),o=this.getPosition(e),a=s.left+o.left,l=s.top+o.top,n=o.height),{left:a,top:l,height:n}},e}(),i=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["overflowY","height","width","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","fontFamily","borderStyle","borderWidth","wordWrap","fontSize","lineHeight","overflowX","text-align"],e.prototype.mirrorCss=function(){var e,i=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4,"white-space":"pre-wrap"},t.each(this.css_attr,function(t,n){return e[n]=i.$inputor.css(n)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,i;return t=this.$mirror.find("#caret"),e=t.position(),i={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),i},e}(),n={pos:function(t){return t?this.setPos(t):this.getPos()},position:function(t){return this.getPosition(t)},offset:function(t){return this.getOffset(t)}},t.fn.caret=function(i){var s;return s=new e(this),n[i]?n[i].apply(s,Array.prototype.slice.call(arguments,1)):t.error("Method "+i+" does not exist on jQuery.caret")}})}.call(this),function(){var t;(t=window.GitLab)==null&&(window.GitLab={}),GitLab.GfmAutoComplete={dataSource:"",Emoji:{assetBase:"",template:'<li data-value="${insert}">${name} <img alt="${name}" height="20" src="${image}" width="20" /></li>'},Members:{template:'<li data-value="${name}">${name} <small>${username}</small></li>'},Issues:{template:'<li data-value="${id}"><small>#${id}</small> ${title} </li>'},PullRequests:{template:'<li data-value="${id}"><small>!${id}</small> ${title} </li>'},Code:{template:'<li data-value="${id}"><small>!${id}</small> ${title} </li>'},setup:function(){var t,e=this;return t=$(".md-input, .edit_note textarea"),t.atwho({at:":",tpl:this.Emoji.template,callbacks:{before_save:function(t){return $.map(t,function(t){return{name:t,insert:t+":",image:""+e.Emoji.assetBase+"/"+t+".png"}})}}}),t.atwho({at:"@",tpl:this.Members.template,search_key:"search",callbacks:{before_save:function(t){return $.map(t,function(t){return{name:t.name,username:t.username,search:""+t.username+" "+t.name}})}}}),t.atwho({at:"#",alias:"issues",search_key:"search",tpl:this.Issues.template,callbacks:{before_save:function(t){return $.map(t,function(t){return{id:t.iid,title:t.title,search:""+t.iid+" "+t.title}})}}}),t.atwho({at:"!",alias:"pull_requests",search_key:"search",tpl:this.PullRequests.template,callbacks:{before_save:function(t){return $.map(t,function(t){return{id:t.iid,title:t.title,search:""+t.iid+" "+t.title}})}}}),t.atwho({at:"&",alias:"codes",search_key:"search",tpl:this.Code.template,callbacks:{before_save:function(t){return $.map(t,function(t){return{id:t.id,key:t.key,search:""+t.id+" "+t.key}})}}}),t.one("focus",function(){var i,n,s,o,r,a,l,h,c;for(r=[],$("#notes-list .note a.avatar_o, #issue-title a.author").each(function(){return r.push({username:$(this).attr("username"),name:$(this).attr("name")})}),s=[],a=0,h=r.length;h>a;a++){for(n=r[a],o=!1,l=0,c=s.length;c>l;l++)i=s[l],i.username===n.username&&(o=!0);o||s.push(n)}return t.atwho("load","@",s),$.getJSON(e.dataSource).done(function(e){var a,l,h,c,d,u,p,f,g;for(g=e.members,a=0,h=g.length;h>a;a++){for(n=g[a],o=!1,l=0,c=s.length;c>l;l++)i=s[l],i.username===n.username&&(o=!0);o||s.push(n)}for(p=0,d=r.length;d>p;p++){for(n=r[p],o=!1,f=0,u=s.length;u>f;f++)i=s[f],i.username===n.username&&(o=!0);o||s.push(n)}return t.atwho("load","@",s),t.atwho("load","issues",e.issues),t.atwho("load","pull_requests",e.pull_requests),t.atwho("load",":",e.emojis)})})}}}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
*/
function(){var t,e;e=this,t=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),t.group_array_index!=null&&e.push("group-option"),t.classes!==""&&e.push(t.classes),i=t.style.cssText!==""?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=(i=t.which)!=null?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,i;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*t.length),e=t.substring(i,i+1)},t.prototype.container_width=function(){var t;return this.options.width!=null?this.options.width:(t=window.getComputedStyle!=null?parseFloat(window.getComputedStyle(this.form_field).getPropertyValue("width")):"undefined"!=typeof jQuery&&null!==jQuery&&this.form_field_jq!=null?this.form_field_jq.outerWidth():this.form_field.getWidth(),t+"px")},t.browser_is_supported=function(){var t;return window.navigator.appName==="Microsoft Internet Explorer"?null!==(t=document.documentMode)&&t>=8:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),e.AbstractChosen=t}.call(this),function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return t.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),o=t.childNodes,r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){return t.nodeName.toUpperCase()==="OPTION"?(t.text!==""?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var i,n,s,o,r;for(n=new t,r=e.childNodes,s=0,o=r.length;o>s;s++)i=r[s],n.add_node(i);return n.parsed},this.SelectParser=t}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
*/
function(){var t,e,i,n,s={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;return n=t(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new e(this,i))}):this}}),e=function(e){function s(){return n=s.__super__.constructor.apply(this,arguments)}return o(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var e,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),i={id:this.container_id,"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){t.container_mousedown(e)}),this.container.mouseup(function(e){t.container_mouseup(e)}),this.container.mouseenter(function(e){t.mouse_enter(e)}),this.container.mouseleave(function(e){t.mouse_leave(e)}),this.search_results.mouseup(function(e){t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel DOMMouseScroll",function(e){t.search_results_mousewheel(e)}),this.form_field_jq.bind("liszt:updated",function(e){t.results_update_field(e)}),this.form_field_jq.bind("liszt:activate",function(e){t.activate_field(e)}),this.form_field_jq.bind("liszt:open",function(e){t.container_mousedown(e)}),this.search_field.blur(function(e){t.input_blur(e)}),this.search_field.keyup(function(e){t.keyup_checker(e)}),this.search_field.keydown(function(e){t.keydown_checker(e)}),this.search_field.focus(function(e){t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){t.choices_click(e)}):this.container.click(function(t){t.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(e){return this.is_disabled||(e&&e.type==="mousedown"&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){return t.target.nodeName!=="ABBR"||this.is_disabled?void 0:this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e,i,n;return e=-((i=t.originalEvent)!=null?i.wheelDelta:void 0)||((n=t.originialEvent)!=null?n.detail:void 0),null!=e?(t.preventDefault(),t.type==="DOMMouseScroll"&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){var t,e,n,s,o;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",o=this.results_data,n=0,s=o.length;s>n;n++)e=o[n],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},s.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},s.prototype.result_do_highlight=function(t){var e,i,n,s,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),s=n+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(o>i)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){if(this.result_single_selected!=null)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},s.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)):void 0},s.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for="+this.form_field.id+"]")),this.form_field_label.length>0?this.form_field_label.click(function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},s.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(e){var i,n,s,o=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+e.array_index,this.choices+=1,n=e.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+e.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(n),s=t("#"+i).find("a").first(),s.click(function(t){return o.choice_destroy_link_click(t)}))},s.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){return this.result_deselect(t.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i,n,s;return this.result_highlight?(e=this.result_highlight,i=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),s=i.substr(i.lastIndexOf("_")+1),n=this.results_data[s],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()):void 0},s.prototype.result_activate=function(t){return t.addClass("active-result")},s.prototype.result_deactivate=function(t){return t.removeClass("active-result")},s.prototype.result_deselect=function(e){var i,n;return n=this.results_data[e],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,i=t("#"+this.container_id+"_o_"+e),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},s.prototype.winnow_results=function(){var e,i,n,s,o,r,a,l,h,c,d,u,p,f,g,m,v,b;for(this.no_results_clear(),h=0,c=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),r=this.search_contains?"":"^",o=new RegExp(r+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),b=this.results_data,f=0,m=b.length;m>f;f++)if(i=b[f],!i.disabled&&!i.empty)if(i.group)t("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(e=!1,l=i.dom_id,a=t("#"+l),o.test(i.html))e=!0,h+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||i.html.indexOf("[")===0)&&(s=i.html.replace(/\[|\]/g,"").split(" "),s.length))for(g=0,v=s.length;v>g;g++)n=s[g],o.test(n)&&(e=!0,h+=1);e?(c.length?(d=i.html.search(p),u=i.html.substr(0,d+c.length)+"</em>"+i.html.substr(d+c.length),u=u.substr(0,d)+"<em>"+u.substr(d)):u=i.html,a.html(u),this.result_activate(a),i.group_array_index!=null&&t("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>h&&c.length?this.no_results(c):this.winnow_results_set_highlight()},s.prototype.winnow_results_clear=function(){var e,i,n,s,o;for(this.search_field.val(""),i=this.search_results.find("li"),o=[],n=0,s=i.length;s>n;n++)e=i[n],e=t(e),e.hasClass("group-result")?o.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?o.push(void 0):o.push(this.result_activate(e));return o},s.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},s.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(e=(i=t.which)!=null?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,n,s,o,r,a,l;if(this.is_multiple){for(i=0,r=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=o.length;l>a;a++)n=o[a],s+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),this.f_width||(this.f_width=this.container.outerWidth()),r>this.f_width-10&&(r=this.f_width-10),this.search_field.css({width:r+"px"})}},s.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},s}(AbstractChosen),i.Chosen=e}.call(this),/*
Copyright 2012 Igor Vaynberg

Version: 3.3.2 Timestamp: Mon Mar 25 12:14:18 PDT 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(t){typeof t.fn.each2=="undefined"&&t.fn.extend({each2:function(e){for(var i=t([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&e.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function i(t,e){for(var i=0,s=e.length;s>i;i+=1)if(n(t,e[i]))return i;return-1}function n(t,i){return t===i?!0:t===e||i===e?!1:null===t||null===i?!1:t.constructor===String?t+""==i+"":i.constructor===String?i+""==t+"":!1}function s(e,i){var n,s,o;if(null===e||e.length<1)return[];for(n=e.split(i),s=0,o=n.length;o>s;s+=1)n[s]=t.trim(n[s]);return n}function o(t){return t.outerWidth(!1)-t.width()}function r(i){var n="keyup-change-value";i.bind("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.bind("keyup",function(){var s=t.data(i,n);s!==e&&i.val()!==s&&(t.removeData(i,n),i.trigger("keyup-change"))})}function a(i){i.bind("mousemove",function(i){var n=D;(n===e||n.x!==i.pageX||n.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)})}function l(t,i,n){n=n||e;var s;return function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,e)},t)}}function h(t){var e,i=!1;return function(){return i===!1&&(e=t(),i=!0),e}}function c(t,e){var n=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){i(t.target,e.get())>=0&&n(t)})}function d(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus(),t.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function u(t){t.preventDefault(),t.stopPropagation()}function p(t){t.preventDefault(),t.stopImmediatePropagation()}function f(e){if(!P){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);P=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),t("body").append(P)}return P.text(e.val()),P.width()}function g(e,i,n){var s,o,r=[];s=e.attr("class"),s&&(s=""+s,t(s.split(" ")).each2(function(){this.indexOf("select2-")===0&&r.push(this)})),s=i.attr("class"),s&&(s=""+s,t(s.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(o=n(this),o&&r.push(this))})),e.attr("class",r.join(" "))}function m(t,e,i,n){var s=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return 0>s?(i.push(n(t)),void 0):(i.push(n(t.substring(0,s))),i.push("<span class='select2-match'>"),i.push(n(t.substring(s,s+o))),i.push("</span>"),i.push(n(t.substring(s+o,t.length))),void 0)}function v(e){var i,n=0,s=null,o=e.quietMillis||100,r=e.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,o=e.data,h=r,c=e.transport||t.ajax,d=e.type||"GET",u={};o=o?o.call(a,l.term,l.page,l.context):null,h="function"==typeof h?h.call(a,l.term,l.page,l.context):h,null!==s&&s.abort(),e.params&&(t.isFunction(e.params)?t.extend(u,e.params.call(a)):t.extend(u,e.params)),t.extend(u,{url:h,dataType:e.dataType,data:o,type:d,cache:!1,success:function(t){if(!(n>i)){var s=e.results(t,l.page);l.callback(s)}}}),s=c.call(a,u)},o)}}function b(e){var i,n,s=e,o=function(t){return""+t.text};t.isArray(s)&&(n=s,s={results:n}),t.isFunction(s)===!1&&(n=s,s=function(){return n});var r=s();return r.text&&(o=r.text,t.isFunction(o)||(i=s.text,o=function(t){return t[i]})),function(e){var i,n=e.term,r={results:[]};return""===n?(e.callback(s()),void 0):(i=function(s,r){var a,l;if(s=s[0],s.children){a={};for(l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);a.children=[],t(s.children).each2(function(t,e){i(e,a.children)}),(a.children.length||e.matcher(n,o(a),s))&&r.push(a)}else e.matcher(n,o(s),s)&&r.push(s)},t(s().results).each2(function(t,e){i(e,r.results)}),e.callback(r),void 0)}}function y(i){var n=t.isFunction(i);return function(s){var o=s.term,r={results:[]};t(n?i():i).each(function(){var t=this.text!==e,i=t?this.text:this;(""===o||s.matcher(o,i))&&r.results.push(t?this:{id:this,text:this})}),s.callback(r)}}function x(e){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error("formatterName must be a function or a falsy value")}function w(e){return t.isFunction(e)?e():e}function _(e){var i=0;return t.each(e,function(t,e){e.children?i+=_(e.children):i++}),i}function k(t,i,s,o){var r,a,l,h,c,d=t,u=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,h=o.tokenSeparators.length;h>l&&(c=o.tokenSeparators[l],a=t.indexOf(c),!(a>=0));l++);if(0>a)break;if(r=t.substring(0,a),t=t.substring(a+c.length),r.length>0&&(r=o.createSearchChoice(r,i),r!==e&&null!==r&&o.id(r)!==e&&o.id(r)!==null)){for(u=!1,l=0,h=i.length;h>l;l++)if(n(o.id(r),o.id(i[l]))){u=!0;break}u||s(r)}}return d!==t?t:void 0}function C(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var S,T,A,L,M,P,D,E;S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case S.SHIFT:case S.CTRL:case S.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},E=t(document),M=function(){var t=1;return function(){return t++}}(),E.bind("mousemove",function(t){D={x:t.pageX,y:t.pageY}}),T=C(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,s,o=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&i.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+M()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return i.element.closest("body")}),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(w(i.containerCss)),this.container.addClass(w(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){t(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(w(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(o),this.search=s=this.container.find("input.select2-input"),s.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),a(this.results),this.dropdown.delegate(o,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),c(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&n.mousewheel(function(t,e,i,s){var o=n.scrollTop();s>0&&0>=o-s?(n.scrollTop(0),u(t)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),u(t))}),r(s),s.bind("keyup-change input paste",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(i.element.is(":disabled")||i.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(i){var o,r,a,l;if(o=i.element,o.get(0).tagName.toLowerCase()==="select"&&(this.select=r=i.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(n,s,o){var r,a=this.opts.id,l=this;r=function(n,s,h){var c,d,u,p,f,g,m,v,b,y;for(n=i.sortResults(n,s,o),c=0,d=n.length;d>c;c+=1)u=n[c],f=u.disabled===!0,p=!f&&a(u)!==e,g=u.children&&u.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+h),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(u)),v=t(document.createElement("div")),v.addClass("select2-result-label"),y=i.formatResult(u,v,o,l.opts.escapeMarkup),y!==e&&v.html(y),m.append(v),g&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),r(u.children,b,h+1),m.append(b)),m.data("select2-data",u),s.append(m)},r(s,n,0)}},t.fn.select2.defaults,i),typeof i.id!="function"&&(a=i.id,i.id=function(t){return t[a]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(r?(i.query=this.bind(function(i){var s,r,a,l={results:[],more:!1},h=i.term;a=function(t,e){var s;t.is("option")?i.matcher(h,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:n(t.attr("disabled"),"disabled")}):t.is("optgroup")&&(s={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){a(e,s.children)}),s.children.length>0&&e.push(s))},s=o.children(),this.getPlaceholder()!==e&&s.length>0&&(r=s[0],t(r).text()===""&&(s=s.not(r))),s.each2(function(t,e){a(e,l.results)}),i.callback(l)}),i.id=function(t){return t.id},i.formatResultCssClass=function(t){return t.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=v.call(i.element,i.ajax)):"data"in i?i.query=b(i.data):"tags"in i&&(i.query=y(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(t){return{id:t,text:t}}),i.initSelection===e&&(i.initSelection=function(e,o){var r=[];t(s(e.val(),i.separator)).each(function(){var e=this,s=this,o=i.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return n(this.id,e)?(s=this.text,!1):void 0}),r.push({id:e,text:s})}),o(r)}))),typeof i.query!="function")throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var t,e=this.opts.element;e.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,e;t=this.opts.element.attr("disabled")!=="disabled",e=this.opts.element.attr("readonly")==="readonly",t=t&&!e,this.enabled!==t&&(t?this.enable():this.disable()),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(w(this.opts.containerCssClass)),g(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(w(this.opts.dropdownCssClass))}),e.bind("propertychange.select2 DOMAttrModified.select2",t),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(e){e.forEach(t)}),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,s=this.container.offset(),o=this.container.outerHeight(!1),r=this.container.outerWidth(!1),a=this.dropdown.outerHeight(!1),l=t(window).scrollLeft()+t(window).width(),h=t(window).scrollTop()+t(window).height(),c=s.top+o,d=s.left,u=h>=c+a,p=s.top-a>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),g=l>=d+f,m=this.dropdown.hasClass("select2-drop-above");this.body().css("position")!=="static"&&(e=this.body().offset(),c-=e.top,d-=e.left),m?(i=!0,!p&&u&&(i=!1)):(i=!1,!u&&p&&(i=!0)),g||(d=s.left+r-f),i?(c=s.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),n=t.extend({top:c,left:d,width:r},w(this.opts.dropdownCss)),this.dropdown.css(n)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var i,n=this.containerId,s="scroll."+n,o="resize."+n,r="orientationchange."+n;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),i=t("#select2-drop-mask"),i.length==0&&(i=t(document.createElement("div")),i.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body()),i.bind("mousedown touchstart",function(){var e,i=t("#select2-drop");i.length>0&&(e=i.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i.css(e()),i.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){t(this).bind(o+" "+s+" "+r,function(){t("#select2-drop-mask").css(e()),a.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var e=this.containerId,i="scroll."+e,n="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).unbind(i).unbind(n).unbind(s)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return w(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,i,n,s,o,r,a,l=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return l.scrollTop(0),void 0;e=this.findHighlightableChoices(),n=t(e[i]),s=n.offset().top+n.outerHeight(!0),i===e.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),s>o&&l.scrollTop(l.scrollTop()+(s-o)),r=n.offset().top-l.offset().top,0>r&&n.css("display")!="none"&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=e;var s=t(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var n,s,o=this.findHighlightableChoices();return arguments.length===0?i(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),n=t(o[e]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),s=n.data("select2-data"),s&&this.opts.element.trigger({type:"highlight",val:this.id(s),choice:s}),void 0)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else i.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,i=e.find("li.select2-more-results"),n=this.resultsPage+1,s=this,o=this.search.val(),r=this.context;i.length!==0&&(t=i.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(t){s.opened()&&(s.opts.populateResults.call(this,e,t.results,{term:o,page:n,context:r}),s.postprocessResults(t,!1,!1),t.more===!0?(i.detach().appendTo(e).text(s.opts.formatLoadMore(n+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n,s.context=t.context)})})))},tokenize:function(){},updateResults:function(i){function s(){h.scrollTop(0),l.removeClass("select2-active"),d.positionDropdown()}function o(t){h.html(t),s()}var r,a,l=this.search,h=this.results,c=this.opts,d=this,u=l.val(),p=t.data(this.container,"select2-last-term");if((i===!0||!p||!n(u,p))&&(t.data(this.container,"select2-last-term",u),i===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(r=this.data(),t.isArray(r)&&r.length>=f&&x(c.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(f)+"</li>"),void 0;if(l.val().length<c.minimumInputLength)return x(c.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+c.formatInputTooShort(l.val(),c.minimumInputLength)+"</li>"):o(""),void 0;if(c.maximumInputLength&&l.val().length>c.maximumInputLength)return x(c.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+c.formatInputTooLong(l.val(),c.maximumInputLength)+"</li>"):o(""),void 0;c.formatSearching&&this.findHighlightableChoices().length===0&&o("<li class='select2-searching'>"+c.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=e&&null!=a&&l.val(a),this.resultsPage=1,c.query({element:c.element,term:l.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(r){var a;return this.opened()?(this.context=r.context===e?null:r.context,this.opts.createSearchChoice&&l.val()!==""&&(a=this.opts.createSearchChoice.call(null,l.val(),r.results),a!==e&&null!==a&&d.id(a)!==e&&d.id(a)!==null&&t(r.results).filter(function(){return n(d.id(this),d.id(a))}).length===0&&r.results.unshift(a)),r.results.length===0&&x(c.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+c.formatNoMatches(l.val())+"</li>"),void 0):(h.empty(),d.opts.populateResults.call(this,h,r.results,{term:l.val(),page:this.resultsPage,context:null}),r.more===!0&&x(c.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(r,i),s(),this.opts.element.trigger({type:"loaded",data:r}),void 0)):(this.search.removeClass("select2-active"),void 0)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){d(this.search)},selectHighlighted:function(t){var e=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n&&(this.highlight(e),this.onSelect(n,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function i(){var i,n,s,o,r;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(i=this.opts.element.attr("style"),i!==e)for(n=i.split(";"),o=0,r=n.length;r>o;o+=1)if(s=n[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==s&&s.length>=1)return s[1];return this.opts.width==="resolve"?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),A=C(T,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),d(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,i=this.container,n=this.dropdown,s=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+M()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)return u(t),void 0;switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),u(t),void 0;case S.TAB:case S.ENTER:return this.selectHighlighted(),u(t),void 0;case S.ESC:return this.cancel(t),u(t),void 0}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(t){return!this.enabled||t.which===S.TAB||S.isControl(t)||S.isFunctionKey(t)||t.which===S.ESC?void 0:this.opts.openOnEnter===!1&&t.which===S.ENTER?(u(t),void 0):t.which==S.DOWN||t.which==S.UP||t.which==S.ENTER&&this.opts.openOnEnter?(this.open(),u(t),void 0):t.which==S.DELETE||t.which==S.BACKSPACE?(this.opts.allowClear&&this.clear(),u(t),void 0):void 0})),r(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(t){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),u(t))})),e.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),p(t),this.close(),this.selection.focus())})),e.bind("mousedown",this.bind(function(t){s=!0,this.opened()?this.close():this.enabled&&this.open(),u(t),s=!1})),n.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(t){u(t)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");e&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e.element.get(0).tagName.toLowerCase()==="select"?e.initSelection=function(e,i){var n=e.find(":selected");t.isFunction(i)&&i({id:n.attr("value"),text:n.text(),element:n})}:"data"in e&&(e.initSelection=e.initSelection||function(i,s){var o=i.val(),r=null;e.query({matcher:function(t,i,s){var a=n(o,e.id(s));return a&&(r=s),a},callback:t.isFunction(s)?function(){s(r)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.select.find("option").first().text()!==""?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.opts.element.val()===""&&t!==e){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,e,i){var s=0,o=this,r=!0;if(this.findHighlightableChoices().each2(function(t,e){return n(o.id(e.data("select2-data")),o.opts.element.val())?(s=t,!1):void 0}),i!==!1&&this.highlight(s),e===!0){var a=this.opts.minimumResultsForSearch;r=0>a?!1:_(t.results)>=a,this.showSearch(r)}},showSearch:function(e){this.showSearchInput=e,this.dropdown.find(".select2-search")[e?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[e?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(t,e){var i=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),n(i,this.id(t))||this.triggerChange()},updateSelection:function(t){var i,n=this.selection.find("span");this.selection.data("select2-data",t),n.empty(),i=this.opts.formatSelection(t,n),i!==e&&n.append(this.opts.escapeMarkup(i)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,i=!1,n=null,s=this;if(arguments.length===0)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return n={id:e.attr("value"),text:e.text(),element:e.get(0)},!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange();else{if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");if(!t&&0!==t)return this.clear(i),i&&this.triggerChange(),void 0;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),i&&s.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i;return arguments.length===0?(i=this.selection.data("select2-data"),i==e&&(i=null),i):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),void 0)}}),L=C(T,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e.element.get(0).tagName.toLowerCase()==="select"?e.initSelection=function(t,e){var i=[];t.find(":selected").each2(function(t,e){i.push({id:e.attr("value"),text:e.text(),element:e[0]})}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(i,o){var r=s(i.val(),e.separator),a=[];e.query({matcher:function(i,s,o){var l=t.grep(r,function(t){return n(t,e.id(o))}).length;return l&&a.push(o),l},callback:t.isFunction(o)?function(){o(a)}:t.noop})}),e},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i),this.search.attr("id","s2id_autogen"+M()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===S.BACKSPACE&&this.search.val()===""){this.close();var i,n=e.find(".select2-search-choice-focus");if(n.length>0)return this.unselect(n.first()),this.search.width(10),u(t),void 0;i=e.find(".select2-search-choice:not(.select2-locked)"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),u(t),void 0;case S.ENTER:case S.TAB:return this.selectHighlighted(),u(t),void 0;case S.ESC:return this.cancel(t),u(t),void 0}if(t.which!==S.TAB&&!S.isControl(t)&&!S.isFunctionKey(t)&&t.which!==S.BACKSPACE&&t.which!==S.ESC){if(t.which===S.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)&&u(t),t.which===S.ENTER&&u(t)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(i,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(i,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||this.opts.element.val()!==""){var t=this;
this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],s=[],o=this;t(e).each(function(){i(o.id(this),n)<0&&(n.push(o.id(this)),s.push(this))}),e=s,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,s=!i.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?o:r,l=this.id(i),h=this.getVal();n=this.opts.formatSelection(i,a.find("div")),n!=e&&a.find("div").replaceWith("<div>"+this.opts.escapeMarkup(n)+"</div>"),s&&a.find(".select2-search-choice-close").bind("mousedown",u).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),u(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",i),a.insertBefore(this.searchContainer),h.push(l),this.setVal(h)},unselect:function(t){var e,n,s=this.getVal();if(t=t.closest(".select2-search-choice"),t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(n=i(this.id(e),s),n>=0&&(s.splice(n,1),this.setVal(s),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result"),n=this.results.find(".select2-result-with-children"),s=this;e.each2(function(e,n){var o=s.id(n.data("select2-data"));i(o,t)>=0&&(n.addClass("select2-selected"),n.find(".select2-result-selectable").addClass("select2-selected"))}),n.each2(function(t,e){e.is(".select2-result-selectable")||e.find(".select2-result-selectable:not(.select2-selected)").length!==0||e.addClass("select2-selected")}),this.highlight()==-1&&s.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var t,e,i,n,s,r=o(this.search);t=f(this.search)+10,e=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(e-n)-r,t>s&&(s=i-r),40>s&&(s=i-r),0>=s&&(s=t),this.search.width(s)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(n.length===0?"":n.join(this.opts.separator)))},val:function(){var i,n=!1,s=this;if(arguments.length===0)return this.getVal();if(i=arguments[0],arguments.length>1&&(n=arguments[1]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),n&&this.triggerChange(),void 0;if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange();else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t(e).map(s.id);s.setVal(i),s.updateSelection(e),s.clearSearch(),n&&s.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e){var i,n=this;return arguments.length===0?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(e||(e=[]),i=t.map(e,function(t){return n.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),void 0)}}),t.fn.select2=function(){var n,s,o,r,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(a.length===0||typeof a[0]=="object")n=a.length===0?{}:t.extend({},a[0]),n.element=t(this),n.element.get(0).tagName.toLowerCase()==="select"?r=n.element.attr("multiple"):(r=n.multiple||!1,"tags"in n&&(n.multiple=r=!0)),s=r?new L:new A,s.init(n);else{if(typeof a[0]!="string")throw"Invalid arguments to select2 plugin: "+a;if(i(a[0],l)<0)throw"Unknown method: "+a[0];if(o=e,s=t(this).data("select2"),s===e)return;if(o=a[0]==="container"?s.container:s[a[0]].apply(s,a.slice(1)),o!==e)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var s=[];return m(t.text,i.term,s,n),s.join("")},formatSelection:function(t){return t?t.text:e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:b,tags:y},util:{debounce:l,markMatch:m},"class":{"abstract":T,single:A,multi:L}}}}(jQuery),function(){this.Api={users_path:"/users/search?q=:query",user_path:"/users/search?id=:user_id",projects_path:"/projects/search?q=:query",project_path:"/projects/search?id=:project_id",user:function(t,e){var i;return i=Api.user_path.replace(":user_id",t),$.ajax({url:i,dataType:"json"}).done(function(t){return e(t)})},users:function(t,e){var i;return i=Api.users_path.replace(":query",t),$.ajax({url:i,data:{page:1,per_page:10},dataType:"json"}).done(function(t){return e(t)})},project:function(t,e){var i;return i=Api.project_path.replace(":project_id",t),$.ajax({url:i,dataType:"json"}).done(function(t){return e(t)})},projects:function(t,e){var i;return i=Api.projects_path.replace(":query",t),$.ajax({url:i,data:{page:1,per_page:10},dataType:"json"}).done(function(t){return e(t)})}}}.call(this),function(){$(function(){return $.extend($.fn.select2.defaults,{formatNoMatches:function(){return"没有找到匹配项"},formatInputTooShort:function(t,e){return"请再输入"+(e-t.length)+"个字符"},formatInputTooLong:function(t,e){return"请删掉"+(t.length-e)+"个字符"},formatSelectionTooBig:function(t){return"你只能选择最多"+t+"项"},formatLoadMore:function(){return"加载结果中..."},formatSearching:function(){return"搜索中..."}}),$(".ajax-users-select").select2({placeholder:"搜索用户",multiple:$(".ajax-users-select").hasClass("multiselect"),minimumInputLength:2,query:function(t){return Api.users(t.term,function(e){var i;return i={results:e},t.callback(i)})},formatResult:function(t){var e,i;return e=t.avatar,i="<div class='user-result'>",i+="<div class='user-image'><img class='ui circular image' style='width: 37px; height: 37px; margin-right: 5px;' src='"+e+"'></div>",i+="<div class='user-name'>"+t.name+"</div>",i+="<div class='user-username'>"+t.username+"</div>",i+="</div>"},formatSelection:function(t){return t.name},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(t){return t}}),$(".ajax-projects-select").select2({placeholder:"搜索项目",multiple:$(".ajax-projects-select").hasClass("multiselect"),minimumInputLength:3,query:function(t){return Api.projects(t.term,function(e){var i;return i={results:e},t.callback(i)})},initSelection:function(t,e){var i;return i=$(t).val(),""!==i?Api.project(i,e):void 0},formatResult:function(t){return t.name},formatSelection:function(t){return t.name},dropdownCssClass:"ajax-projects-dropdown"})})}.call(this),function(t){var e;e=t.fn.chosen,t.fn.extend({chosen:function(i){var n;return n={search_contains:"true"},t.extend(n,i),e.apply(this,[n])},disable:function(){return t(this).attr("disabled","disabled").addClass("disabled")},enable:function(){return t(this).removeAttr("disabled").removeClass("disabled")}})}(jQuery),function(){window.Projects=function(){return $(".new_project, .edit_project").on("ajax:before",function(){var t;if(t=$(this).attr("id")==="transfer_form"){if($.trim($("#transfer_form .select2-choice span").text())==="")return;return $(".transfer-project-loader").show(),$(".transfer-commit,.ajax-users-dropdown .select2-input").attr("disabled","disabled").addClass("disabled")}return $(".project_new_holder, .project_edit_holder").hide(),$(".save-project-loader").show()}),$("form #project_default_branch").chosen(),disableButtonIfEmptyField("#project_name",".project-submit")},$(function(){var t,e,i;return i=$(".project_clone_holder"),e=$(".js-zeroclipboard",i),i.length>0&&(e.popup({content:gon.cp,on:"hover",delay:{show:200,hide:200}}),e.zclip({path:"/ZeroClipboard.swf",copy:function(){return $(".js-zeroclipboard").attr("data-clipboard-text")},clickAfter:!1,afterCopy:function(){e.popup({content:gon.aready_cp}),e.popup("show")},beforeCopy:function(){e.popup("hide")}}),$("a, .button.switch",i).click(function(){return $("a, .button.switch",i).removeClass("active"),$(this).addClass("active"),$("#project_clone",i).val($(this).data("clone")),$(".js-zeroclipboard",i).attr("data-clipboard-text",$(this).data("clone")),$(".clone").text("").append("git remote add origin "+$(this).data("clone"))})),$(".project-refs-select").on("change",function(){return $(this).parents("form").submit()}),$("#project_issues_enabled").change(function(){return $(this).is(":checked")===!0?$("#project_issues_tracker").removeAttr("disabled"):$("#project_issues_tracker").attr("disabled","disabled"),$("#project_issues_tracker").change()}),$(".star-container").on("ajax:success",function(t,e){return $(".star-container .social-count").html(e.count),$(".star-container").toggleClass("stared")}),$(".watch-container").on("ajax:success",function(t,e){return $(".watch-container .social-count").html(e.count),$(".watch-container").toggleClass("watched")}),$("input[id='private']").click(function(){return $("input[id='private']").attr("checked")==="checked"?$("div .clearfix[id='language']").hide(500):$("div .clearfix[id='language']").show(500)}),$("div .clearfix#select_app").hide(0),$("input[id='paas']").click(function(){return $("input[id='paas']").attr("checked")==="checked"?$("div .clearfix#select_app").show(500):$("div .clearfix#select_app").hide(500)}),$("div .detail_sonar#sonar_detail_form").hide(0),t=$("#sonar_detail_form"),$("a#sonar_detail").click(function(){return $("#sonar_detail_modal").modal("show")}),$("#sonar_cancel").click(function(){return $("#sonar_detail_modal").modal("hide")}),$("#btn_utest_detail").click(function(){return $("#utest_detail_modal").modal("show")}),$("#utest_cancel").click(function(){return $("#utest_detail_modal").modal("hide")})})}.call(this),function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments.length,i={},n=function(t,e){var i,s;"object"!=typeof t&&(t={});for(s in e)e.hasOwnProperty(s)&&(i=e[s],t[s]=i&&"object"==typeof i&&Object.prototype.toString.call(i)!=="[object Array]"&&typeof i.nodeType!="number"?n(t[s]||{},i):e[s]);return t};for(t=0;e>t;t++)i=n(i,arguments[t]);return i}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function s(t){return"object"==typeof t}function o(t){return Object.prototype.toString.call(t)==="[object Array]"}function r(t){return"number"==typeof t}function a(t){return ue.log(t)/ue.LN10}function l(t){return ue.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==W&&null!==t}function d(t,e,i){var o,r;if(n(e))c(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c(e)&&s(e))for(o in e)t.setAttribute(o,e[o]);return r}function u(t){return o(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function f(e,i){Se&&i&&i.opacity!==W&&(i.filter="alpha(opacity="+i.opacity*100+")"),t(e.style,i)}function g(e,i,n,s,o){return e=ce.createElement(e),i&&t(e,i),o&&f(e,{padding:0,border:Fe,margin:0}),n&&f(e,n),s&&s.appendChild(e),e}function m(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function v(t,e,n,s){var o=q.lang,t=+t||0,r=-1===e?(t.toString().split(".")[1]||"").length:isNaN(e=be(e))?2:e,e=void 0===n?o.decimalPoint:n,s=void 0===s?o.thousandsSep:s,o=0>t?"-":"",n=String(i(t=be(t).toFixed(r))),a=n.length>3?n.length%3:0;return o+(a?n.substr(0,a)+s:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+s)+(r?e+be(t-n).toFixed(r).slice(2):"")}function b(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function y(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function x(t,e){for(var i,n,s,o,r,a="{",l=!1,h=[];(a=t.indexOf(a))!==-1;){if(i=t.slice(0,a),l){for(n=i.split(":"),s=n.shift().split("."),r=s.length,i=e,o=0;r>o;o++)i=i[s[o]];n.length&&(n=n.join(":"),s=/\.([0-9])/,o=q.lang,r=void 0,/f$/.test(n)?(r=(r=n.match(s))?r[1]:-1,i=v(i,r,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:"")):i=V(n,i))}h.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return h.push(t),h.join("")}function w(t){return ue.pow(10,fe(ue.log(t)/ue.LN10))}function _(t,e,i,n){var s,i=p(i,1);for(s=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),n=0;n<e.length&&(t=e[n],!(s<=(e[n]+(e[n+1]||e[n]))/2));n++);return t*=i}function k(t,e){var i,n=e||[[He,[1,2,5,10,20,25,50,100,200,500]],[Ge,[1,2,5,10,15,30]],[We,[1,2,5,10,15,30]],[Xe,[1,2,3,4,6,8,12]],[Ye,[1,2]],[qe,[1,2]],[Ve,[1,2,3,4,6]],[Ue,null]],s=n[n.length-1],o=Z[s[0]],r=s[1];for(i=0;i<n.length&&(s=n[i],o=Z[s[0]],r=s[1],!(n[i+1]&&t<=(o*r[r.length-1]+Z[n[i+1][0]])/2));i++);return o===Z[Ue]&&5*o>t&&(r=[1,2,5]),n=_(t/o,r,s[0]===Ue?me(w(t/o),1):1),{unitRange:o,count:n,unitName:s[0]}}function C(e,i,n,s){var o,r=[],a={},l=q.global.useUTC,h=new Date(i),d=e.unitRange,u=e.count;if(c(i)){d>=Z[Ge]&&(h.setMilliseconds(0),h.setSeconds(d>=Z[We]?0:u*fe(h.getSeconds()/u))),d>=Z[We]&&h[oe](d>=Z[Xe]?0:u*fe(h[J]()/u)),d>=Z[Xe]&&h[re](d>=Z[Ye]?0:u*fe(h[te]()/u)),d>=Z[Ye]&&h[ae](d>=Z[Ve]?1:u*fe(h[ie]()/u)),d>=Z[Ve]&&(h[le](d>=Z[Ue]?0:u*fe(h[ne]()/u)),o=h[se]()),d>=Z[Ue]&&(o-=o%u,h[he](o)),d===Z[qe]&&h[ae](h[ie]()-h[ee]()+p(s,1)),i=1,o=h[se]();for(var s=h.getTime(),f=h[ne](),g=h[ie](),m=l?0:(864e5+h.getTimezoneOffset()*6e4)%864e5;n>s;)r.push(s),d===Z[Ue]?s=Q(o+i*u,0):d===Z[Ve]?s=Q(o,f+i*u):l||d!==Z[Ye]&&d!==Z[qe]?s+=d*u:s=Q(o,f,g+i*u*(d===Z[Ye]?1:7)),i++;r.push(s),ni(si(r,function(t){return d<=Z[Xe]&&t%Z[Ye]===m}),function(t){a[t]=Ye})}return r.info=t(e,{higherRanks:a,totalRange:d*u}),r}function S(){this.symbol=this.color=0}function T(t,e){var i,n,s=t.length;for(n=0;s>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;s>n;n++)delete t[n].ss_i}function A(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function L(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function M(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function P(t){Y||(Y=g(Oe)),t&&Y.appendChild(t),Y.innerHTML=""}function D(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;de.console&&console.log(i)}function E(t){return parseFloat(t.toPrecision(14))}function I(t,e){U=p(t,e.animation)}function z(){var t=q.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Q=t?Date.UTC:function(t,e,i,n,s,o){return new Date(t,e,p(i,1),p(n,0),p(s,0),p(o,0)).getTime()},J=e+"Minutes",te=e+"Hours",ee=e+"Day",ie=e+"Date",ne=e+"Month",se=e+"FullYear",oe=i+"Minutes",re=i+"Hours",ae=i+"Date",le=i+"Month",he=i+"FullYear"}function N(){}function $(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function B(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}function R(t,e,i,n,s,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.percent="percent"===o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:p(e.y,r?4:i?14:-6),x:p(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}function O(){this.init.apply(this,arguments)}function F(){this.init.apply(this,arguments)}function j(t,e){this.init(t,e)}function H(t,e){this.init(t,e)}function G(){this.init.apply(this,arguments)}var W,X,Y,q,V,U,K,Z,Q,J,te,ee,ie,ne,se,oe,re,ae,le,he,ce=document,de=window,ue=Math,pe=ue.round,fe=ue.floor,ge=ue.ceil,me=ue.max,ve=ue.min,be=ue.abs,ye=ue.cos,xe=ue.sin,we=ue.PI,_e=2*we/360,ke=navigator.userAgent,Ce=de.opera,Se=/msie/i.test(ke)&&!Ce,Te=ce.documentMode===8,Ae=/AppleWebKit/.test(ke),Le=/Firefox/.test(ke),Me=/(Mobile|Android|Windows Phone)/.test(ke),Pe="http://www.w3.org/2000/svg",De=!!ce.createElementNS&&!!ce.createElementNS(Pe,"svg").createSVGRect,Ee=Le&&parseInt(ke.split("Firefox/")[1],10)<4,Ie=!De&&!Se&&!!ce.createElement("canvas").getContext,ze=ce.documentElement.ontouchstart!==W,Ne={},$e=0,Be=function(){},Re=[],Oe="div",Fe="none",je="rgba(192,192,192,"+(De?1e-4:.002)+")",He="millisecond",Ge="second",We="minute",Xe="hour",Ye="day",qe="week",Ve="month",Ue="year",Ke="stroke-width",Ze={};de.Highcharts=de.Highcharts?D(16,!0):{},V=function(e,i,n){if(!c(i)||isNaN(i))return"Invalid date";var s,e=p(e,"%Y-%m-%d %H:%M:%S"),o=new Date(i),r=o[te](),a=o[ee](),l=o[ie](),h=o[ne](),d=o[se](),u=q.lang,f=u.weekdays,o=t({a:f[a].substr(0,3),A:f[a],d:b(l),e:l,b:u.shortMonths[h],B:u.months[h],m:b(h+1),y:d.toString().substr(2,2),Y:d,H:b(r),I:b(r%12||12),l:r%12||12,M:b(o[J]()),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:b(o.getSeconds()),L:b(pe(i%1e3),3)},Highcharts.dateFormats);for(s in o)for(;e.indexOf("%"+s)!==-1;)e=e.replace("%"+s,typeof o[s]=="function"?o[s](i):o[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},S.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},Z=function(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}(He,1,Ge,1e3,We,6e4,Xe,36e5,Ye,864e5,qe,6048e5,Ve,26784e5,Ue,31556952e3),K={init:function(t,e,i){var n,s,o,e=e||"",r=t.shift,a=e.indexOf("C")>-1,l=a?7:3,e=e.split(" "),i=[].concat(i),h=function(t){for(n=t.length;n--;)t[n]==="M"&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(a&&(h(e),h(i)),t.isArea&&(s=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),r<=i.length/l&&e.length===i.length)for(;r--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-l,l),a&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),e=e.concat(r);return s&&(e=e.concat(s),i=i.concat(o)),[e,i]},step:function(t,e,i,n){var s=[],o=t.length;if(1===i)s=n;else if(o===e.length&&1>i)for(;o--;)n=parseFloat(t[o]),s[o]=isNaN(n)?t[o]:i*parseFloat(e[o]-n)+n;else s=e;return s}},function(e){de.HighchartsAdapter=de.HighchartsAdapter||e&&{init:function(t){var i,s=e.fx,o=s.step,r=e.Tween,a=r&&r.propHooks;i=e.cssHooks.opacity,e.extend(e.easing,{easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,n,l=o;"cur"===e?l=s.prototype:"_default"===e&&r&&(l=a[e],e="set"),(i=l[e])&&(l[e]=function(s){return s=t?s:this,s.prop!=="align"?(n=s.elem,n.attr?n.attr(s.prop,"cur"===e?W:s.now):i.apply(this,arguments)):void 0})}),y(i,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},r?a.d={set:i}:o.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i="Chart",s=arguments;return n(s[0])&&(i=s[0],s=Array.prototype.slice.call(s,1)),t=s[0],t!==W&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new Highcharts[i](t,s[1]),e=this),t===W&&(e=Re[d(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,s=t.length;s>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var s=ce.removeEventListener?"removeEventListener":"detachEvent";ce[s]&&t&&!t[s]&&(t[s]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,s,o){var r,a=e.Event(n),l="detached"+n;!Se&&s&&(delete s.layerX,delete s.layerY),t(a,s),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(r=!0)}}}),e(i).trigger(a),i[l]&&(i[n]=i[l],i[l]=null),o&&!a.isDefaultPrevented()&&!r&&o(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===W&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var s=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),s.stop(),i.opacity!==W&&t.attr&&(i.opacity+="px"),s.animate(i,n)},stop:function(t){e(t).stop()}}}(de.jQuery);var Qe=de.HighchartsAdapter,Je=Qe||{};Qe&&Qe.init.call(Qe,K);var ti=Je.adapterRun,ei=Je.getScript,ii=Je.inArray,ni=Je.each,si=Je.grep,oi=Je.offset,ri=Je.map,ai=Je.addEvent,li=Je.removeEvent,hi=Je.fireEvent,ci=Je.washMouseEvent,di=Je.animate,ui=Je.stop,Je={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};q={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Je,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:De,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Me?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var pi=q.plotOptions,Qe=pi.line;z();var fi=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,gi=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,mi=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,vi=function(t){var n,s,o=[];return function(t){t&&t.stops?s=ri(t.stops,function(t){return vi(t[1])}):(n=fi.exec(t))?o=[i(n[1]),i(n[2]),i(n[3]),parseFloat(n[4],10)]:(n=gi.exec(t))?o=[i(n[1],16),i(n[2],16),i(n[3],16),1]:(n=mi.exec(t))&&(o=[i(n[1]),i(n[2]),i(n[3]),1])}(t),{get:function(i){var n;return s?(n=e(t),n.stops=[].concat(n.stops),ni(s,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=o&&!isNaN(o[0])?"rgb"===i?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===i?o[3]:"rgba("+o.join(",")+")":t,n},brighten:function(t){if(s)ni(s,function(e){e.brighten(t)});else if(r(t)&&0!==t){var e;for(e=0;3>e;e++)o[e]+=i(255*t),o[e]<0&&(o[e]=0),o[e]>255&&(o[e]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this}}};N.prototype={init:function(t,e){this.element="span"===e?g(e):ce.createElementNS(Pe,e),this.renderer=t,this.attrSetters={}},opacity:1,animate:function(t,i,n){i=p(i,U,!0),ui(this),i?(i=e(i),n&&(i.complete=n),di(this,t,i)):(this.attr(t),n&&n())},attr:function(t,e){var s,o,r,a,l,h,u,f=this.element,g=f.nodeName.toLowerCase(),m=this.renderer,v=this.attrSetters,b=this.shadows,y=this;if(n(t)&&c(e)&&(s=t,t={},t[s]=e),n(t))s=t,"circle"===g?s={x:"cx",y:"cy"}[s]||s:"strokeWidth"===s&&(s="stroke-width"),y=d(f,s)||this[s]||0,"d"!==s&&"visibility"!==s&&"fill"!==s&&(y=parseFloat(y));else{for(s in t)if(l=!1,o=t[s],r=v[s]&&v[s].call(this,o,s),r!==!1){if(r!==W&&(o=r),"d"===s)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===s&&"text"===g)for(r=0;r<f.childNodes.length;r++)a=f.childNodes[r],d(a,"x")===d(f,"x")&&d(a,"x",o);else if(!this.rotation||"x"!==s&&"y"!==s)if("fill"===s)o=m.color(o,f,s);else if("circle"!==g||"x"!==s&&"y"!==s)if("rect"===g&&"r"===s)d(f,{rx:o,ry:o}),l=!0;else if("translateX"===s||"translateY"===s||"rotation"===s||"verticalAlign"===s||"scaleX"===s||"scaleY"===s)l=u=!0;else if("stroke"===s)o=m.color(o,f,s);else if("dashstyle"===s){if(s="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Fe;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),r=o.length;r--;)o[r]=i(o[r])*p(t["stroke-width"],this["stroke-width"]);o=o.join(",")}}else"width"===s?o=i(o):"align"===s?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===s&&(r=f.getElementsByTagName("title")[0],r||(r=ce.createElementNS(Pe,"title"),f.appendChild(r)),r.textContent=o);else s={x:"cx",y:"cy"}[s]||s;else u=!0;if("strokeWidth"===s&&(s="stroke-width"),("stroke-width"===s||"stroke"===s)&&(this[s]=o,this.stroke&&this["stroke-width"]?(d(f,"stroke",this.stroke),d(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===s&&0===o&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1),l=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(h||(this.symbolAttr(t),h=!0),l=!0),b&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s))for(r=b.length;r--;)d(b[r],s,"height"===s?me(o-(b[r].cutHeight||0),0):o);("width"===s||"height"===s)&&"rect"===g&&0>o&&(o=0),this[s]=o,"text"===s?(o!==this.textStr&&delete this.bBox,this.textStr=o,this.added&&m.buildText(this)):l||d(f,s,o)}u&&this.updateTransform()}return y},addClass:function(t){var e=this.element,i=d(e,"class")||"";return i.indexOf(t)===-1&&d(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;ni("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Fe)},crisp:function(t,e,i,n,s){var o,r,a={},l={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;r=pe(t)%2/2,l.x=fe(e||this.x||0)+r,l.y=fe(i||this.y||0)+r,l.width=fe((n||this.width||0)-2*r),l.height=fe((s||this.height||0)-2*r),l.strokeWidth=t;for(o in l)this[o]!==l[o]&&(this[o]=a[o]=l[o]);return a},css:function(e){var n,s=this.element,o=this.textWidth=e&&e.width&&s.nodeName.toLowerCase()==="text"&&i(e.width),r="",a=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),o&&delete e.width,Se&&!De)f(this.element,e);else{for(n in e)r+=n.replace(/([A-Z])/g,a)+":"+e[n]+";";d(s,"style",r)}return o&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var i=this,n=i.element;return ze&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(ke.indexOf("Android")===-1||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var i=this.element;
return(i=e&&i.tagName==="SPAN"&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||(t.nodeName==="text"&&(t.style.position="absolute"),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,o=this.x||0,r=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],h=a&&"left"!==a,d=this.shadows;if(f(e,{marginLeft:n,marginTop:s}),d&&ni(d,function(t){f(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&ni(e.childNodes,function(i){t.invertChild(i,e)}),e.tagName==="SPAN"){var u,g,m,d=this.rotation;u=0;var v,b=1,y=0;m=i(this.textWidth);var x=this.xCorr||0,w=this.yCorr||0,_=[d,a,e.innerHTML,this.textWidth].join(",");_!==this.cTT&&(c(d)&&(u=d*_e,b=ye(u),y=xe(u),this.setSpanRotation(d,y,b)),u=p(this.elemWidth,e.offsetWidth),g=p(this.elemHeight,e.offsetHeight),u>m&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:m+"px",display:"block",whiteSpace:"normal"}),u=m),m=t.fontMetrics(e.style.fontSize).b,x=0>b&&-u,w=0>y&&-g,v=0>b*y,x+=y*m*(v?1-l:l),w-=b*m*(d?v?l:1-l:1),h&&(x-=u*l*(0>b?-1:1),d&&(w-=g*l*(0>y?-1:1)),f(e,{textAlign:a})),this.xCorr=x,this.yCorr=w),f(e,{left:o+x+"px",top:r+w+"px"}),Ae&&(g=e.offsetHeight),this.cTT=_}}else this.alignOnAdd=!0},setSpanRotation:function(t){var e={};e[Se?"-ms-transform":Ae?"-webkit-transform":Le?"MozTransform":Ce?"-o-transform":""]=e.transform="rotate("+t+"deg)",f(this.element,e)},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,o=this.rotation;s&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],s?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(this.x||0)+" "+(this.y||0)+")"),(c(i)||c(n))&&t.push("scale("+p(i,1)+" "+p(n,1)+")"),t.length&&d(this.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,o,r,a,l={};return o=this.renderer,r=o.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=s=i||"renderer",h(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=p(i,o[s],o),s=t.align,o=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===s||"center"===s)&&(r+=(i.width-(t.width||0))/{right:1,center:2}[s]),l[e?"translateX":"x"]=pe(r),("bottom"===o||"middle"===o)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),l[e?"translateY":"y"]=pe(a),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var e,i=this.bBox,n=this.renderer,s=this.rotation;e=this.element;var o=this.styles,r=s*_e;if(!i){if(e.namespaceURI===Pe||n.forExport){try{i=e.getBBox?t({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(a){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();n.isSVG&&(n=i.width,e=i.height,Se&&o&&o.fontSize==="11px"&&e.toPrecision(3)==="22.7"&&(i.height=e=14),s&&(i.width=be(e*xe(r))+be(n*ye(r)),i.height=be(e*ye(r))+be(n*xe(r)))),this.bBox=i}return i},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n=this.renderer,s=t||n,o=s.element||n.box,r=o.childNodes,a=this.element,l=d(a,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,this.textStr!==void 0&&n.buildText(this),l&&(s.handleZ=!0,l=i(l)),s.handleZ)for(s=0;s<r.length;s++)if(t=r[s],n=d(t,"zIndex"),t!==a&&(i(n)>l||!c(l)&&c(n))){o.insertBefore(a,t),e=!0;break}return e||o.appendChild(a),this.added=!0,hi(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},s=i.shadows,o=i.renderer.isSVG&&n.nodeName==="SPAN"&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ui(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),s&&ni(s,function(t){i.safeRemoveChild(t)});o&&o.div.childNodes.length===0;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;i.alignTo&&h(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,s,o,r,a,l,h=[],c=this.element;if(t){for(r=p(t.width,3),a=(t.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;r>=n;n++)s=c.cloneNode(0),o=2*r+1-2*n,d(s,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+l,fill:Fe}),i&&(d(s,"height",me(d(s,"height")-o,0)),s.cutHeight=o),e?e.element.appendChild(s):c.parentNode.insertBefore(s,c),h.push(s);this.shadows=h}return this}};var bi=function(){this.init.apply(this,arguments)};bi.prototype={Element:N,init:function(t,e,i,n){var s,o,r=location;s=this.createElement("svg").attr({version:"1.1"}),o=s.element,t.appendChild(o),t.innerHTML.indexOf("xmlns")===-1&&d(o,"xmlns",Pe),this.isSVG=!0,this.box=o,this.boxWrapper=s,this.alignedObjects=[],this.url=(Le||Ae)&&ce.getElementsByTagName("base").length?r.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ce.createTextNode("Created with Highcharts 3.0.7")),this.defs=this.createElement("defs").add(),this.forExport=n,this.gradients={},this.setSize(e,i,!1);var a;Le&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),a=t.getBoundingClientRect(),f(t,{left:ge(a.left)-a.left+"px",top:ge(a.top)-a.top+"px"})},e(),ai(de,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),M(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&li(de,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,s=n.forExport,o=p(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),r=e.childNodes,a=/style="([^"]+)"/,l=/href="(http[^"]+)"/,h=d(e,"x"),c=t.styles,u=t.textWidth,g=c&&c.lineHeight,m=r.length;m--;)e.removeChild(r[m]);u&&!t.added&&this.box.appendChild(e),o[o.length-1]===""&&o.pop(),ni(o,function(o,r){var p,m=0,o=o.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");p=o.split("|||"),ni(p,function(o){if(""!==o||p.length===1){var v,b={},y=ce.createElementNS(Pe,"tspan");if(a.test(o)&&(v=o.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(y,"style",v)),l.test(o)&&!s&&(d(y,"onclick",'location.href="'+o.match(l)[1]+'"'),f(y,{cursor:"pointer"})),o=(o.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==o&&(y.appendChild(ce.createTextNode(o)),m?b.dx=0:b.x=h,d(y,b),!m&&r&&(!De&&s&&f(y,{display:"block"}),d(y,"dy",g||n.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:c.fontSize).h,Ae&&y.offsetHeight)),e.appendChild(y),m++,u))for(var x,w,o=o.replace(/([^\^])-/g,"$1- ").split(" "),b=t._clipHeight,_=[],k=i(g||16),C=1;o.length||_.length;)delete t.bBox,x=t.getBBox(),w=x.width,!De&&n.forExport&&(w=n.measureSpanWidth(y.firstChild.data,t.styles)),x=w>u,x&&o.length!==1?(y.removeChild(y.firstChild),_.unshift(o.pop())):(o=_,_=[],o.length&&(C++,b&&C*k>b?(o=["..."],t.attr("title",t.textStr)):(y=ce.createElementNS(Pe,"tspan"),d(y,{dy:k,x:h}),v&&d(y,"style",v),e.appendChild(y),w>u&&(u=w)))),o.length&&y.appendChild(ce.createTextNode(o.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,s,o,r,a,l,h,c){var d,u,p,f,g,m,v=this.label(i,n,s,c,null,null,null,null,"button"),b=0,i={x1:0,y1:0,x2:0,y2:1},r=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return p=r.style,delete r.style,a=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),f=a.style,delete a.style,l=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),g=l.style,delete l.style,h=e(r,{style:{color:"#CCC"}},h),m=h.style,delete h.style,ai(v.element,Se?"mouseover":"mouseenter",function(){3!==b&&v.attr(a).css(f)}),ai(v.element,Se?"mouseout":"mouseleave",function(){3!==b&&(d=[r,a,l][b],u=[p,f,g][b],v.attr(d).css(u))}),v.setState=function(t){(v.state=b=t)?2===t?v.attr(l).css(g):3===t&&v.attr(h).css(m):v.attr(r).css(p)},v.on("click",function(){3!==b&&o.call(v)}).attr(r).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=pe(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=pe(t[2])+e%2/2),t},path:function(e){var i={fill:Fe};return o(e)?i.d=e:s(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=s(t)?t:{x:t,y:e,r:i},this.createElement("circle").attr(t)},arc:function(t,e,i,n,o,r){return s(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,r=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:r||0}),t.r=i,t},rect:function(t,e,i,n,o,r){return o=s(t)?t.r:o,o=this.createElement("rect").attr({rx:o,ry:o,fill:Fe}),o.attr(s(t)?t:o.crisp(r,t,e,me(i,0),me(n,0)))},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,n,s,o){var r={preserveAspectRatio:Fe};return arguments.length>1&&t(r,{x:i,y:n,width:s,height:o}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,i,n,s,o,r){var a,l,h,c=this.symbols[e],c=c&&c(pe(i),pe(n),s,o,r),d=/^url\((.*?)\)$/;return c?(a=this.path(c),t(a,{symbolName:e,x:i,y:n,width:s,height:o}),r&&t(a,r)):d.test(e)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(pe((s-e[0])/2),pe((o-e[1])/2)))},l=e.match(d)[1],e=Ne[l],a=this.image(l).attr({x:i,y:n}),a.isImg=!0,e?h(a,e):(a.attr({width:0,height:0}),g("img",{onload:function(){h(a,Ne[l]=[this.width,this.height])},src:l}))),a},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var o=s.start,i=s.r||i||n,r=s.end-.001,n=s.innerR,a=s.open,l=ye(o),h=xe(o),c=ye(r),r=xe(r),s=s.end-o<we?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,s,1,t+i*c,e+i*r,a?"M":"L",t+n*c,e+n*r,"A",n,n,0,s,0,t+n*l,e+n*h,a?"":"Z"]}},clipRect:function(t,e,i,n){var s="highcharts-"+$e++,o=this.createElement("clipPath").attr({id:s}).add(this.defs),t=this.rect(t,e,i,n,0).add(o);return t.id=s,t.clipPath=o,t},color:function(t,i,n){var s,r,a,l,h,u,p,f,g=this,m=/^rgba/,v=[];if(t&&t.linearGradient?r="linearGradient":t&&t.radialGradient&&(r="radialGradient"),r){n=t[r],a=g.gradients,h=t.stops,i=i.radialReference,o(n)&&(t[r]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&i&&!c(n.gradientUnits)&&(n=e(n,{cx:i[0]-i[2]/2+n.cx*i[2],cy:i[1]-i[2]/2+n.cy*i[2],r:n.r*i[2],gradientUnits:"userSpaceOnUse"}));for(f in n)"id"!==f&&v.push(f,n[f]);for(f in h)v.push(h[f]);return v=v.join(","),a[v]?t=a[v].id:(n.id=t="highcharts-"+$e++,a[v]=l=g.createElement(r).attr(n).add(g.defs),l.stops=[],ni(h,function(t){m.test(t[1])?(s=vi(t[1]),u=s.get("rgb"),p=s.get("a")):(u=t[1],p=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":p}).add(l),l.stops.push(t)})),"url("+g.url+"#"+t+")"}return m.test(t)?(s=vi(t),d(i,n+"-opacity",s.get("a")),s.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var s=q.chart.style,o=Ie||!De&&this.forExport;return n&&!this.forExport?this.html(t,e,i):(e=pe(p(e,0)),i=pe(p(i,0)),t=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:s.fontFamily,fontSize:s.fontSize}),o&&t.css({position:"absolute"}),t.x=e,t.y=i,t)},html:function(e,i,n){var s=q.chart.style,o=this.createElement("span"),r=o.attrSetters,a=o.element,l=o.renderer;return r.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},r.x=r.y=r.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:pe(i),y:pe(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:s.fontFamily,fontSize:s.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(e){var i,n=l.box.parentNode,s=[];if(this.parentGroup=e){if(i=e.div,!i){for(;e;)s.push(e),e=e.parentGroup;ni(s.reverse(),function(e){var s;i=e.div=e.div||g(Oe,{className:d(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||n),s=i.style,t(e.attrSetters,{translateX:function(t){s.left=t+"px"},translateY:function(t){s.top=t+"px"},visibility:function(t,e){s[e]=t}})})}}else i=n;return i.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){var t=i(t||11),t=24>t?t+4:pe(1.2*t),e=pe(.8*t);return{h:t,b:e}},label:function(i,n,s,o,r,a,l,h,d){function u(){var t,i;t=T.element.style,v=(void 0===b||void 0===y||S.styles.textAlign)&&T.getBBox(),S.width=(b||v.width||0)+2*L+M,S.height=(y||v.height||0)+2*L,_=L+C.fontMetrics(t&&t.fontSize).b,k&&(m||(t=pe(-A*L),i=h?-_:0,S.box=m=o?C.symbol(o,t,i,S.width,S.height,D):C.rect(t,i,S.width,S.height,0,D[Ke]),m.add(S)),m.isImg||m.attr(e({width:S.width,height:S.height},D)),D=null)}function p(){var t,e=S.styles,e=e&&e.textAlign,i=M+L*(1-A);t=h?0:_,!c(b)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(b-v.width)),(i!==T.x||t!==T.y)&&T.attr({x:i,y:t}),T.x=i,T.y=t}function f(t,e){m?m.attr(t,e):D[t]=e}function g(){T.add(S),S.attr({text:i,x:n,y:s}),m&&c(r)&&S.attr({anchorX:r,anchorY:a})}var m,v,b,y,x,w,_,k,C=this,S=C.g(d),T=C.text("",0,0,l).attr({zIndex:1}),A=0,L=3,M=0,P=0,D={},l=S.attrSetters;ai(S,"add",g),l.width=function(t){return b=t,!1},l.height=function(t){return y=t,!1},l.padding=function(t){return c(t)&&t!==L&&(L=t,p()),!1},l.paddingLeft=function(t){return c(t)&&t!==M&&(M=t,p()),!1},l.align=function(t){return A={left:0,center:.5,right:1}[t],!1},l.text=function(t,e){return T.attr(e,t),u(),p(),!1},l[Ke]=function(t,e){return k=!0,P=t%2/2,f(e,t),!1},l.stroke=l.fill=l.r=function(t,e){return"fill"===e&&(k=!0),f(e,t),!1},l.anchorX=function(t,e){return r=t,f(e,t+P-x),!1},l.anchorY=function(t,e){return a=t,f(e,t-w),!1},l.x=function(t){return S.x=t,t-=A*((b||v.width)+L),x=pe(t),S.attr("translateX",x),!1},l.y=function(t){return w=S.y=pe(t),S.attr("translateY",w),!1};var E=S.css;return t(S,{css:function(t){if(t){var i={},t=e(t);ni("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(e){t[e]!==W&&(i[e]=t[e],delete t[e])}),T.css(i)}return E.call(S,t)},getBBox:function(){return{width:v.width+2*L,height:v.height+2*L,x:v.x-L,y:v.y-L}},shadow:function(t){return m&&m.shadow(t),S},destroy:function(){li(S,"add",g),li(S.element,"mouseenter"),li(S.element,"mouseleave"),T&&(T=T.destroy()),m&&(m=m.destroy()),N.prototype.destroy.call(S),S=C=u=p=f=g=null}})}},X=bi;var yi;if(!De&&!Ie){Highcharts.VMLElement=yi={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=e===Oe;("shape"===e||s)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",s?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=s||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=g(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,i=this.element,n=e.box,n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),hi(this,"add"),this},updateTransform:N.prototype.htmlUpdateTransform,setSpanRotation:function(t,e,i){f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",i,", M12=",-e,", M21=",e,", M22=",i,", sizingMethod='auto expand')"].join(""):Fe})},pathToVML:function(t){for(var e,i=t.length,n=[];i--;)r(t[i])?n[i]=pe(t[i]*10)-5:t[i]==="Z"?n[i]="x":(n[i]=t[i],!t.isArc||t[i]!=="wa"&&t[i]!=="at"||(e=t[i]==="wa"?1:-1,n[i+5]===n[i+7]&&(n[i+7]-=e),n[i+6]===n[i+8]&&(n[i+8]-=e)));return n.join(" ")||"x"},attr:function(t,e){var i,s,o,a,l,h=this.element||{},u=h.style,p=h.nodeName,f=this.renderer,m=this.symbolName,v=this.shadows,b=this.attrSetters,y=this;if(n(t)&&c(e)&&(i=t,t={},t[i]=e),n(t))i=t,y="strokeWidth"===i||"stroke-width"===i?this.strokeweight:this[i];else for(i in t)if(s=t[i],l=!1,o=b[i]&&b[i].call(this,s,i),o!==!1&&null!==s){if(o!==W&&(s=o),m&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))a||(this.symbolAttr(t),a=!0),l=!0;else if("d"===i){if(s=s||[],this.d=s.join(" "),h.path=s=this.pathToVML(s),v)for(o=v.length;o--;)v[o].path=v[o].cutOff?this.cutOffPath(s,v[o].cutOff):s;l=!0}else if("visibility"===i){if(v)for(o=v.length;o--;)v[o].style[i]=s;"DIV"===p&&(s="hidden"===s?"-999em":0,Te||(u[i]=s?"visible":"hidden"),i="top"),u[i]=s,l=!0}else"zIndex"===i?(s&&(u[i]=s),l=!0):ii(i,["x","y","width","height"])!==-1?(this[i]=s,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:s=me(0,s),this.updateClipping?(this[i]=s,this.updateClipping()):u[i]=s,l=!0):"class"===i&&"DIV"===p?h.className=s:"stroke"===i?(s=f.color(s,h,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(h.stroked=s?!0:!1,i="strokeweight",this[i]=s,r(s)&&(s+="px")):"dashstyle"===i?((h.getElementsByTagName("stroke")[0]||g(f.prepVML(["<stroke/>"]),null,null,h))[i]=s||"solid",this.dashstyle=s,l=!0):"fill"===i?"SPAN"===p?u.color=s:"IMG"!==p&&(h.filled=s!==Fe?!0:!1,s=f.color(s,h,i,this),i="fillcolor"):"opacity"===i?l=!0:"shape"===p&&"rotation"===i?(this[i]=h.style[i]=s,h.style.left=-pe(xe(s*_e)+1)+"px",h.style.top=pe(ye(s*_e))+"px"):"translateX"===i||"translateY"===i||"rotation"===i?(this[i]=s,this.updateTransform(),l=!0):"text"===i&&(this.bBox=null,h.innerHTML=s,l=!0);l||(Te?h[i]=s:d(h,i,s))}return y},clip:function(t){var e,i=this;return t?(e=t.members,h(e,i),e.push(i),i.destroyClip=function(){h(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:Te?"inherit":"rect(auto)"}),i.css(t)},css:N.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),N.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=de.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n,t=t.split(/[ ,]/);return n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var s,o,r,a,l,h,c,d=[],u=this.element,f=this.renderer,m=u.style,v=u.path;if(v&&typeof v.value!="string"&&(v="x"),l=v,t){for(h=p(t.width,3),c=(t.opacity||.15)/h,s=1;3>=s;s++)a=2*h+1-2*s,n&&(l=this.cutOffPath(v.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],o=g(f.prepVML(r),null,{left:i(m.left)+p(t.offsetX,1),top:i(m.top)+p(t.offsetY,1)}),n&&(o.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',c*s,'"/>'],g(f.prepVML(r),null,null,o),e?e.element.appendChild(o):u.parentNode.insertBefore(o,u),d.push(o);this.shadows=d}return this}},yi=m(N,yi);var xi={Element:yi,isIE8:ke.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,s;if(this.alignedObjects=[],n=this.createElement(Oe),s=n.element,s.style.position="relative",t.appendChild(n.element),this.isVML=!0,this.box=s,this.boxWrapper=n,this.setSize(e,i,!1),!ce.namespaces.hcv){ce.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ce.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){ce.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,o){var r=this.createElement(),a=s(e);return t(r,{members:[],left:(a?e.x:e)+1,top:(a?e.y:i)+1,width:(a?e.width:n)-1,height:(a?e.height:o)-1,getCSS:function(e){var i=e.element,n=i.nodeName,e=e.inverted,s=this.top-("shape"===n?i.offsetTop:0),o=this.left,i=o+this.width,r=s+this.height,s={clip:"rect("+pe(e?o:s)+"px,"+pe(e?r:i)+"px,"+pe(e?i:r)+"px,"+pe(e?s:o)+"px)"};return!e&&Te&&"DIV"===n&&t(s,{width:i+"px",height:r+"px"}),s},updateClipping:function(){ni(r.members,function(t){t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var s,o,r,a=this,l=/^rgba/,h=Fe;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var c,d,u,p,f,m,v,b,y=t.linearGradient||t.radialGradient,x="",t=t.stops,w=[],_=function(){o=['<fill colors="'+w.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',r,'" ',x,'focus="100%" method="any" />'],g(a.prepVML(o),null,null,e)};if(u=t[0],b=t[t.length-1],u[0]>0&&t.unshift([0,u[1]]),b[0]<1&&t.push([1,b[1]]),ni(t,function(t,e){l.test(t[1])?(s=vi(t[1]),c=s.get("rgb"),d=s.get("a")):(c=t[1],d=1),w.push(t[0]*100+"% "+c),e?(f=d,m=c):(p=d,v=c)}),"fill"===i)if("gradient"===r)i=y.x1||y[0]||0,t=y.y1||y[1]||0,u=y.x2||y[2]||0,y=y.y2||y[3]||0,x='angle="'+(90-ue.atan((y-t)/(u-i))*180/we)+'"',_();else{var k,h=y.r,C=2*h,S=2*h,T=y.cx,A=y.cy,L=e.radialReference,h=function(){L&&(k=n.getBBox(),T+=(L[0]-k.x)/k.width-.5,A+=(L[1]-k.y)/k.height-.5,C*=L[2]/k.width,S*=L[2]/k.height),x='src="'+q.global.VMLRadialGradientURL+'" size="'+C+","+S+'" origin="0.5,0.5" position="'+T+","+A+'" color2="'+v+'" ',_()};n.added?h():ai(n,"add",h),h=m}else h=c}else l.test(t)&&e.tagName!=="IMG"?(s=vi(t),o=["<",i,' opacity="',s.get("a"),'"/>'],g(this.prepVML(o),null,null,e),h=s.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:bi.prototype.html,path:function(e){var i={coordsize:"10 10"};return o(e)?i.d=e:s(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return s(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Oe).attr(e)},image:function(t,e,i,n,s){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:s}),o},rect:function(t,e,i,n,o,r){var a=this.symbol("rect");return a.r=s(t)?t.r:o,a.attr(s(t)?t:a.crisp(r,t,e,me(i,0),me(n,0)))},invertChild:function(t,e){var n=e.style;f(t,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,s){var o=s.start,r=s.end,a=s.r||i||n,i=s.innerR,n=ye(o),l=xe(o),h=ye(r),c=xe(r);return 0===r-o?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*h,e+a*c],s.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,s){return s&&(i=n=2*s.r),s&&s.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){var o,r=t+i,a=e+n;return c(s)&&s.r?(o=ve(s.r,i,n),r=["M",t+o,e,"L",r-o,e,"wa",r-2*o,e,r,e+2*o,r-o,e,r,e+o,"L",r,a-o,"wa",r-2*o,a-2*o,r,a,r,a-o,r-o,a,"L",t+o,a,"wa",t,a-2*o,t+2*o,a,t+o,a,t,a-o,"L",t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]):r=bi.prototype.symbols.square.apply(0,arguments),r}}};Highcharts.VMLRenderer=yi=function(){this.init.apply(this,arguments)},yi.prototype=e(bi.prototype,xi),X=yi}bi.prototype.measureSpanWidth=function(t,e){var i=ce.createElement("span"),n=ce.createTextNode(t);return i.appendChild(n),f(i,e),this.box.appendChild(i),i.offsetWidth};var wi;Ie&&(Highcharts.CanVGRenderer=yi=function(){Pe="http://www.w3.org/1999/xhtml"},yi.prototype.symbols={},wi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){e.length===0&&ei(n,t),e.push(i)}}}(),X=yi),$.prototype={addLabel:function(){var e,i=this.axis,n=i.options,s=i.chart,o=i.horiz,a=i.categories,h=i.names,d=this.pos,u=n.labels,f=i.tickPositions,o=o&&a&&!u.step&&!u.staggerLines&&!u.rotation&&s.plotWidth/f.length||!o&&(s.margin[3]||s.chartWidth*.33),g=d===f[0],m=d===f[f.length-1],h=a?p(a[d],h[d],d):d,a=this.label,v=f.info;i.isDatetimeAxis&&v&&(e=n.dateTimeLabelFormats[v.higherRanks[d]||v.unitName]),this.isFirst=g,this.isLast=m,n=i.labelFormatter.call({axis:i,chart:s,isFirst:g,isLast:m,dateTimeLabelFormat:e,value:i.isLog?E(l(h)):h}),d=o&&{width:me(1,pe(o-2*(u.padding||10)))+"px"},d=t(d,u.style),c(a)?a&&a.attr({text:n}).css(d):(e={align:i.labelAlign},r(u.rotation)&&(e.rotation=u.rotation),o&&u.ellipsis&&(e._clipHeight=i.len/f.length),this.label=c(n)&&u.enabled?s.renderer.text(n,0,0,u.useHTML).attr(e).css(d).add(i.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.axis,e=this.labelBBox.width,t=e*{left:0,center:.5,right:1}[t.labelAlign]-t.options.labels.x;return[-t,e-t]},handleOverflow:function(t,e){var i=!0,n=this.axis,s=n.chart,o=this.isFirst,r=this.isLast,a=e.x,l=n.reversed,h=n.tickPositions;if(o||r){var c=this.getLabelSides(),d=c[0],c=c[1],s=s.plotLeft,u=s+n.len,h=(n=n.ticks[h[t+(o?1:-1)]])&&n.label.xy&&n.label.xy.x+n.getLabelSides()[o?0:1];o&&!l||r&&l?s>a+d&&(a=s-d,n&&a+c>h&&(i=!1)):a+c>u&&(a=u-c,n&&h>a+d&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,n){var s=this.axis,o=s.chart,r=n&&o.oldChartHeight||o.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&o.oldChartWidth||o.chartWidth)-s.right-s.left:0),y:t?r-s.bottom+s.offset-(s.opposite?s.height:0):r-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,i,n,s,o,r,a){var l=this.axis,h=l.transA,d=l.reversed,u=l.staggerLines,p=l.chart.renderer.fontMetrics(s.style.fontSize).b,f=s.rotation,t=t+s.x-(o&&n?o*h*(d?-1:1):0),e=e+s.y-(o&&!n?o*h*(d?1:-1):0);return f&&l.side===2&&(e-=p-p*ye(f*_e)),!c(s.y)&&!f&&(e+=p-i.getBBox().height/2),u&&(e+=r/(a||1)%u*(l.labelOffset/u)),{x:t,y:e}},getMarkPath:function(t,e,i,n,s,o){return o.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,s=n.options,o=n.chart.renderer,r=n.horiz,a=this.type,l=this.label,h=this.pos,c=s.labels,d=this.gridLine,u=a?a+"Grid":"grid",f=a?a+"Tick":"tick",g=s[u+"LineWidth"],m=s[u+"LineColor"],v=s[u+"LineDashStyle"],b=s[f+"Length"],u=s[f+"Width"]||0,y=s[f+"Color"],x=s[f+"Position"],f=this.mark,w=c.step,_=!0,k=n.tickmarkOffset,C=this.getPosition(r,h,k,e),S=C.x,C=C.y,T=r&&S===n.pos+n.len||!r&&C===n.pos?-1:1,A=n.staggerLines;this.isActive=!0,g&&(h=n.getPlotLinePath(h+k,g*T,e,!0),d===W&&(d={stroke:m,"stroke-width":g},v&&(d.dashstyle=v),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=g?o.path(h).attr(d).add(n.gridGroup):null),!e&&d&&h&&d[this.isNew?"attr":"animate"]({d:h,opacity:i})),u&&b&&("inside"===x&&(b=-b),n.opposite&&(b=-b),e=this.getMarkPath(S,C,b,u*T,r,o),f?f.animate({d:e,opacity:i}):this.mark=o.path(e).attr({stroke:y,"stroke-width":u,opacity:i}).add(n.axisGroup)),l&&!isNaN(S)&&(l.xy=C=this.getLabelPosition(S,C,l,r,c,k,t,w),this.isFirst&&!this.isLast&&!p(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(s.showLastLabel,1)?_=!1:!A&&r&&c.overflow==="justify"&&!this.handleOverflow(t,C)&&(_=!1),w&&t%w&&(_=!1),_&&!isNaN(C.y)?(C.opacity=i,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999))},destroy:function(){M(this,this.axis)}},B.prototype={render:function(){var t,i=this,n=i.axis,s=n.horiz,o=(n.pointRange||0)/2,r=i.options,l=r.label,h=i.label,d=r.width,u=r.to,f=r.from,g=c(f)&&c(u),m=r.value,v=r.dashStyle,b=i.svgElem,y=[],x=r.color,w=r.zIndex,_=r.events,k=n.chart.renderer;if(n.isLog&&(f=a(f),u=a(u),m=a(m)),d)y=n.getPlotLinePath(m,d),o={stroke:x,"stroke-width":d},v&&(o.dashstyle=v);else{if(!g)return;f=me(f,n.min-o),u=ve(u,n.max+o),y=n.getPlotBandPath(f,u,r),o={fill:x},r.borderWidth&&(o.stroke=r.borderColor,o["stroke-width"]=r.borderWidth)}if(c(w)&&(o.zIndex=w),b)y?b.animate({d:y},null,b.onGetPath):(b.hide(),b.onGetPath=function(){b.show()},h&&(i.label=h=h.destroy()));else if(y&&y.length&&(i.svgElem=b=k.path(y).attr(o).add(),_))for(t in r=function(t){b.on(t,function(e){_[t].apply(i,[e])})},_)r(t);return l&&c(l.text)&&y&&y.length&&n.width>0&&n.height>0?(l=e({align:s&&g&&"center",x:s?!g&&4:10,verticalAlign:!s&&g&&"middle",y:s?g?16:10:g?6:-4,rotation:s&&!g&&90},l),h||(i.label=h=k.text(l.text,0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,zIndex:w}).css(l.style).add()),n=[y[1],y[4],p(y[6],y[1])],y=[y[2],y[5],p(y[7],y[2])],s=A(n),g=A(y),h.align(l,!1,{x:s,y:g,width:L(n)-s,height:L(y)-g}),h.show()):h&&h.hide(),i},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,M(this)}},R.prototype={destroy:function(){M(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?x(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,s=n.inverted,o=this.isNegative,r=i.translate(this.percent?100:this.total,0,0,0,1),i=i.translate(0),i=be(r-i),a=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,o={x:s?o?r:r-i:a,y:s?l-a-e:o?l-r-i:l-r,width:s?i:e,height:s?e:i};(s=this.label)&&(s.align(this.alignOptions,null,o),o=s.alignAttr,s.attr({visibility:this.options.crop===!1||n.isInsidePlot(o.x,o.y)?De?"inherit":"visible":"hidden"}))}},O.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Je,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Je.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.xOrY=(this.isXAxis=i)?"x":"y",this.opposite=e.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(e);var n=this.options,s=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===s,this.names=[],this.isLog="logarithmic"===s,this.isDatetimeAxis="datetime"===s,this.isLinked=c(n.linkedTo),this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stackExtremes={},this.min=this.max=null;var o,n=this.options.events;ii(this,t.axes)===-1&&(t.axes.push(this),t[i?"xAxis":"yAxis"].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===W&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in n)ai(this,o,n[o]);this.isLog&&(this.val2lin=a,this.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(q[this.isXAxis?"xAxis":"yAxis"],t))
},update:function(i,n){var s=this.chart,i=s.options[this.xOrY+"Axis"][this.options.index]=e(this.userOptions,i);this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=W,this.init(s,t(i,{events:W})),s.isDirtyBox=!0,p(n,!0)&&s.redraw()},remove:function(t){var e=this.chart,i=this.xOrY+"Axis";ni(this.series,function(t){t.remove(!1)}),h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),ni(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,p(t,!0)&&e.redraw()},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,s=this.dateTimeLabelFormat,o=q.lang.numericSymbols,r=o&&o.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=x(a,this);else if(n)t=i;else if(s)t=V(s,i);else if(r&&e>=1e3)for(;r--&&t===W;)n=Math.pow(1e3,r+1),e>=n&&o[r]!==null&&(t=v(i/n,-1)+o[r]);return t===W&&(t=i>=1e3?v(i,0):v(i,-1)),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),ni(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var s;t.hasVisibleSeries=!0,t.isLog&&0>=n&&(n=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=ve(p(t.dataMin,n[0]),A(n)),t.dataMax=me(p(t.dataMax,n[0]),L(n)))):(i.getExtremes(),s=i.dataMax,i=i.dataMin,c(i)&&c(s)&&(t.dataMin=ve(p(t.dataMin,i),i),t.dataMax=me(p(t.dataMax,s),s)),c(n)&&(t.dataMin>=n?(t.dataMin=n,t.ignoreMinPadding=!0):t.dataMax<n&&(t.dataMax=n,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,s,o){var a=this.len,l=1,h=0,c=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,d=this.minPixelPadding,s=(this.options.ordinal||this.isLog&&s)&&this.lin2val;return c||(c=this.transA),i&&(l*=-1,h=a),this.reversed&&(l*=-1,h-=l*a),e?(t=t*l+h,t-=d,t=t/c+n,s&&(t=this.lin2val(t))):(s&&(t=this.val2lin(t)),"between"===o&&(o=.5),t=l*(t-n)*c+h+l*d+(r(o)?c*o*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n){var s,o,r,a,l=this.chart,h=this.left,c=this.top,t=this.translate(t,null,null,i),d=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;return s=this.transB,i=o=pe(t+s),s=r=pe(d-t-s),isNaN(t)?a=!0:this.horiz?(s=c,r=d-this.bottom,(h>i||i>h+this.width)&&(a=!0)):(i=h,o=u-this.right,(c>s||s>c+this.height)&&(a=!0)),a&&!n?null:l.renderer.crispLine(["M",i,s,"L",o,r],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(t,e,i){for(var n,e=E(fe(e/t)*t),i=E(ge(i/t)*t),s=[];i>=e&&(s.push(e),e=E(e+t),e!==n);)n=e;return s},getLogTickPositions:function(t,e,i,n){var s=this.options,o=this.len,r=[];if(n||(this._minorAutoInterval=null),t>=.5)t=pe(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,d,u,f,o=fe(e),s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>o&&!f;o++)for(c=s.length,h=0;c>h&&!f;h++)d=a(l(o)*s[h]),d>e&&(!n||i>=u)&&r.push(u),u>i&&(f=!0),u=d;else e=l(e),i=l(i),t=s[n?"minorTickInterval":"tickInterval"],t=p("auto"===t?null:t,this._minorAutoInterval,(i-e)*(s.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),t=_(t,null,w(t)),r=ri(this.getLinearTickPositions(t,e,i),a),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[];if(this.isLog)for(t=i.length,e=1;t>e;e++)s=s.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")s=s.concat(C(k(n),this.min,this.max,e.startOfWeek)),s[0]<this.min&&s.shift();else for(i=this.min+(i[0]-this.min)%n;i<=this.max;i+=n)s.push(i);return s},adjustForMinRange:function(){var t,e,i,n,s,o,r=this.options,a=this.min,l=this.max,h=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===W&&!this.isLog&&(c(r.min)||c(r.max)?this.minRange=null:(ni(this.series,function(t){for(s=t.xData,i=o=t.xIncrement?1:s.length-1;i>0;i--)n=s[i]-s[i-1],(e===W||e>n)&&(e=n)}),this.minRange=ve(5*e,this.dataMax-this.dataMin))),l-a<this.minRange){var d=this.minRange;t=(d-l+a)/2,t=[a-t,p(r.min,a-t)],h&&(t[2]=this.dataMin),a=L(t),l=[a+d,p(r.max,a+d)],h&&(l[2]=this.dataMax),l=A(l),d>l-a&&(t[0]=l-d,t[1]=p(r.min,l-d),a=L(t))}this.min=a,this.max=l},setAxisTranslation:function(t){var e,i=this.max-this.min,s=0,o=0,r=0,a=this.linkedParent,l=this.transA;this.isXAxis&&(a?(o=a.minPointOffset,r=a.pointRangePadding):ni(this.series,function(t){var a=t.pointRange,l=t.options.pointPlacement,h=t.closestPointRange;a>i&&(a=0),s=me(s,a),o=me(o,n(l)?0:a/2),r=me(r,"on"===l?0:a),!t.noSharedTooltip&&c(h)&&(e=c(e)?ve(e,h):h)}),a=this.ordinalSlope&&e?this.ordinalSlope/e:1,this.minPointOffset=o*=a,this.pointRangePadding=r*=a,this.pointRange=ve(s,i),this.closestPointRange=e),t&&(this.oldTransA=l),this.translationSlope=this.transA=l=this.len/(i+r||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=l*o},setTickPositions:function(t){var e,i=this,n=i.chart,s=i.options,o=i.isLog,r=i.isDatetimeAxis,l=i.isXAxis,h=i.isLinked,d=i.options.tickPositioner,u=s.maxPadding,f=s.minPadding,g=s.tickInterval,m=s.minTickInterval,v=s.tickPixelInterval,b=i.categories;h?(i.linkedParent=n[l?"xAxis":"yAxis"][s.linkedTo],n=i.linkedParent.getExtremes(),i.min=p(n.min,n.dataMin),i.max=p(n.max,n.dataMax),s.type!==i.linkedParent.options.type&&D(11,1)):(i.min=p(i.userMin,s.min,i.dataMin),i.max=p(i.userMax,s.max,i.dataMax)),o&&(!t&&ve(i.min,p(i.dataMin,i.min))<=0&&D(10,1),i.min=E(a(i.min)),i.max=E(a(i.max))),i.range&&(i.userMin=i.min=me(i.min,i.max-i.range),i.userMax=i.max,t)&&(i.range=null),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),!b&&!i.usePercentage&&!h&&c(i.min)&&c(i.max)&&(n=i.max-i.min)&&(c(s.min)||c(i.userMin)||!f||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=n*f),c(s.max)||c(i.userMax)||!u||!(i.dataMax>0)&&i.ignoreMaxPadding||(i.max+=n*u)),i.min===i.max||i.min===void 0||i.max===void 0?i.tickInterval=1:h&&!g&&v===i.linkedParent.options.tickPixelInterval?i.tickInterval=i.linkedParent.tickInterval:(i.tickInterval=p(g,b?1:(i.max-i.min)*v/me(i.len,v)),!c(g)&&i.len<v&&!this.isRadial&&(e=!0,i.tickInterval/=4)),l&&!t&&ni(i.series,function(t){t.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&(i.tickInterval=me(i.pointRange,i.tickInterval)),!g&&i.tickInterval<m&&(i.tickInterval=m),r||o||g||(i.tickInterval=_(i.tickInterval,null,w(i.tickInterval),s)),i.minorTickInterval=s.minorTickInterval==="auto"&&i.tickInterval?i.tickInterval/5:s.minorTickInterval,i.tickPositions=t=s.tickPositions?[].concat(s.tickPositions):d&&d.apply(i,[i.min,i.max]),t||(!i.ordinalPositions&&(i.max-i.min)/i.tickInterval>me(2*i.len,200)&&D(19,!0),t=r?(i.getNonLinearTimeTicks||C)(k(i.tickInterval,s.units),i.min,i.max,s.startOfWeek,i.ordinalPositions,i.closestPointRange,!0):o?i.getLogTickPositions(i.tickInterval,i.min,i.max):i.getLinearTickPositions(i.tickInterval,i.min,i.max),e&&t.splice(1,t.length-2),i.tickPositions=t),h||(o=t[0],r=t[t.length-1],h=i.minPointOffset||0,s.startOnTick?i.min=o:i.min-h>o&&t.shift(),s.endOnTick?i.max=r:i.max+h<r&&t.pop(),t.length===1&&(i.min-=.001,i.max+=.001))},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var n=this.tickAmount,s=e.length;if(this.tickAmount=t=i[t],t>s){for(;e.length<t;)e.push(E(e[e.length-1]+this.tickInterval));this.transA*=(s-1)/(t-1),this.max=e[e.length-1]}c(n)&&t!==n&&(this.isDirty=!0)}},setScale:function(){var t,e,i,n,s=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,ni(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in s)for(e in s[t])s[t][e].total=null,s[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(s=this.stacks=this.oldStacks);for(t in s)for(e in s[t])s[t][e].cum=s[t][e].total}this.setMaxTicks()},setExtremes:function(e,i,n,s,o){var r=this,a=r.chart,n=p(n,!0),o=t(o,{min:e,max:i});hi(r,"setExtremes",o,function(){r.userMin=e,r.userMax=i,r.eventArgs=o,r.isDirtyExtremes=!0,n&&a.redraw(s)})},zoom:function(t,e){return this.allowZoomOutside||(c(this.dataMin)&&t<=this.dataMin&&(t=W),c(this.dataMax)&&e>=this.dataMax&&(e=W)),this.displayBtn=t!==W||e!==W,this.setExtremes(t,e,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i=this.chart,n=this.options,s=n.offsetLeft||0,o=n.offsetRight||0,r=this.horiz;this.left=e=p(n.left,i.plotLeft+s),this.top=t=p(n.top,i.plotTop),this.width=s=p(n.width,i.plotWidth-s+o),this.height=n=p(n.height,i.plotHeight),this.bottom=i.chartHeight-n-t,this.right=i.chartWidth-s-e,this.len=me(r?s:n,0),this.pos=r?e:t},getExtremes:function(){var t=this.isLog;return{min:t?E(l(this.min)):this.min,max:t?E(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?l(this.min):this.min,e=e?l(this.max):this.max;return i>t||null===t?t=i:t>e&&(t=e),this.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new B(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},autoLabelAlign:function(t){return t=(p(t,0)-this.side*90+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},getOffset:function(){var t,e,i,n,s,o,r,a=this,l=a.chart,h=l.renderer,d=a.options,u=a.tickPositions,f=a.ticks,g=a.horiz,m=a.side,v=l.inverted?[1,0,3,2][m]:m,b=0,y=0,x=d.title,w=d.labels,_=0,k=l.axisOffset,C=l.clipOffset,S=[-1,1,1,-1][m],T=1,A=p(w.maxStaggerLines,5);if(a.hasData=t=a.hasVisibleSeries||c(a.min)&&c(a.max)&&!!u,a.showAxis=l=t||p(d.showEmpty,!0),a.staggerLines=a.horiz&&w.staggerLines,a.axisGroup||(a.gridGroup=h.g("grid").attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=h.g("axis").attr({zIndex:d.zIndex||2}).add(),a.labelGroup=h.g("axis-labels").attr({zIndex:w.zIndex||7}).add()),t||a.isLinked){if(a.labelAlign=p(w.align||a.autoLabelAlign(w.rotation)),ni(u,function(t){f[t]?f[t].addLabel():f[t]=new $(a,t)}),a.horiz&&!a.staggerLines&&A&&!w.rotation){for(i=a.reversed?[].concat(u).reverse():u;A>T;){for(t=[],n=!1,w=0;w<i.length;w++)s=i[w],o=(o=f[s].label&&f[s].label.getBBox())?o.width:0,r=w%T,o&&(s=a.translate(s),t[r]!==W&&s<t[r]&&(n=!0),t[r]=s+o);if(!n)break;T++}T>1&&(a.staggerLines=T)}ni(u,function(t){(0===m||2===m||{1:"left",3:"right"}[m]===a.labelAlign)&&(_=me(f[t].getLabelSize(),_))}),a.staggerLines&&(_*=a.staggerLines,a.labelOffset=_)}else for(i in f)f[i].destroy(),delete f[i];x&&x.text&&x.enabled!==!1&&(a.axisTitle||(a.axisTitle=h.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).css(x.style).add(a.axisGroup),a.axisTitle.isNew=!0),l&&(b=a.axisTitle.getBBox()[g?"height":"width"],y=p(x.margin,g?5:10),e=x.offset),a.axisTitle[l?"show":"hide"]()),a.offset=S*p(d.offset,k[m]),a.axisTitleMargin=p(e,_+y+(2!==m&&_&&S*d.labels[g?"y":"x"])),k[m]=me(k[m],a.axisTitleMargin+b+S*a.offset),C[v]=me(C[v],fe(d.lineWidth/2)*2)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:o,s?n:this.top,"L",s?e.chartWidth-this.right:o,s?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,s=this.len,o=this.options.title,r=t?e:n,a=this.opposite,l=this.offset,h=i(o.style.fontSize||12),s={low:r+(t?0:s),middle:r+s/2,high:r+(t?s:0)}[o.align],e=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(this.side===2?h:0);return{x:t?s:e+(a?this.width:0)+l+(o.x||0),y:t?e-(a?this.height:0)+l:s+(o.y||0)}},render:function(){var t,e=this,i=e.chart,n=i.renderer,s=e.options,o=e.isLog,r=e.isLinked,a=e.tickPositions,h=e.axisTitle,d=e.stacks,u=e.ticks,p=e.minorTicks,f=e.alternateBands,g=s.stackLabels,m=s.alternateGridColor,v=e.tickmarkOffset,b=s.lineWidth,y=i.hasRendered&&c(e.oldMin)&&!isNaN(e.oldMin);t=e.hasData;var x,w,_=e.showAxis;if(ni([u,p,f],function(t){for(var e in t)t[e].isActive=!1}),(t||r)&&(e.minorTickInterval&&!e.categories&&ni(e.getMinorTickPositions(),function(t){p[t]||(p[t]=new $(e,t,"minor")),y&&p[t].isNew&&p[t].render(null,!0),p[t].render(null,!1,1)}),a.length&&(ni(a.slice(1).concat([a[0]]),function(t,i){i=i===a.length-1?0:i+1,(!r||t>=e.min&&t<=e.max)&&(u[t]||(u[t]=new $(e,t)),y&&u[t].isNew&&u[t].render(i,!0),u[t].render(i,!1,1))}),v&&e.min===0&&(u[-1]||(u[-1]=new $(e,-1,null,!0)),u[-1].render(-1))),m&&ni(a,function(t,i){0===i%2&&t<e.max&&(f[t]||(f[t]=new B(e)),x=t+v,w=a[i+1]!==W?a[i+1]+v:e.max,f[t].options={from:o?l(x):x,to:o?l(w):w,color:m},f[t].render(),f[t].isActive=!0)}),e._addedPlotLB||(ni((s.plotLines||[]).concat(s.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0)),ni([u,p,f],function(t){var e,n,s=[],o=U?U.duration||500:0,r=function(){for(n=s.length;n--;)t[s[n]]&&!t[s[n]].isActive&&(t[s[n]].destroy(),delete t[s[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,s.push(e));t!==f&&i.hasRendered&&o?o&&setTimeout(r,o):r()}),b&&(t=e.getLinePath(b),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=n.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(e.axisGroup),e.axisLine[_?"show":"hide"]()),h&&_&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1),g&&g.enabled){var k,C,s=e.stackTotalGroup;s||(e.stackTotalGroup=s=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(i.plotLeft,i.plotTop);for(k in d)for(C in n=d[k])n[C].render(s)}e.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();ni([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&h(e,e[s])})},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this.chart.pointer;t.reset&&t.reset(!0),this.render(),ni(this.plotLinesAndBands,function(t){t.render()}),ni(this.series,function(t){t.isDirty=!0})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){for(;e--;)t[e].setStackedPoints();if(this.usePercentage)for(e=0;e<t.length;e++)t[e].setPercentStacks()}},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(t){var e,i=this,n=i.stacks,s=i.plotLinesAndBands;t||li(i);for(e in n)M(n[e]),n[e]=null;for(ni([i.ticks,i.minorTicks,i.alternateBands],function(t){M(t)}),t=s.length;t--;)s[t].destroy();ni("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){i[t]&&(i[t]=i[t].destroy())})}},F.prototype={init:function(t,e){var n=e.borderWidth,s=e.style,o=i(s.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(s).css({padding:0}).add().attr({y:-999}),Ie||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){ni(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,s){var o=this,r=o.now,a=o.options.animation!==!1&&!o.isHidden;t(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+i)/2:i,anchorX:a?(2*r.anchorX+n)/3:n,anchorY:a?(r.anchorY+s)/2:s}),o.label.attr(r),a&&(be(e-r.x)>1||be(i-r.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,n,s)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},p(this.options.hideDelay,500)),t&&ni(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){ni(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,n,s=this.chart,o=s.inverted,r=s.plotTop,a=0,l=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===W&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-r]),i||(ni(t,function(t){n=t.series.yAxis,a+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-r:0)}),a/=t.length,l/=t.length,i=[o?s.plotWidth-l:a,this.shared&&!o&&t.length>1&&e?e.chartY-r:o?s.plotHeight-a:l]),ri(i,pe)},getPosition:function(t,e,i){var n,s=this.chart,o=s.plotLeft,r=s.plotTop,a=s.plotWidth,l=s.plotHeight,h=p(this.options.distance,12),c=i.plotX,i=i.plotY,s=c+o+(s.inverted?h:-t-h),d=i-e+r+15;return 7>s&&(s=o+me(c,0)+h),s+t>o+a&&(s-=s+t-(o+a),d=i-e+r-h,n=!0),r+5>d&&(d=r+5,n&&i>=d&&d+e>=i&&(d=i+r+h)),d+e>r+l&&(d=me(r,r+l-e-h)),{x:s,y:d}},defaultFormatter:function(t){var e,i=this.points||u(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],ni(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,s,o=this.chart,r=this.label,l=this.options,h={},c=[];s=l.formatter||this.defaultFormatter;var d,h=o.hoverPoints,f=l.crosshairs,g=this.shared;if(clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,n=this.getAnchor(t,e),i=n[0],n=n[1],!g||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(o.hoverPoints=t,h&&ni(h,function(t){t.setState()}),ni(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=c,t=t[0]),s=s.call(h,this),h=t.series,s===!1?this.hide():(this.isHidden&&(ui(r),r.attr("opacity",1).show()),r.attr({text:s}),d=l.borderColor||t.color||h.color||"#606060",r.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),f)for(f=u(f),r=f.length;r--;)g=t.series,l=g[r?"yAxis":"xAxis"],f[r]&&l&&(h=r?p(t.stackY,t.y):t.x,l.isLog&&(h=a(h)),1===r&&g.modifyValue&&(h=g.modifyValue(h)),l=l.getPlotLinePath(h,1),this.crosshairs[r]?this.crosshairs[r].attr({d:l,visibility:"visible"}):(h={"stroke-width":f[r].width||1,stroke:f[r].color||"#C0C0C0",zIndex:f[r].zIndex||2},f[r].dashStyle&&(h.dashstyle=f[r].dashStyle),this.crosshairs[r]=o.renderer.path(l).attr(h).add()));hi(o,"tooltipRefresh",{text:s,x:i+o.plotLeft,y:n+o.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(pe(i.x),pe(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}},j.prototype={init:function(t,e){var i,n=e.chart,s=n.events,o=Ie?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!n||o&&n,this.zoomVert=o&&!n||i&&n,this.runChartClick=s&&!!s.click,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new F(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,i){var n,s,e=e||de.event;return e.target||(e.target=e.srcElement),e=ci(e),s=e.touches?e.touches.item(0):e,i||(this.chartPosition=i=oi(this.chart.container)),s.pageX===W?(n=me(e.x,e.clientX-i.left),s=e.y):(n=s.pageX-i.left,s=s.pageY-i.top),t(e,{chartX:pe(n),chartY:pe(s)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ni(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,s=this.chart,o=s.series,r=s.tooltip,a=s.hoverPoint,l=s.hoverSeries,h=s.chartWidth,c=this.getIndex(t);if(r&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(e=[],i=o.length,n=0;i>n;n++)o[n].visible&&o[n].options.enableMouseTracking!==!1&&!o[n].noSharedTooltip&&o[n].tooltipPoints.length&&(s=o[n].tooltipPoints[c])&&s.series&&(s._dist=be(c-s.clientX),h=ve(h,s._dist),e.push(s));for(i=e.length;i--;)e[i]._dist>h&&e.splice(i,1);e.length&&e[0].clientX!==this.hoverX&&(r.refresh(e,t),this.hoverX=e[0].clientX)}l&&l.tracker?(s=l.tooltipPoints[c])&&s!==a&&s.onMouseOver(t):r&&r.followPointer&&!r.isHidden&&(t=r.getAnchor([{}],t),r.updatePosition({plotX:t[0],plotY:t[1]}))},reset:function(t){var e=this.chart,i=e.hoverSeries,n=e.hoverPoint,s=e.tooltip,e=s&&s.shared?e.hoverPoints:n;(t=t&&s&&e)&&u(e)[0].plotX===W&&(t=!1),t?s.refresh(e):(n&&n.onMouseOut(),i&&i.onMouseOut(),s&&(s.hide(),s.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;ni(n.series,function(s){i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},pinchTranslate:function(t,e,i,n,s,o,r,a){t&&this.pinchTranslateDirection(!0,i,n,s,o,r,a),e&&this.pinchTranslateDirection(!1,i,n,s,o,r,a)},pinchTranslateDirection:function(t,e,i,n,s,o,r,a){var l,h,c,d=this.chart,u=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],v=a||1,b=d.inverted,y=d.bounds[t?"h":"v"],x=e.length===1,w=e[0][f],_=i[0][f],k=!x&&e[1][f],C=!x&&i[1][f],i=function(){!x&&be(w-k)>20&&(v=a||be(_-C)/be(w-k)),h=(m-_)/v+w,l=d["plot"+(t?"Width":"Height")]/v};i(),e=h,e<y.min?(e=y.min,c=!0):e+l>y.max&&(e=y.max-l,c=!0),c?(_-=.8*(_-r[u][0]),x||(C-=.8*(C-r[u][1])),i()):r[u]=[_,C],b||(o[u]=h-m,o[g]=l),o=b?1/v:v,s[g]=l,s[u]=e,n[b?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=o*m+(_-o*w)},pinch:function(e){var i=this,n=i.chart,s=i.pinchDown,o=n.tooltip&&n.tooltip.options.followTouchMove,r=e.touches,a=r.length,l=i.lastValidTouch,h=i.zoomHor||i.pinchHor,c=i.zoomVert||i.pinchVert,d=h||c,u=i.selectionMarker,p={},f=1===a&&(i.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||n.runChartClick),g={};(d||o)&&!f&&e.preventDefault(),ri(r,function(t){return i.normalize(t)}),e.type==="touchstart"?(ni(r,function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[s[0].chartX,s[1]&&s[1].chartX],l.y=[s[0].chartY,s[1]&&s[1].chartY],ni(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),r=ve(s,o),s=me(s,o);e.min=ve(t.pos,r-i),e.max=me(t.pos+t.len,s+i)}})):s.length&&(u||(i.selectionMarker=u=t({destroy:Be},n.plotBox)),i.pinchTranslate(h,c,s,r,p,u,g,l),i.hasPinched=d,i.scaleGroups(p,g),!d&&o&&1===a&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,s=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,d=i.plotHeight,u=this.mouseDownX,p=this.mouseDownY;l>s?s=l:s>l+c&&(s=l+c),h>o?o=h:o>h+d&&(o=h+d),this.hasDragged=Math.sqrt(Math.pow(u-s,2)+Math.pow(p-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(u-l,p-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,h,r?1:c,a?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&r&&(s-=u,this.selectionMarker.attr({width:be(s),x:(s>0?0:s)+u})),this.selectionMarker&&a&&(s=o-p,this.selectionMarker.attr({height:be(s),y:(s>0?0:s)+p})),e&&!this.selectionMarker&&n.panning&&i.pan(t,n.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},r=this.selectionMarker,a=r.x,l=r.y;(this.hasDragged||n)&&(ni(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?a:l),e=t.toValue(e?a+r.width:l+r.height);!isNaN(i)&&!isNaN(e)&&(o[t.xOrY+"Axis"].push({axis:t,min:ve(i,e),max:me(i,e)}),s=!0)}}),s&&hi(i,"selection",o,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries,t=this.normalize(t,i);i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart,t=this.normalize(t);t.returnValue=!1,e.mouseIsDown==="mousedown"&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=d(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;!e||e.options.stickyTracking||this.inClass(t.toElement||t.relatedTarget,"highcharts-tooltip")||e.onMouseOut()},onContainerClick:function(e){var i,n,s,o=this.chart,r=o.hoverPoint,a=o.plotLeft,l=o.plotTop,h=o.inverted,e=this.normalize(e);e.cancelBubble=!0,o.cancelClick||(r&&this.inClass(e.target,"highcharts-tracker")?(i=this.chartPosition,n=r.plotX,s=r.plotY,t(r,{pageX:i.left+a+(h?o.plotWidth-s:n),pageY:i.top+l+(h?o.plotHeight-n:s)}),hi(r.series,"click",t(e,{point:r})),o.hoverPoint&&r.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-a,e.chartY-l)&&hi(o,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;t.touches.length===1?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):t.touches.length===2&&this.pinch(t)},onContainerTouchMove:function(t){(t.touches.length===1||t.touches.length===2)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[ce,"mousemove","onDocumentMouseMove"],[ce,"mouseup","onDocumentMouseUp"]],ze&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[ce,"touchend","onDocumentTouchEnd"]),ni(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},t[1].indexOf("on")===0?t[0][t[1]]=e["_"+t[2]]:ai(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;ni(t._events,function(e){e[1].indexOf("on")===0?e[0][e[1]]=null:li(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},H.prototype={init:function(t,n){var s=this,o=n.itemStyle,r=p(n.padding,8),a=n.itemMarginTop||0;this.options=n,n.enabled&&(s.baseline=i(o.fontSize)+3+a,s.itemStyle=o,s.itemHiddenStyle=e(o,n.itemHiddenStyle),s.itemMarginTop=a,s.padding=r,s.initialItemX=r,s.initialItemY=r-5,s.maxItemWidth=0,s.chart=t,s.itemHeight=0,s.lastLineHeight=0,s.render(),ai(s.chart,"endResize",function(){s.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,s=t.legendItem,o=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.color:a,a=t.options&&t.options.marker,h={stroke:l,fill:l};if(s&&s.css({fill:n,color:n}),o&&o.attr({stroke:l}),r){if(a&&r.isMarker)for(i in a=t.convertAttribs(a))s=a[i],s!==W&&(h[i]=s);r.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,s=n[0],n=n[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?s:this.legendWidth-s-2*i-4,n),o&&(o.x=s,o.y=n)},destroyItem:function(t){var e=t.checkbox;ni(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&P(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,ni(this.allItems,function(s){var o,r=s.checkbox;r&&(o=e+r.y+(t||0)+3,f(r,{left:i.translateX+s.legendItemWidth+r.x-20+"px",top:o+"px",display:o>e-6&&e+n-6>o?"":Fe}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i,n=this,s=n.chart,o=s.renderer,r=n.options,a=r.layout==="horizontal",l=r.symbolWidth,h=r.symbolPadding,c=n.itemStyle,d=n.itemHiddenStyle,u=n.padding,f=a?p(r.itemDistance,8):0,m=!r.rtl,v=r.width,b=r.itemMarginBottom||0,y=n.itemMarginTop,w=n.initialItemX,_=t.legendItem,k=t.series||t,C=k.options,S=C.showCheckbox,T=r.useHTML;!_&&(t.legendGroup=o.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),k.drawLegendSymbol(n,t),t.legendItem=_=o.text(r.labelFormat?x(r.labelFormat,t):r.labelFormatter.call(t),m?l+h:-h,n.baseline,T).css(e(t.visible?c:d)).attr({align:m?"left":"right",zIndex:2}).add(t.legendGroup),(T?_:t.legendGroup).on("mouseover",function(){t.setState("hover"),_.css(n.options.itemHoverStyle)}).on("mouseout",function(){_.css(t.visible?c:d),t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):hi(t,"legendItemClick",e,i)}),n.colorizeItem(t,t.visible),C&&S)&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},r.itemCheckboxStyle,s.container),ai(t.checkbox,"click",function(e){hi(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),o=_.getBBox(),i=t.legendItemWidth=r.itemWidth||l+h+o.width+f+(S?20:0),r=i,n.itemHeight=l=o.height,a&&n.itemX-w+r>(v||s.chartWidth-2*u-w)&&(n.itemX=w,n.itemY+=y+n.lastLineHeight+b,n.lastLineHeight=0),n.maxItemWidth=me(n.maxItemWidth,r),n.lastItemY=y+n.itemY+b,n.lastLineHeight=me(l,n.lastLineHeight),t._legendItemPos=[n.itemX,n.itemY],a?n.itemX+=r:(n.itemY+=y+l+b,n.lastLineHeight=l),n.offsetWidth=v||me((a?n.itemX-w-f:r)+u,n.offsetWidth)},render:function(){var e,i,n,s,o=this,r=o.chart,a=r.renderer,l=o.group,h=o.box,c=o.options,d=o.padding,u=c.borderWidth,f=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(l),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),e=[],ni(r.series,function(t){var i=t.options;p(i.showInLegend,i.linkedTo===W?W:!1,!0)&&(e=e.concat(t.legendItems||(i.legendType==="point"?t.data:t)))}),T(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,ni(e,function(t){o.renderItem(t)}),n=c.width||o.offsetWidth,s=o.lastItemY+o.lastLineHeight+o.titleHeight,s=o.handleOverflow(s),(u||f)&&(n+=d,s+=d,h?n>0&&s>0&&(h[h.isNew?"attr":"animate"](h.crisp(null,null,null,n,s)),h.isNew=!1):(o.box=h=a.rect(0,0,n,s,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:f||Fe}).add(l).shadow(c.shadow),h.isNew=!0),h[i?"show":"hide"]()),o.legendWidth=n,o.legendHeight=s,ni(e,function(t){o.positionItem(t)}),i&&l.align(t({width:n,height:s},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,n=i.renderer,s=this.options,o=s.y,o=i.spacingBox.height+(s.verticalAlign==="top"?-o:o)-this.padding,r=s.maxHeight,a=this.clipRect,l=s.navigation,h=p(l.animation,!0),c=l.arrowSize||12,d=this.nav;return s.layout==="horizontal"&&(o/=2),r&&(o=ve(o,r)),t>o&&!s.useHTML?(this.clipHeight=i=o-20-this.titleHeight,this.pageCount=ge(t/i),this.currentPage=p(this.currentPage,1),this.fullHeight=t,a||(a=e.clipRect=n.clipRect(0,0,9999,0),e.contentGroup.clip(a)),a.attr({height:i}),d||(this.nav=d=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,c,c).on("click",function(){e.scroll(-1,h)
}).add(d),this.pager=n.text("",15,10).css(l.style).add(d),this.down=n.symbol("triangle-down",0,0,c,c).on("click",function(){e.scroll(1,h)}).add(d)),e.scroll(0),t=o):d&&(a.attr({height:i.chartHeight}),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pageCount,n=this.currentPage+t,s=this.clipHeight,o=this.options.navigation,r=o.activeColor,a=o.inactiveColor,o=this.pager,l=this.padding;n>i&&(n=i),n>0&&(e!==W&&I(e,this.chart),this.nav.attr({translateX:l,translateY:s+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===n?a:r}).css({cursor:1===n?"default":"pointer"}),o.attr({text:n+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?a:r}).css({cursor:n===i?"default":"pointer"}),s=-ve(s*(n-1),this.fullHeight-s+l)+1,this.scrollGroup.animate({translateY:s}),o.attr({text:n+"/"+i}),this.currentPage=n,this.positionCheckboxes(s))}},/Trident\/7\.0/.test(ke)&&y(H.prototype,"positionItem",function(t,e){var i=this,n=function(){t.call(i,e)};i.chart.renderer.forExport?n():setTimeout(n)}),G.prototype={init:function(t,i){var n,s=t.series;t.series=null,n=e(q,t),n.series=t.series=s,s=n.chart,this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var o=s.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var r,a=this;if(a.index=Re.length,Re.push(a),s.reflow!==!1&&ai(a,"load",function(){a.initReflow()}),o)for(r in o)ai(a,r,o[r]);a.xAxis=[],a.yAxis=[],a.animation=Ie?!1:p(s.animation,!0),a.pointCount=0,a.counters=new S,a.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Ze[t.type||e.type||e.defaultSeriesType])||D(17,!0),e=new e,e.init(this,t),e},addSeries:function(t,e,i){var n,s=this;return t&&(e=p(e,!0),hi(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),e&&s.redraw(i)})),n},addAxis:function(t,i,n,s){var o=i?"xAxis":"yAxis",r=this.options;new O(this,e(t,{index:this[o].length,isX:i})),r[o]=u(r[o]||{}),r[o].push(t),p(n,!0)&&this.redraw(s)},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ni(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,s=this.axes,o=this.series,r=this.pointer,a=this.legend,l=this.isDirtyLegend,h=this.isDirtyBox,c=o.length,d=c,u=this.renderer,p=u.isHidden(),f=[];for(I(e,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=o[d],e.options.stacking&&(i=!0,e.isDirty)){n=!0;break}if(n)for(d=c;d--;)e=o[d],e.options.stacking&&(e.isDirty=!0);ni(o,function(t){t.isDirty&&t.options.legendType==="point"&&(l=!0)}),l&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),i&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,ni(s,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),ni(s,function(t){t.isDirty&&(h=!0)}),ni(s,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){hi(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(h||i)&&e.redraw()})),h&&this.drawChartBox(),ni(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),r&&r.reset&&r.reset(!0),u.draw(),hi(this,"redraw"),p&&this.cloneRenderTo(!0),ni(f,function(t){t.call()})},showLoading:function(e){var i=this.options,n=this.loadingDiv,s=i.loading;n||(this.loadingDiv=n=g(Oe,{className:"highcharts-loading"},t(s.style,{zIndex:10,display:Fe}),this.container),this.loadingSpan=g("span",null,s.labelStyle,n)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(f(n,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),di(n,{opacity:s.style.opacity},{duration:s.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&di(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Fe})}}),this.loadingShown=!1},get:function(t){var e,i,n=this.axes,s=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});ni(i,function(t,e){t.index=e,t.isX=!0}),ni(e,function(t,e){t.index=e}),i=i.concat(e),ni(i,function(e){new O(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return ni(this.series,function(e){t=t.concat(si(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return si(this.series,function(t){return t.selected})},getStacks:function(){var t=this;ni(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ni(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+p(e.options.stack,""))})},showResetZoom:function(){var t=this,e=q.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,o=i.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;hi(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,o=!1;!t||t.resetSelection?ni(this.axes,function(t){e=t.zoom()}):ni(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,s=i.isXAxis;(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))}),i=this.resetZoomButton,o&&!i?this.showResetZoom():!o&&s(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(p(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&ni(s,function(t){t.setState()}),ni("xy"===e?[1,0]:[1],function(e){var s=t[e?"chartX":"chartY"],o=n[e?"xAxis":"yAxis"][0],r=n[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,l=o.getExtremes(),h=o.toValue(r-s,!0)+a,r=o.toValue(r+n[e?"plotWidth":"plotHeight"]-s,!0)-a;o.series.length&&h>ve(l.dataMin,l.min)&&r<me(l.dataMax,l.max)&&(o.setExtremes(h,r,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=s}),i&&n.redraw(!1),f(n.container,{cursor:"move"})},setTitle:function(t,i){var n,s,o=this,r=o.options;s=r.title=e(r.title,t),n=r.subtitle=e(r.subtitle,i),r=n,ni([["title",t,s],["subtitle",i,r]],function(t){var e=t[0],i=o[e],n=t[1],t=t[2];i&&n&&(o[e]=i=i.destroy()),t&&t.text&&!i&&(o[e]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),o.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,n=this.subtitle,s=this.options,o=s.title,s=s.subtitle,r=this.spacingBox.width-44;!i||(i.css({width:(o.width||r)+"px"}).align(t({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(e=i.getBBox().height,e>=18&&25>=e&&(e=15)),n&&(n.css({width:(s.width||r)+"px"}).align(t({y:e+o.margin},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(e=ge(e+n.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=ti(e,"width"),this.containerHeight=ti(e,"height"),this.chartWidth=me(0,t.width||this.containerWidth||600),this.chartHeight=me(0,p(t.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),P(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),ce.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,s,o,r,a=this.options.chart;this.renderTo=e=a.renderTo,r="highcharts-"+$e++,n(e)&&(this.renderTo=e=ce.getElementById(e)),e||D(13,!0),s=i(d(e,"data-highcharts-chart")),!isNaN(s)&&Re[s]&&Re[s].destroy(),d(e,"data-highcharts-chart",this.index),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=e=g(Oe,{className:"highcharts-container"+(a.className?" "+a.className:""),id:r},t({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=a.forExport?new bi(e,s,o,!0):new X(e,s,o),Ie&&this.renderer.create(this,e,s,o)},getMargins:function(){var t,e=this.spacing,i=this.legend,n=this.margin,s=this.options.legend,o=p(s.margin,10),r=s.x,a=s.y,l=s.align,h=s.verticalAlign,d=this.titleOffset;this.resetMargins(),t=this.axisOffset,d&&!c(n[0])&&(this.plotTop=me(this.plotTop,d+this.options.title.margin+e[0])),i.display&&!s.floating&&("right"===l?c(n[1])||(this.marginRight=me(this.marginRight,i.legendWidth-r+o+e[1])):"left"===l?c(n[3])||(this.plotLeft=me(this.plotLeft,i.legendWidth+r+o+e[3])):"top"===h?c(n[0])||(this.plotTop=me(this.plotTop,i.legendHeight+a+o+e[0])):"bottom"!==h||c(n[2])||(this.marginBottom=me(this.marginBottom,i.legendHeight-a+o+e[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&ni(this.axes,function(t){t.getOffset()}),c(n[3])||(this.plotLeft+=t[3]),c(n[0])||(this.plotTop+=t[0]),c(n[2])||(this.marginBottom+=t[2]),c(n[1])||(this.marginRight+=t[1]),this.setChartSize()},initReflow:function(){function t(t){var o=n.width||ti(s,"width"),r=n.height||ti(s,"height"),t=t?t.target:de;i.hasUserSize||!o||!r||t!==de&&t!==ce||((o!==i.containerWidth||r!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&(i.setSize(o,r,!1),i.hasUserSize=null)},100)),i.containerWidth=o,i.containerHeight=r)}var e,i=this,n=i.options.chart,s=i.renderTo;i.reflow=t,ai(de,"resize",t),ai(i,"destroy",function(){li(de,"resize",t)})},setSize:function(t,e,i){var n,s,o,r=this;r.isResizing+=1,o=function(){r&&hi(r,"endResize",null,function(){r.isResizing-=1})},I(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,c(t)&&(r.chartWidth=n=me(0,pe(t)),r.hasUserSize=!!n),c(e)&&(r.chartHeight=s=me(0,pe(e))),f(r.container,{width:n+"px",height:s+"px"}),r.setChartSize(!0),r.renderer.setSize(n,s,i),r.maxTicks=null,ni(r.axes,function(t){t.isDirty=!0,t.setScale()}),ni(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(i),r.oldChartHeight=null,hi(r,"resize"),U===!1?o():setTimeout(o,U&&U.duration||500)},setChartSize:function(t){var e,i,n,s,o=this.inverted,r=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=pe(this.plotLeft),this.plotTop=i=pe(this.plotTop),this.plotWidth=n=me(0,pe(a-e-this.marginRight)),this.plotHeight=s=me(0,pe(l-i-this.marginBottom)),this.plotSizeX=o?s:n,this.plotSizeY=o?n:s,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=r.plotBox={x:e,y:i,width:n,height:s},a=2*fe(this.plotBorderWidth/2),o=ge(me(a,d[3])/2),r=ge(me(a,d[0])/2),this.clipBox={x:o,y:r,width:fe(this.plotSizeX-me(a,d[1])/2-o),height:fe(this.plotSizeY-me(a,d[2])/2-r)},t||ni(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.spacing,e=this.margin;this.plotTop=p(e[0],t[0]),this.marginRight=p(e[1],t[1]),this.marginBottom=p(e[2],t[2]),this.plotLeft=p(e[3],t[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,s=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,u=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,x=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(o?o.animate(o.crisp(null,null,null,n-t,s-t)):(o={fill:c||Fe},h&&(o.stroke=e.borderColor,o["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,s-t,e.borderRadius,h).attr(o).add().shadow(e.shadow))),d&&(r?r.animate(b):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:d}).add().shadow(e.plotShadow)),u&&(l?l.animate(b):this.plotBGImage=i.image(u,f,g,m,v).add()),y?y.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(a?a.animate(a.crisp(null,f,g,m,v)):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,o=n.options.series;ni(["inverted","angular","polar"],function(r){for(t=Ze[s.type||s.defaultSeriesType],i=n[r]||s[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=Ze[o[e].type])&&t.prototype[r]&&(i=!0);n[r]=i})},linkSeries:function(){var t=this,e=t.series;ni(e,function(t){t.linkedSeries.length=0}),ni(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},render:function(){var e,n=this,s=n.axes,o=n.renderer,r=n.options,a=r.labels,l=r.credits;n.setTitle(),n.legend=new H(n,r.legend),n.getStacks(),ni(s,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,ni(s,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&ni(s,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),ni(n.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&ni(a.items,function(e){var s=t(a.style,e.style),r=i(s.left)+n.plotLeft,l=i(s.top)+n.plotTop+12;delete s.left,delete s.top,o.text(e.html,r,l).attr({zIndex:2}).css(s).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,s=e.container,o=s&&s.parentNode;for(hi(e,"destroy"),Re[e.index]=W,e.renderTo.removeAttribute("data-highcharts-chart"),li(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();ni("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),s&&(s.innerHTML="",li(s),o&&P(s));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!De&&de==de.top&&ce.readyState!=="complete"||Ie&&!de.canvg?(Ie?wi.push(function(){t.firstRender()},t.options.global.canvasToolsURL):ce.attachEvent("onreadystatechange",function(){ce.detachEvent("onreadystatechange",t.firstRender),ce.readyState==="complete"&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),hi(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ni(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),hi(t,"beforeRender"),t.pointer=new j(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),ni(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),hi(t,"load"))},splashArray:function(t,e){var i=e[t],i=s(i)?i:[i,i,i,i];return[p(e[t+"Top"],i[0]),p(e[t+"Right"],i[1]),p(e[t+"Bottom"],i[2]),p(e[t+"Left"],i[3])]}},G.prototype.callbacks=[];var _i=function(){};_i.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(e,i){var n=this.series,s=n.pointValKey,e=_i.prototype.optionsToObject.call(this,e);return t(this,e),this.options=this.options?t(this.options,e):e,s&&(this.y=this[s]),this.x===W&&n&&(this.x=i===W?n.autoIncrement():i),this},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],s=n.length,r=0,a=0;if("number"==typeof t||null===t)e[n[0]]=t;else if(o(t))for(t.length>s&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),r++);s>a;)e[n[a++]]=t[r++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),h(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(li(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var i=this,n=i.series,s=n.chart,t=p(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ii(i,n.data)]=i.options,i.setState(t&&"select"),e||ni(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ii(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,s=i.hoverPoint;s&&s!==this&&s.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&ii(this,e)!==-1||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=p(i.valueDecimals,""),s=i.valuePrefix||"",o=i.valueSuffix||"";return ni(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||o)&&(t=t.replace(e+"}",s+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),x(t,{point:this,series:this.series})},update:function(t,e,i){var n,o=this,r=o.series,a=o.graphic,l=r.data,h=r.chart,c=r.options,e=p(e,!0);o.firePointEvent("update",{options:t},function(){o.applyOptions(t),s(t)&&(r.getAttribs(),a)&&(t&&t.marker&&t.marker.symbol?o.graphic=a.destroy():a.attr(o.pointAttr[o.state||""])),n=ii(o,l),r.xData[n]=o.x,r.yData[n]=r.toYData?r.toYData(o):o.y,r.zData[n]=o.z,c.data[n]=o.options,r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(h.isDirtyBox=!0),c.legendType==="point"&&h.legend.destroyItem(o),e&&h.redraw(i)})},remove:function(t,e){var i,n=this,s=n.series,o=s.points,r=s.chart,a=s.data;I(e,r),t=p(t,!0),n.firePointEvent("remove",null,function(){i=ii(n,a),a.length===o.length&&o.splice(i,1),a.splice(i,1),s.options.data.splice(i,1),s.xData.splice(i,1),s.yData.splice(i,1),s.zData.splice(i,1),n.destroy(),s.isDirty=!0,s.isDirtyData=!0,t&&r.redraw()})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),hi(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)ai(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t){var i=this.plotX,n=this.plotY,s=this.series,o=s.options.states,r=pi[s.type].marker&&s.options.marker,a=r&&!r.enabled,l=r&&r.states[t],h=l&&l.enabled===!1,c=s.stateMarkerGraphic,d=this.marker||{},u=s.chart,p=this.pointAttr,t=t||"";t===this.state||this.selected&&"select"!==t||o[t]&&o[t].enabled===!1||t&&(h||a&&!l.enabled)||t&&d.states&&d.states[t]&&d.states[t].enabled===!1||(this.graphic?(o=r&&this.graphic.symbolName&&p[t].r,this.graphic.attr(e(p[t],o?{x:i-o,y:n-o,width:2*o,height:2*o}:{}))):(t&&l&&(o=l.radius,d=d.symbol||s.symbol,c&&c.currentSymbol!==d&&(c=c.destroy()),c?c.attr({x:i-o,y:n-o}):(s.stateMarkerGraphic=c=u.renderer.symbol(d,i-o,n-o,2*o,2*o).attr(p[t]).add(s.markerGroup),c.currentSymbol=d)),c&&c[t&&u.isInsidePlot(i,n)?"show":"hide"]()),this.state=t)}};var ki=function(){};ki.prototype={isCartesian:!0,type:"line",pointClass:_i,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,i){var n,s,o=e.series;this.chart=e,this.options=i=this.setOptions(i),this.linkedSeries=[],this.bindAxes(),t(this,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Ie&&(i.animation=!1),s=i.events;for(n in s)ai(this,n,s[n]);(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1),this.isCartesian&&(e.hasCartesianSeries=!0),o.push(this),this._i=o.length-1,T(o,function(t,e){return p(t.options.index,t._i)-p(e.options.index,t._i)}),ni(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;e.isCartesian&&ni(["xAxis","yAxis"],function(s){ni(n[s],function(n){t=n.options,(i[s]===t.index||i[s]!==W&&i[s]===t.id||i[s]===W&&t.index===0)&&(n.series.push(e),e[s]=n,n.isDirty=!0)}),e[s]||D(18,!0)})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=p(e,t.pointStart,0);return this.pointInterval=p(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],n=this.points,s=n.length;if(s)if(this.options.connectNulls){for(t=s;t--;)n[t].y===null&&n.splice(t,1);n.length&&(i=[n])}else ni(n,function(t,o){t.y===null?(o>e+1&&i.push(n.slice(e+1,o)),e=o):o===s-1&&i.push(n.slice(e+1,o+1))});this.segments=i},setOptions:function(t){var i=this.chart.options,n=i.plotOptions,s=n[this.type];return this.userOptions=t,t=e(s,n.series,t),this.tooltipOptions=e(i.tooltip,t.tooltip),s.marker===null&&delete t.marker,t},getColor:function(){var t,e=this.options,i=this.userOptions,n=this.chart.options.colors,s=this.chart.counters;t=e.color||pi[this.type].color,t||e.colorByPoint||(c(i._colorIndex)?e=i._colorIndex:(i._colorIndex=s.color,e=s.color++),t=n[e]),this.color=t,s.wrapColor(n.length)},getSymbol:function(){var t=this.userOptions,e=this.options.marker,i=this.chart,n=i.options.symbols,i=i.counters;this.symbol=e.symbol,this.symbol||(c(t._symbolIndex)?t=t._symbolIndex:(t._symbolIndex=i.symbol,t=i.symbol++),this.symbol=n[t]),/^url/.test(this.symbol)&&(e.radius=0),i.wrapSymbol(n.length)},drawLegendSymbol:function(t){var e,i=this.options,n=i.marker,s=t.options;e=s.symbolWidth;var o=this.chart.renderer,r=this.legendGroup,t=t.baseline-pe(o.fontMetrics(s.itemStyle.fontSize).b*.3);i.lineWidth&&(s={"stroke-width":i.lineWidth},i.dashStyle&&(s.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(s).add(r)),n&&n.enabled&&(i=n.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(r),e.isMarker=!0)},addPoint:function(t,e,i,n){var s,o=this.options,r=this.data,a=this.graph,l=this.area,h=this.chart,c=this.xData,d=this.yData,u=this.zData,f=this.xAxis&&this.xAxis.names,g=a&&a.shift||0,m=o.data;if(I(n,h),i&&ni([a,l,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=g+1)}),l&&(l.isArea=!0),e=p(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),a=n.x,l=c.length,this.requireSorting&&a<c[l-1])for(s=!0;l&&c[l-1]>a;)l--;c.splice(l,0,a),d.splice(l,0,this.toYData?this.toYData(n):n.y),u.splice(l,0,n.z),f&&(f[a]=n.name),m.splice(l,0,t),s&&(this.data.splice(l,0,null),this.processData()),o.legendType==="point"&&this.generatePoints(),i&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),c.shift(),d.shift(),u.shift(),m.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),h.redraw())},setData:function(t,e){var i,s=this.points,a=this.options,l=this.chart,h=null,c=this.xAxis,d=c&&c.names;this.xIncrement=null,this.pointRange=c&&c.categories?1:a.pointRange,this.colorCounter=0;var u=[],f=[],g=[],m=t?t.length:[];i=p(a.turboThreshold,1e3);var v=this.pointArrayMap,v=v&&v.length,b=!!this.toYData;if(i&&m>i){for(i=0;null===h&&m>i;)h=t[i],i++;if(r(h)){for(d=p(a.pointStart,0),a=p(a.pointInterval,1),i=0;m>i;i++)u[i]=d,f[i]=t[i],d+=a;this.xIncrement=d}else if(o(h))if(v)for(i=0;m>i;i++)a=t[i],u[i]=a[0],f[i]=a.slice(1,v+1);else for(i=0;m>i;i++)a=t[i],u[i]=a[0],f[i]=a[1];else D(12)}else for(i=0;m>i;i++)t[i]!==W&&(a={series:this},this.pointClass.prototype.applyOptions.apply(a,[t[i]]),u[i]=a.x,f[i]=b?this.toYData(a):a.y,g[i]=a.z,d&&a.name)&&(d[a.x]=a.name);for(n(f[0])&&D(14,!0),this.data=[],this.options.data=t,this.xData=u,this.yData=f,this.zData=g,i=s&&s.length||0;i--;)s[i]&&s[i].destroy&&s[i].destroy();c&&(c.minRange=c.userMinRange),this.isDirty=this.isDirtyData=l.isDirtyBox=!0,p(e,!0)&&l.redraw(!1)},remove:function(t,e){var i=this,n=i.chart,t=p(t,!0);i.isRemoving||(i.isRemoving=!0,hi(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i=this.xData,n=this.yData,s=i.length;e=0;var o,r,a=this.xAxis,l=this.options,h=l.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&this.sorted&&(!h||s>h||this.forceCrop)&&(t=a.min,a=a.max,i[s-1]<t||i[0]>a?(i=[],n=[]):(i[0]<t||i[s-1]>a)&&(e=this.cropData(this.xData,this.yData,t,a),i=e.xData,n=e.yData,e=e.start,o=!0)),a=i.length-1;a>=0;a--)s=i[a]-i[a-1],s>0&&(r===W||r>s)?r=s:0>s&&this.requireSorting&&D(15);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=n,l.pointRange===null&&(this.pointRange=r||1),this.closestPointRange=r},cropData:function(t,e,i,n){var s,o=t.length,r=0,a=o,l=p(this.cropShoulder,1);for(s=0;o>s;s++)if(t[s]>=i){r=me(0,s-l);break}for(;o>s;s++)if(t[s]>n){a=s+l;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,n,s=this.options.data,o=this.data,r=this.processedXData,a=this.processedYData,l=this.pointClass,h=r.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=s.length,o=this.data=o),n=0;h>n;n++)e=c+n,d?p[n]=(new l).init(this,[r[n]].concat(u(a[n]))):(o[e]?i=o[e]:s[e]!==W&&(o[e]=i=(new l).init(this,s[e],r[n])),p[n]=i);if(o&&(h!==(t=o.length)||d))for(n=0;t>n;n++)n===c&&!d&&(n+=h),o[n]&&(o[n].destroyElements(),o[n].plotX=W);this.data=o,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,s,o=this.processedXData,r=this.processedYData,a=[],l=r.length,h=this.options,c=h.threshold,d=h.stack,h=h.stacking,u=this.stackKey,p="-"+u,f=this.negStacks,g=this.yAxis,m=g.stacks,v=g.oldStacks;for(i=0;l>i;i++)n=o[i],s=r[i],e=(t=f&&c>s)?p:u,m[e]||(m[e]={}),m[e][n]||(v[e]&&v[e][n]?(m[e][n]=v[e][n],m[e][n].total=null):m[e][n]=new R(g,g.options.stackLabels,t,n,d,h)),e=m[e][n],e.points[this.index]=[e.cum||0],"percent"===h?(t=t?u:p,f&&m[t]&&m[t][n]?(t=m[t][n],e.total=t.total=me(t.total,e.total)+be(s)||0):e.total+=be(s)||0):e.total+=s||0,e.cum=(e.cum||0)+(s||0),e.points[this.index].push(e.cum),a[i]=e.cum;"percent"===h&&(g.usePercentage=!0),this.stackedYData=a,g.oldStacks={}}},setPercentStacks:function(){var t=this,e=t.stackKey,i=t.yAxis.stacks;ni([e,"-"+e],function(e){for(var n,s,o,r=t.xData.length;r--;)s=t.xData[r],n=(o=i[e]&&i[e][s])&&o.points[t.index],(s=n)&&(o=o.total?100/o.total:0,s[0]=E(s[0]*o),s[1]=E(s[1]*o),t.stackedYData[r]=s[1])})},getExtremes:function(){var t,e,i,n,s=this.yAxis,o=this.processedXData,r=this.stackedYData||this.processedYData,a=r.length,l=[],h=0,c=this.xAxis.getExtremes(),d=c.min,c=c.max;for(n=0;a>n;n++)if(e=o[n],i=r[n],t=null!==i&&i!==W&&(!s.isLog||i.length||i>0),e=this.getExtremesFromAll||this.cropped||(o[n+1]||e)>=d&&(o[n-1]||e)<=c,t&&e)if(t=i.length)for(;t--;)i[t]!==null&&(l[h++]=i[t]);else l[h++]=i;this.dataMin=p(void 0,A(l)),this.dataMax=p(void 0,L(l))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t=this.options,e=t.stacking,i=this.xAxis,n=i.categories,s=this.yAxis,o=this.points,a=o.length,l=!!this.modifyValue,h=t.pointPlacement,d="between"===h||r(h),u=t.threshold,t=0;a>t;t++){var f=o[t],g=f.x,m=f.y,v=f.low,b=s.stacks[(this.negStacks&&u>m?"-":"")+this.stackKey];s.isLog&&0>=m&&(f.y=m=null),f.plotX=i.translate(g,0,0,0,1,h,this.type==="flags"),e&&this.visible&&b&&b[g]&&(b=b[g],m=b.points[this.index],v=m[0],m=m[1],0===v&&(v=p(u,s.min)),s.isLog&&0>=v&&(v=null),f.total=f.stackTotal=b.total,f.percentage="percent"===e&&f.y/b.total*100,f.stackY=m,b.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=c(v)?s.translate(v,0,1,0,1):null,l&&(m=this.modifyValue(m,f)),f.plotY="number"==typeof m&&1/0!==m?s.translate(m,0,1,0,1):W,f.clientX=d?i.translate(g,0,0,0,1):f.plotX,f.negative=f.y<(u||0),f.category=n&&n[f.x]!==W?n[f.x]:f.x}this.getSegments()},setTooltipPoints:function(t){var e,i,n,s,o=[],r=this.xAxis,a=r&&r.getExtremes(),l=r?r.tooltipLen||r.len:this.chart.plotSizeX,h=[];if(this.options.enableMouseTracking!==!1){for(t&&(this.tooltipPoints=null),ni(this.segments||this.points,function(t){o=o.concat(t)}),r&&r.reversed&&(o=o.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(o),t=o.length,s=0;t>s;s++)if(r=o[s],e=r.x,e>=a.min&&e<=a.max)for(n=o[s+1],e=i===W?0:i+1,i=o[s+1]?ve(me(0,fe((r.clientX+(n?n.wrappedClientX||n.clientX:l))/2)),l):l;e>=0&&i>=e;)h[e++]=r;this.tooltipPoints=h}},tooltipHeaderFormatter:function(t){var e,i=this.tooltipOptions,n=i.xDateFormat,s=i.dateTimeLabelFormats,o=this.xAxis,a=o&&o.options.type==="datetime",i=i.headerFormat,o=o&&o.closestPointRange;if(a&&!n)if(o){for(e in Z)if(Z[e]>=o){n=s[e];break}}else n=s.day;return a&&n&&r(t.key)&&(i=i.replace("{point.key}","{point.key:"+n+"}")),x(i,{point:t,series:this})},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&hi(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;n&&n.onMouseOut(),this&&t.events.mouseOut&&hi(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},animate:function(e){var i,n=this,o=n.chart,r=o.renderer;i=n.options.animation;var a,l=o.clipBox,h=o.inverted;i&&!s(i)&&(i=pi[n.type].animation),a="_sharedClip"+i.duration+i.easing,e?(e=o[a],i=o[a+"m"],e||(o[a]=e=r.clipRect(t(l,{width:0})),o[a+"m"]=i=r.clipRect(-99,h?-o.plotLeft:-o.plotTop,99,h?o.chartWidth:o.chartHeight)),n.group.clip(e),n.markerGroup.clip(i),n.sharedClipKey=a):((e=o[a])&&(e.animate({width:o.plotSizeX},i),o[a+"m"].animate({width:o.plotSizeX+99},i)),n.animate=null,n.animationTimeout=setTimeout(function(){n.afterAnimate()},i.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,s,o,r,a,l,h,c,d=this.points,u=this.chart,f=this.options.marker,g=this.markerGroup;if(f.enabled||this._hasPointMarkers)for(s=d.length;s--;)o=d[s],i=fe(o.plotX),n=o.plotY,h=o.graphic,a=o.marker||{},e=f.enabled&&a.enabled===W||a.enabled,c=u.isInsidePlot(pe(i),n,u.inverted),e&&n!==W&&!isNaN(n)&&o.y!==null?(e=o.pointAttr[o.selected?"select":""],r=e.r,a=p(a.symbol,this.symbol),l=a.indexOf("url")===0,h?h.attr({visibility:c?De?"inherit":"visible":"hidden"}).animate(t({x:i-r,y:n-r},h.symbolName?{width:2*r,height:2*r}:{})):c&&(r>0||l)&&(o.graphic=u.renderer.symbol(a,i-r,n-r,2*r,2*r).attr(e).add(g))):h&&(o.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var s,o,r=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},n=n||{};for(s in r)o=r[s],a[s]=p(t[o],e[s],i[s],n[s]);return a},getAttribs:function(){var e,i,n,s=this,o=s.options,r=pi[s.type].marker?o.marker:o,a=r.states,l=a.hover,h=s.color,d={stroke:h,fill:h},u=s.points||[],p=[],f=s.pointAttrToOptions,g=o.negativeColor,m=r.lineColor;for(o.marker?(l.radius=l.radius||r.radius+2,l.lineWidth=l.lineWidth||r.lineWidth+1):l.color=l.color||vi(l.color||h).brighten(l.brightness).get(),p[""]=s.convertAttribs(r,d),ni(["hover","select"],function(t){p[t]=s.convertAttribs(a[t],p[""])}),s.pointAttr=p,h=u.length;h--;){if(d=u[h],(r=d.options&&d.options.marker||d.options)&&r.enabled===!1&&(r.radius=0),d.negative&&g&&(d.color=d.fillColor=g),e=o.colorByPoint||d.color,d.options)for(n in f)c(r[f[n]])&&(e=!0);e?(r=r||{},i=[],a=r.states||{},e=a.hover=a.hover||{},o.marker||(e.color=vi(e.color||d.color).brighten(e.brightness||l.brightness).get()),i[""]=s.convertAttribs(t({color:d.color,fillColor:d.color,lineColor:null===m?d.color:W},r),p[""]),i.hover=s.convertAttribs(a.hover,p.hover,i[""]),i.select=s.convertAttribs(a.select,p.select,i[""])):i=p,d.pointAttr=i
}},update:function(i,n){var s,o=this.chart,r=this.type,a=Ze[r].prototype,i=e(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1);for(s in a)a.hasOwnProperty(s)&&(this[s]=W);t(this,Ze[i.type||r].prototype),this.init(o,i),p(n,!0)&&o.redraw(!1)},destroy:function(){var t,e,i,n,s,o=this,r=o.chart,a=/AppleWebKit\/533/.test(ke),l=o.data||[];for(hi(o,"destroy"),li(o),ni(["xAxis","yAxis"],function(t){(s=o[t])&&(h(s.series,o),s.isDirty=s.forceRedraw=!0,s.stacks={})}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout),ni("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),r.hoverSeries===o&&(r.hoverSeries=null),h(r.series,o);for(n in o)delete o[n]},drawDataLabels:function(){var i,n,s,o,r=this,a=r.options,l=a.cursor,h=a.dataLabels,a=r.points;(h.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(h),o=r.plotGroup("dataLabelsGroup","data-labels",r.visible?"visible":"hidden",h.zIndex||6),n=h,ni(a,function(a){var d,u,f,g=a.dataLabel,m=a.connector,v=!0;if(i=a.options&&a.options.dataLabels,d=p(i&&i.enabled,n.enabled),g&&!d)a.dataLabel=g.destroy();else if(d){if(h=e(n,i),d=h.rotation,u=a.getLabelConfig(),s=h.format?x(h.format,u):h.formatter.call(u,h),h.style.color=p(h.color,h.style.color,r.color,"black"),g)c(s)?(g.attr({text:s}),v=!1):(a.dataLabel=g=g.destroy(),m&&(a.connector=m.destroy()));else if(c(s)){g={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.borderWidth,r:h.borderRadius||0,rotation:d,padding:h.padding,zIndex:1};for(f in g)g[f]===W&&delete g[f];g=a.dataLabel=r.chart.renderer[d?"text":"label"](s,0,-999,null,null,null,h.useHTML).attr(g).css(t(h.style,l&&{cursor:l})).add(o).shadow(h.shadow)}g&&r.alignDataLabel(a,g,h,null,v)}}))},alignDataLabel:function(e,i,n,s,o){var r=this.chart,a=r.inverted,l=p(e.plotX,-999),h=p(e.plotY,-999),c=i.getBBox();(e=this.visible&&r.isInsidePlot(e.plotX,e.plotY,a))&&(s=t({x:a?r.plotWidth-h:l,y:pe(a?r.plotHeight-l:h),width:0,height:0},s),t(n,{width:c.width,height:c.height}),n.rotation?(a={align:n.align,x:s.x+n.x+s.width/2,y:s.y+n.y+s.height/2},i[o?"attr":"animate"](a)):(i.align(n,null,s),a=i.alignAttr,p(n.overflow,"justify")==="justify"?this.justifyDataLabel(i,n,a,c,s,o):p(n.crop,!0)&&(e=r.isInsidePlot(a.x,a.y)&&r.isInsidePlot(a.x+c.width,a.y+c.height)))),e||i.attr({y:-999})},justifyDataLabel:function(t,e,i,n,s,o){var r,a,l=this.chart,h=e.align,c=e.verticalAlign;r=i.x,0>r&&("right"===h?e.align="left":e.x=-r,a=!0),r=i.x+n.width,r>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-r,a=!0),r=i.y,0>r&&("bottom"===c?e.verticalAlign="top":e.y=-r,a=!0),r=i.y+n.height,r>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-r,a=!0),a&&(t.placed=!o,t.align(e,null,s))},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return ni(t,function(s,o){var r,a=s.plotX,l=s.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,s,o)):(i.push(o?"L":"M"),n&&o&&(r=t[o-1],"right"===n?i.push(r.plotX,l):"center"===n?i.push((r.plotX+a)/2,r.plotY,(r.plotX+a)/2,l):i.push(a,r.plotY)),i.push(s.plotX,s.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return ni(e.segments,function(s){t=e.getSegmentPath(s),s.length>1?i=i.concat(t):n.push(s[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,s=e.dashStyle,o=e.linecap!=="square",r=this.getGraphPath(),a=e.negativeColor;a&&i.push(["graphNeg",a]),ni(i,function(i,a){var l=i[0],h=t[l];h?(ui(h),h.animate({d:r})):n&&r.length&&(h={stroke:i[1],"stroke-width":n,zIndex:1},s?h.dashstyle=s:o&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(r).attr(h).add(t.group).shadow(!a&&e.shadow))})},clipNeg:function(){var t,e=this.options,i=this.chart,n=i.renderer,s=e.negativeColor||e.negativeFillColor,o=this.graph,r=this.area,a=this.posClip,l=this.negClip;t=i.chartWidth;var h=i.chartHeight,c=me(t,h),d=this.yAxis;s&&(o||r)&&(s=pe(d.toPixels(e.threshold||0,!0)),e={x:0,y:0,width:c,height:s},c={x:0,y:s,width:c,height:c},i.inverted&&(e.height=c.y=i.plotWidth-s,n.isVML&&(e={x:i.plotWidth-s-i.plotLeft,y:0,width:t,height:h},c={x:s+i.plotLeft-t,y:0,width:i.plotLeft+s,height:t})),d.reversed?(i=c,t=e):(i=e,t=c),a?(a.animate(i),l.animate(t)):(this.posClip=a=n.clipRect(i),this.negClip=l=n.clipRect(t),o&&this.graphNeg&&(o.clip(a),this.graphNeg.clip(l)),r&&(r.clip(a),this.areaNeg.clip(l))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ni(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(ai(i,"resize",t),ai(e,"destroy",function(){li(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,s){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(s)),o[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this.chart,i=this.options,n=i.animation&&!!this.animate&&e.renderer.isSVG,s=this.visible?"visible":"hidden",o=i.zIndex,r=this.hasRendered,a=e.seriesGroup;t=this.plotGroup("group","series",s,o,a),this.markerGroup=this.plotGroup("markerGroup","markers",s,o,a),n&&this.animate(!0),this.getAttribs(),t.inverted=this.isCartesian?e.inverted:!1,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),e.inverted&&this.invertGroups(),i.clip!==!1&&!this.sharedClipKey&&!r&&t.clip(e.clipRect),n?this.animate():r||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,n=this.xAxis,s=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:p(n&&n.left,t.plotLeft),translateY:p(s&&s.top,t.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&hi(this,"updatedData")},setState:function(t){var e=this.options,i=this.graph,n=this.graphNeg,s=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,s[t]&&s[t].enabled===!1||(t&&(e=s[t].lineWidth||e+1),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),n&&n.attr(t))))},setVisible:function(t,e){var i,n=this,s=n.chart,o=n.legendItem,r=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===W?!a:t)?"show":"hide",ni(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),s.hoverSeries===n&&n.onMouseOut(),o&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&ni(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ni(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(s.isDirtyBox=!0),e!==!1&&s.redraw(),hi(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===W?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),hi(this,t?"select":"unselect")},drawTracker:function(){var t,e=this,i=e.options,n=i.trackByArea,s=[].concat(n?e.areaPath:e.graphPath),o=s.length,r=e.chart,a=r.pointer,l=r.renderer,h=r.options.tooltip.snap,c=e.tracker,d=i.cursor,u=d&&{cursor:d},d=e.singlePoints,p=function(){r.hoverSeries!==e&&e.onMouseOver()};if(o&&!n)for(t=o+1;t--;)s[t]==="M"&&s.splice(t+1,0,s[t+1]-h,s[t+2],"L"),(t&&s[t]==="M"||t===o)&&s.splice(t,0,"L",s[t-2]+h,s[t-1]);for(t=0;t<d.length;t++)o=d[t],s.push("M",o.plotX-h,o.plotY,"L",o.plotX+h,o.plotY);c?c.attr({d:s}):(e.tracker=l.path(s).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:je,fill:n?je:Fe,"stroke-width":i.lineWidth+(n?0:2*h),zIndex:2}).add(e.group),ni([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(u),ze&&t.on("touchstart",p)}))}},Je=m(ki),Ze.line=Je,pi.area=e(Qe,{threshold:0}),Je=m(ki,{type:"area",getSegments:function(){var t,e,i,n,s,o=[],r=[],a=[],l=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],d={},u=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<u.length;n++)d[u[n].x]=u[n];for(s in c)c[s].total!==null&&a.push(+s);a.sort(function(t,e){return t-e}),ni(a,function(n){(!p||d[n]&&d[n].y!==null)&&(d[n]?r.push(d[n]):(t=l.translate(n),i=c[n].percent?c[n].total?c[n].cum*100/c[n].total:0:c[n].cum,e=h.toPixels(i,!0),r.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Be})))}),r.length&&o.push(r)}else ki.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=ki.prototype.getSegmentPath.call(this,t),n=[].concat(i),s=this.options;e=i.length;var o,r=this.yAxis.getThreshold(s.threshold);if(3===e&&n.push("L",i[1],i[2]),s.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)o=p(t[e].yBottom,r),e<t.length-1&&s.step&&n.push(t[e+1].plotX,o),n.push(t[e].plotX,o);else this.closeSegment(n,t,r);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],ki.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,s=i.negativeFillColor,o=[["area",this.color,i.fillColor]];(n||s)&&o.push(["areaNeg",n,s]),ni(o,function(n){var s=n[0],o=t[s];o?o.animate({d:e}):t[s]=t.chart.renderer.path(e).attr({fill:p(n[2],vi(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}}),Ze.area=Je,pi.spline=e(Qe),yi=m(ki,{type:"spline",getPointSpline:function(t,e,i){var n,s,o,r,a=e.plotX,l=e.plotY,h=t[i-1],c=t[i+1];if(h&&c){t=h.plotY,o=c.plotX;var d,c=c.plotY;n=(1.5*a+h.plotX)/2.5,s=(1.5*l+t)/2.5,o=(1.5*a+o)/2.5,r=(1.5*l+c)/2.5,d=(r-s)*(o-a)/(o-n)+l-r,s+=d,r+=d,s>t&&s>l?(s=me(t,l),r=2*l-s):t>s&&l>s&&(s=ve(t,l),r=2*l-s),r>c&&r>l?(r=me(c,l),s=2*l-r):c>r&&l>r&&(r=ve(c,l),s=2*l-r),e.rightContX=o,e.rightContY=r}return i?(e=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||a,s||l,a,l],h.rightContX=h.rightContY=null):e=["M",a,l],e}}),Ze.spline=yi,pi.areaspline=e(pi.area),xi=Je.prototype,yi=m(yi,{type:"areaspline",closedStacks:!0,getSegmentPath:xi.getSegmentPath,closeSegment:xi.closeSegment,drawGraph:xi.drawGraph,drawLegendSymbol:xi.drawLegendSymbol}),Ze.areaspline=yi,pi.column=e(Qe,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),yi=m(ki,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ki.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ni(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,s=i.xAxis,o=i.yAxis,r=s.reversed,a={},l=0;n.grouping===!1?l=1:ni(i.chart.series,function(n){var s=n.options,r=n.yAxis;n.type===i.type&&n.visible&&o.len===r.len&&o.pos===r.pos&&(s.stacking?(t=n.stackKey,a[t]===W&&(a[t]=l++),e=a[t]):s.grouping!==!1&&(e=l++),n.columnIndex=e)});var s=ve(be(s.transA)*(s.ordinalSlope||n.pointRange||s.closestPointRange||1),s.len),h=s*n.groupPadding,d=(s-2*h)/l,u=n.pointWidth,n=c(u)?(d-u)/2:d*n.pointPadding,u=p(u,d-2*n);return i.columnMetrics={width:u,offset:n+(h+((r?l-(i.columnIndex||0):i.columnIndex)||0)*d-s/2)*(r?-1:1)}},translate:function(){var t=this.chart,e=this.options,i=e.borderWidth,n=this.yAxis,s=this.translatedThreshold=n.getThreshold(e.threshold),o=p(e.minPointLength,5),e=this.getColumnMetrics(),r=e.width,a=this.barW=ge(me(r,1+2*i)),l=this.pointXOffset=e.offset,h=-(i%2?.5:0),c=i%2?.5:1;t.renderer.isVML&&t.inverted&&(c+=1),ki.prototype.translate.apply(this),ni(this.points,function(t){var e,i=p(t.yBottom,s),d=ve(me(-999-i,t.plotY),n.len+999+i),u=t.plotX+l,f=a,g=ve(d,i),d=me(d,i)-g;be(d)<o&&o&&(d=o,g=pe(be(g-s)>o?i-o:s-(n.translate(t.y,0,1,0,1)<=s?o:0))),t.barX=u,t.pointWidth=r,i=be(u)<.5,f=pe(u+f)+h,u=pe(u)+h,f-=u,e=be(g)<.5,d=pe(g+d)+c,g=pe(g)+c,d-=g,i&&(u+=1,f-=1),e&&(g-=1,d+=1),t.shapeType="rect",t.shapeArgs={x:u,y:g,width:f,height:d}})},getSymbol:Be,drawLegendSymbol:Je.prototype.drawLegendSymbol,drawGraph:Be,drawPoints:function(){var t,i=this,n=i.options,s=i.chart.renderer;ni(i.points,function(o){var r=o.plotY,a=o.graphic;r===W||isNaN(r)||o.y===null?a&&(o.graphic=a.destroy()):(t=o.shapeArgs,a?(ui(a),a.animate(e(t))):o.graphic=s[o.shapeType](t).attr(o.pointAttr[o.selected?"select":""]).add(i.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},drawTracker:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,s=n&&{cursor:n},o=function(i){var n,s=i.target;for(e.hoverSeries!==t&&t.onMouseOver();s&&!n;)n=s.point,s=s.parentNode;n!==W&&n!==e.hoverPoint&&n.onMouseOver(i)};ni(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ni(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(s),ze)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},alignDataLabel:function(t,i,n,s,o){var r=this.chart,a=r.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>p(this.translatedThreshold,r.plotSizeY),c=p(n.inside,!!this.options.stacking);l&&(s=e(l),a&&(s={x:r.plotWidth-s.y-s.height,y:r.plotHeight-s.x-s.width,width:s.height,height:s.width}),!c)&&(a?(s.x+=h?0:s.width,s.width=0):(s.y+=h?s.height:0,s.height=0)),n.align=p(n.align,!a||c?"center":h?"right":"left"),n.verticalAlign=p(n.verticalAlign,a||c?"middle":h?"top":"bottom"),ki.prototype.alignDataLabel.call(this,t,i,n,s,o)},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,s={};De&&(t?(s.scaleY=.001,t=ve(e.pos+e.len,me(e.pos,e.toPixels(i.threshold))),n?s.translateX=t-e.len:s.translateY=t,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=e.pos,this.group.animate(s,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ni(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ki.prototype.remove.apply(t,arguments)}}),Ze.column=yi,pi.bar=e(pi.column),xi=m(yi,{type:"bar",inverted:!0}),Ze.bar=xi,pi.scatter=e(Qe,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),xi=m(ki,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:yi.prototype.drawTracker,setTooltipPoints:Be}),Ze.scatter=xi,pi.pie=e(Qe,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Qe={type:"pie",isCartesian:!1,pointClass:m(_i,{init:function(){_i.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),e=function(t){i.slice(t.type==="select")},ai(i,"select",e),ai(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,s=n.chart;i.visible=i.options.visible=t=t===W?!i.visible:t,n.options.data[ii(i,n.data)]=i.options,e=t?"show":"hide",ni(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&s.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,s.redraw())},slice:function(t,e,i){var n=this.series;I(i,n.chart),p(e,!0),this.sliced=this.options.sliced=t=c(t)?t:!this.sliced,n.options.data[ii(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Be,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(ni(i,function(t){var i=t.graphic,t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e){ki.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,n,s=0,o=this.options.ignoreHiddenPoint;for(ki.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;i>t;t++)n=e[t],s+=o&&!n.visible?0:n.y;for(this.total=s,t=0;i>t;t++)n=e[t],n.percentage=s>0?n.y/s*100:0,n.total=s},getCenter:function(){var t,e,n=this.options,s=this.chart,o=2*(n.slicedOffset||0),r=s.plotWidth-2*o,a=s.plotHeight-2*o,s=n.center,n=[p(s[0],"50%"),p(s[1],"50%"),n.size||"100%",n.innerSize||0],l=ve(r,a);return ri(n,function(n,s){return e=/%$/.test(n),t=2>s||2===s&&e,(e?[r,a,l,l][s]*i(n)/100:n)+(t?o:0)})},translate:function(t){this.generatePoints();var e,i,n,s,o,r=0,a=this.options,l=a.slicedOffset,h=l+a.borderWidth,c=a.startAngle||0,d=this.startAngleRad=we/180*(c-90),c=(this.endAngleRad=we/180*((a.endAngle||c+360)-90))-d,u=this.points,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=u.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=ue.asin((e-t[1])/(t[2]/2+p)),t[0]+(i?-1:1)*ye(n)*(t[2]/2+p)},s=0;f>s;s++)o=u[s],e=d+r*c,(!a||o.visible)&&(r+=o.percentage/100),i=d+r*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:pe(1e3*e)/1e3,end:pe(1e3*i)/1e3},n=(i+e)/2,n>.75*c&&(n-=2*we),o.slicedTranslation={translateX:pe(ye(n)*l),translateY:pe(xe(n)*l)},e=ye(n)*t[2]/2,i=xe(n)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=-we/2>n||n>we/2?1:0,o.angle=n,h=ve(h,p/2),o.labelPos=[t[0]+e+ye(n)*p,t[1]+i+xe(n)*p,t[0]+e+ye(n)*h,t[1]+i+xe(n)*h,t[0]+e,t[1]+i,0>p?"center":o.half?"right":"left",n]},setTooltipPoints:Be,drawGraph:null,drawPoints:function(){var e,i,n,s,o=this,r=o.chart.renderer,a=o.options.shadow;a&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),ni(o.points,function(l){i=l.graphic,s=l.shapeArgs,n=l.shadowGroup,a&&!n&&(n=l.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(s,e)):l.graphic=i=r.arc(s).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(a,n),l.visible===!1&&l.setVisible(!1)})},sortByAngle:function(t,e){t.sort(function(t,i){return t.angle!==void 0&&(i.angle-t.angle)*e})},drawDataLabels:function(){var t,e,i,n,s,o,r,a,l,h,c,d,u=this,f=u.data,g=u.chart,m=u.options.dataLabels,v=p(m.connectorPadding,10),b=p(m.connectorWidth,1),y=g.plotWidth,g=g.plotHeight,x=p(m.softConnector,!0),w=m.distance,_=u.center,k=_[2]/2,C=_[1],S=w>0,T=[[],[]],A=[0,0,0,0],M=function(t,e){return e.y-t.y};if(u.visible&&(m.enabled||u._hasPointLabels)){for(ki.prototype.drawDataLabels.apply(u),ni(f,function(t){t.dataLabel&&T[t.half].push(t)}),c=0;!r&&f[c];)r=f[c]&&f[c].dataLabel&&(f[c].dataLabel.getBBox().height||21),c++;for(c=2;c--;){var P,f=[],D=[],E=T[c],I=E.length;if(u.sortByAngle(E,c-.5),w>0){for(d=C-k-w;C+k+w>=d;d+=r)f.push(d);if(s=f.length,I>s){for(t=[].concat(E),t.sort(M),d=I;d--;)t[d].rank=d;for(d=I;d--;)E[d].rank>=s&&E.splice(d,1);I=E.length}for(d=0;I>d;d++){t=E[d],o=t.labelPos,t=9999;var z,N;for(N=0;s>N;N++)z=be(f[N]-o[1]),t>z&&(t=z,P=N);if(d>P&&f[d]!==null)P=d;else for(I-d+P>s&&f[d]!==null&&(P=s-I+d);f[P]===null;)P++;D.push({i:P,y:f[P]}),f[P]=null}D.sort(M)}for(d=0;I>d;d++)t=E[d],o=t.labelPos,n=t.dataLabel,h=t.visible===!1?"hidden":"visible",t=o[1],w>0?(s=D.pop(),P=s.i,l=s.y,(t>l&&f[P+1]!==null||l>t&&f[P-1]!==null)&&(l=t)):l=t,a=m.justify?_[0]+(c?-1:1)*(k+w):u.getX(0===P||P===f.length-1?t:l,c),n._attr={visibility:h,align:o[6]},n._pos={x:a+m.x+({left:v,right:-v}[o[6]]||0),y:l+m.y-10},n.connX=a,n.connY=l,this.options.size===null&&(s=n.width,v>a-s?A[3]=me(pe(s-a+v),A[3]):a+s>y-v&&(A[1]=me(pe(a+s-y+v),A[1])),0>l-r/2?A[0]=me(pe(-l+r/2),A[0]):l+r/2>g&&(A[2]=me(pe(l+r/2-g),A[2])))}(L(A)===0||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),S&&b&&ni(this.points,function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos?(h=n._attr.visibility,a=n.connX,l=n.connY,i=x?["M",a+(o[6]==="left"?5:-5),l,"C",a,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+(o[6]==="left"?5:-5),l,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":b,stroke:m.connectorColor||t.color||"#606060",visibility:h}).add(u.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,i=this.center,n=this.options,s=n.center,o=n=n.minSize||80;return s[0]!==null?o=me(i[2]-me(t[1],t[3]),n):(o=me(i[2]-t[1]-t[3],n),i[0]+=(t[3]-t[1])/2),s[1]!==null?o=me(ve(o,i[2]-me(t[0],t[2])),n):(o=me(ve(o,i[2]-t[0]-t[2]),n),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,this.translate(i),ni(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){ni(this.points,function(t){var e,t=t.dataLabel;t&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},alignDataLabel:Be,drawTracker:yi.prototype.drawTracker,drawLegendSymbol:Je.prototype.drawLegendSymbol,getSymbol:Be},Qe=m(ki,Qe),Ze.pie=Qe,t(Highcharts,{Axis:O,Chart:G,Color:vi,Legend:H,Pointer:j,Point:_i,Tick:$,Tooltip:F,Renderer:X,Series:ki,SVGElement:N,SVGRenderer:bi,arrayMin:A,arrayMax:L,charts:Re,dateFormat:V,format:x,pathAnim:K,getOptions:function(){return q},hasBidiBug:Ee,isTouchDevice:Me,numberFormat:v,seriesTypes:Ze,setOptions:function(t){return q=e(q,t),z(),q},addEvent:ai,removeEvent:li,createElement:g,discardElement:P,css:f,each:ni,extend:t,map:ri,merge:e,pick:p,splat:u,extendClass:m,pInt:i,wrap:y,svg:De,canvas:Ie,vml:!De&&!Ie,product:"Highcharts",version:"3.0.7"})}(),function(t){var e=t.each,i=function(t,e){this.init(t,e)};t.extend(i.prototype,{init:function(t,e){this.options=t,this.chartOptions=e,this.columns=t.columns||this.rowsToColumns(t.rows)||[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var i=this.chartOptions,n=i&&i.chart&&i.chart.type,s=[];e(i&&i.series||[],function(e){s.push((t.seriesTypes[e.type||n||"line"].prototype.pointArrayMap||[0]).length)}),this.valueCount={global:(t.seriesTypes[n||"line"].prototype.pointArrayMap||[0]).length,individual:s}},dataFound:function(){this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var t=this,i=this.options,n=i.csv,s=this.columns,o=i.startRow||0,r=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE,h=0;n&&(n=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(i.lineDelimiter||"\n"),e(n,function(n,c){var d=t.trim(n),u=d.indexOf("#")===0;c>=o&&r>=c&&!u&&""!==d&&(d=n.split(i.itemDelimiter||","),e(d,function(t,e){e>=a&&l>=e&&(s[e-a]||(s[e-a]=[]),s[e-a][h]=t)}),h+=1)}),this.dataFound())},parseTable:function(){var t,i=this.options,n=i.table,s=this.columns,o=i.startRow||0,r=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE;n&&("string"==typeof n&&(n=document.getElementById(n)),e(n.getElementsByTagName("tr"),function(i,n){t=0,n>=o&&r>=n&&e(i.childNodes,function(e){(e.tagName==="TD"||e.tagName==="TH")&&t>=a&&l>=t&&(s[t]||(s[t]=[]),s[t][n-o]=e.innerHTML,t+=1)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var t,e,i=this,n=this.options,s=n.googleSpreadsheetKey,o=this.columns,r=n.startRow||0,a=n.endRow||Number.MAX_VALUE,l=n.startColumn||0,h=n.endColumn||Number.MAX_VALUE;s&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+s+"/"+(n.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(n){var s,c,n=n.feed.entry,d=n.length,u=0,p=0;for(c=0;d>c;c++)s=n[c],u=Math.max(u,s.gs$cell.col),p=Math.max(p,s.gs$cell.row);for(c=0;u>c;c++)c>=l&&h>=c&&(o[c-l]=[],o[c-l].length=Math.min(p,a-r));for(c=0;d>c;c++)s=n[c],t=s.gs$cell.row-1,e=s.gs$cell.col-1,e>=l&&h>=e&&t>=r&&a>=t&&(o[e-l][t-r]=s.content.$t);i.dataFound()})},findHeaderRow:function(){e(this.columns,function(){}),this.headerRow=0},trim:function(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t},parseTypes:function(){for(var t,e,i,n,s=this.columns,o=s.length;o--;)for(t=s[o].length;t--;)e=s[o][t],i=parseFloat(e),n=this.trim(e),n==i?(s[o][t]=i,i>31536e6?s[o].isDatetime=!0:s[o].isNumeric=!0):(e=this.parseDate(e),0!==o||"number"!=typeof e||isNaN(e)?s[o][t]=""===n?null:n:(s[o][t]=e,s[o].isDatetime=!0))},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(t){return Date.UTC(+t[1],t[2]-1,+t[3])}}},parseDate:function(t){var e,i,n,s=this.options.parseDate;if(s&&(e=s(t)),"string"==typeof t)for(i in this.dateFormats)s=this.dateFormats[i],(n=t.match(s.regex))&&(e=s.parser(n));return e},rowsToColumns:function(t){var e,i,n,s,o;if(t)for(o=[],i=t.length,e=0;i>e;e++)for(s=t[e].length,n=0;s>n;n++)o[n]||(o[n]=[]),o[n][e]=t[e][n];return o},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var e,i,n,s,o,r,a,l,h=this.columns,c=this.options;if(c.complete){for(this.getColumnDistribution(),h.length>1&&(e=h.shift(),this.headerRow===0&&e.shift(),e.isDatetime?i="datetime":e.isNumeric||(i="category")),r=0;r<h.length;r++)this.headerRow===0&&(h[r].name=h[r].shift());for(s=[],r=0,l=0;r<h.length;l++){for(n=t.pick(this.valueCount.individual[l],this.valueCount.global),o=[],a=0;a<h[r].length;a++)o[a]=[e[a],h[r][a]!==void 0?h[r][a]:null],n>1&&o[a].push(h[r+1][a]!==void 0?h[r+1][a]:null),n>2&&o[a].push(h[r+2][a]!==void 0?h[r+2][a]:null),n>3&&o[a].push(h[r+3][a]!==void 0?h[r+3][a]:null),n>4&&o[a].push(h[r+4][a]!==void 0?h[r+4][a]:null);s[l]={name:h[r].name,data:o},r+=n}c.complete({xAxis:{type:i},series:s})}}}),t.Data=i,t.data=function(t,e){return new i(t,e)},t.wrap(t.Chart.prototype,"init",function(i,n,s){var o=this;n&&n.data?t.data(t.extend(n.data,{complete:function(r){n.series&&e(n.series,function(e,i){n.series[i]=t.merge(e,r.series[i])}),n=t.merge(r,n),i.call(o,n,s)}}),n):i.call(o,n,s)})}(Highcharts),function(){this.Tree={init:function(){var t;return t=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0,$(".tree-holder").length>0&&(t&&Tree.initTreeSlide(),Tree.initTreeCommit()),Tree.highlightBlobLines(),$(window).on("hashchange",Tree.highlightBlobLines),$(document).on("click",".line-numbers a",Tree.multiSelectLines)},fetchReplacement:function(t){return $.ajax({url:t,dataType:"script",beforeSend:function(){return $(".tree_progress").show()},complete:function(){return $(".tree_progress").hide()}})},initTreeSlide:function(){return $(".tree-holder, .breadcrumb_path").on("click",".repo-name, .tree-item-file-name a",function(t){return t.preventDefault(),window.history.pushState({cache:!0},null,$(this).attr("href")),Tree.fetchReplacement(window.location.href)}),window.history.pushState({cache:!0},null,window.location.href),$(".tree-holder").on("click","div.tree-item",function(t){return alreadyContext?t.preventDefault():$(t.target).is("a")||$(t.target).parent().is("a")?void 0:$(this).find(".tree-item-file-name a").trigger("click")}),setTimeout(function(){return window.addEventListener("popstate",function(t){var e;return location.hash.indexOf("#")!==-1?!1:(t.state===null&&history.go(-1),((e=t.state)!=null?e.cache:void 0)?Tree.fetchReplacement(window.location.href):void 0)},!1)},1e3)},initTreeCommit:function(){var t;return t=$(".tree-content-holder .tree-content").data("logs-path"),t?$.ajax({url:t,dataType:"script",complete:function(){return $(".tree-content-holder .tree-content").removeData("logs-path")}}):void 0},highlightBlobLines:function(t){var e,i,n,s,o;if(window.location.hash!==""&&(s=window.location.hash.match(/\#L(\d+)(\-L?(\d+))?/),e=parseInt(null!=s?s[1]:void 0),i=parseInt(null!=s?s[3]:void 0),!isNaN(e))){for(isNaN(i)&&(i=e),$(".tree-content-holder .highlight .line").removeClass("hll"),n=o=e;i>=e?i>=o:o>=i;n=i>=e?++o:--o)$("#LC"+n).addClass("hll");if(!t)return $("#L"+e).ScrollTo()}},multiSelectLines:function(t){var e,i,n,s,o,r,a;return!event.shiftKey||!$("pre div[class='line hll']")||(s=window.location.hash.match(/\#L(\d+)(?:\-L?(\d+))?/),r=parseInt(null!=s?s[1]:void 0),n=parseInt(null!=s?s[2]:void 0),i=parseInt((a=$(this).attr("href").match(/\#L(\d+)$/))!=null?a[1]:void 0),isNaN(r)&&isNaN(i)||(e=isNaN(n)?r:Math.min(r,n),e===i))?void 0:(o=i>e?"#L"+e+"-"+i:"#L"+i+"-"+e,window.location.hash=o,t.preventDefault())},initHighlightTheme:function(t){return $(".highlight").each(function(){var e,i;return i=$(this).parent("div"),e=i.hasClass("lines")?"lines "+t:t,i.attr("class",e)})}}}.call(this),function(t){"use strict";t.scoped=function(){function e(e){return t(e).attr("scoped")!==void 0}function i(){t("style").each(function(i,n){if(e(n)){var s=t(n);s.data("original-style",s.html())}})}function n(i){t("style").each(function(n,s){if(e(s)&&!i.hasClass("depends_on_"+n))try{s.innerHTML=""}catch(o){t(s).attr("disabled","disabled")}})}function s(){t("style").each(function(i,n){var s=t(n);if(e(n))try{n.innerHTML=s.data("original-style")}catch(o){t(this).removeAttr("disabled")}})}function o(t){var e,i,n,s;if(t.currentStyle)return l(50),t.currentStyle;e=document.defaultView.getComputedStyle(t,null),i="";for(n in e)parseInt(n,10)&&(s=a(e[n]),e[s]!==void 0&&(i+=e[n]+":"+e[s]+";\n"));return i}function r(){var e=t("style");e.each(function(e,i){var n=t(i),s=t(this).parent(),o=s.find("*");if(o.add(s).each(function(){var e=t(this);this.nodeName!=="STYLE"&&e.data("scopedprocessed")&&(e.attr("style",e.data("originalInline")||""),e.data("scopedprocessed",!0))}),n.attr("scoped")!==void 0){try{n.data("scopedprocessed")&&(this.innerHTML=n.data("original-style"))}catch(r){n.removeAttr("disabled")}n.data("scopedprocessed",!0)}})}function a(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function l(e){var i=new Date;for(i.setTime(i.getTime()+e);(new Date).getTime()<i.getTime();)t.noop()}if(!("scoped"in document.createElement("style"))){var h=!0;try{document.createElement("div").style.setProperty("opacity",0,"")}catch(c){h=!1}r(),i();var d=t("style");d.each(function(i){var n=t(this);e(n)&&(n.addClass("this_is_"+i),n.parent().find("style").each(function(){t(this).addClass("depends_on_"+i)}))}),d.each(function(){var i=t(this);if(e(i)){n(i);var r=[],a=i.parent(),l=a.find("*");l.add(a).each(function(){t(this).css("cssText",""),this.nodeName!=="STYLE"&&r.push(o(this))}),l.add(a).each(function(){var e,i;if(this.nodeName!=="STYLE")if(t(this).data("originalInline")||t(this).data("originalInline",t(this).attr("style")),e=r.shift(),"string"==typeof e)t(this).css("cssText",e);else if(h){for(i in e)if("content"!==i||e[i]!=="none")try{this.style.setProperty(i,e[i])}catch(n){}}else for(i in e)try{this&&this.style&&i&&e[i]&&""!==i&&e[i]!==""&&(this.style[i]=e[i])}catch(n){}}),s()}}),t("style").each(function(i,n){if(e(n))try{n.innerHTML=""}catch(s){t(n).attr("disabled","disabled")}})}}}(jQuery),/*!
 * toc - jQuery Table of Contents Plugin
 * v0.3.2
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2014
 * MIT License
 */
!function(t){t.fn.smoothScroller=function(e){e=t.extend({},t.fn.smoothScroller.defaults,e);var i=t(this);return t(e.scrollEl).animate({scrollTop:i.offset().top-t(e.scrollEl).offset().top-e.offset},e.speed,e.ease,function(){var t=i.attr("id");t.length&&(history.pushState?history.pushState(null,null,"#"+t):document.location.hash=t),i.trigger("smoothScrollerComplete")}),this},t.fn.smoothScroller.defaults={speed:400,ease:"swing",scrollEl:"body,html",offset:0},t("body").on("click","[data-smoothscroller]",function(e){e.preventDefault();var i=t(this).attr("href");0===i.indexOf("#")&&t(i).smoothScroller()})}(jQuery),function(t){var e={};t.fn.toc=function(e){var i,n=this,s=t.extend({},jQuery.fn.toc.defaults,e),o=t(s.container),r=t(s.selectors,o),a=[],l=s.activeClass,h=function(e,i){if(s.smoothScrolling&&"function"==typeof s.smoothScrolling){e.preventDefault();var o=t(e.target).attr("href");s.smoothScrolling(o,s,i)}t("li",n).removeClass(l),t(e.target).parent().addClass(l)},c=function(){i&&clearTimeout(i),i=setTimeout(function(){for(var e,i=t(window).scrollTop(),o=Number.MAX_VALUE,r=0,h=0,c=a.length;c>h;h++){var d=Math.abs(a[h]-i);o>d&&(r=h,o=d)}t("li",n).removeClass(l),e=t("li:eq("+r+")",n).addClass(l),s.onHighlight(e)},50)};return s.highlightOnScroll&&(t(window).bind("scroll",c),c()),this.each(function(){var e=t(this),i=t(s.listType);r.each(function(n,o){var r=t(o);a.push(r.offset().top-s.highlightOffset);var l=s.anchorName(n,o,s.prefix);o.id!==l&&t("<span/>").attr("id",l).insertBefore(r);var d=t("<a/>").text(s.headerText(n,o,r)).attr("href","#"+l).bind("click",function(i){t(window).unbind("scroll",c),h(i,function(){t(window).bind("scroll",c)}),e.trigger("selected",t(this).attr("href"))}),u=t("<li/>").addClass(s.itemClass(n,o,r,s.prefix)).append(d);i.append(u)}),e.html(i)})},jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:function(e,i,n){t(e).smoothScroller({offset:i.scrollToOffset}).on("smoothScrollerComplete",function(){n()})},scrollToOffset:0,prefix:"",activeClass:"toc-active",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(i,n){if(n.id.length)return n.id;var s=t(n).text();if(e[s]){for(var o=2;e[s+o];)o++;s=s+"-"+o}return e[s]=!0,s},headerText:function(t,e,i){return i.text()},itemClass:function(t,e,i,n){return n+"-"+i[0].tagName.toLowerCase()}}}(jQuery),function(t){var e={debugOn:!1,markupCreated:!1,markup:"",attachEvents:function(i){t("#gollum-dialog-action-ok").click(function(t){e.eventOK(t,i)}),t("#gollum-dialog-action-cancel").click(e.eventCancel),t('#gollum-dialog-dialog input[type="text"]').keydown(function(t){t.keyCode==13&&e.eventOK(t,i)})},detachEvents:function(){t("#gollum-dialog-action-ok").unbind("click"),t("#gollum-dialog-action-cancel").unbind("click")},createFieldMarkup:function(t){for(var i="<fieldset>",n=0;n<t.length;n++)if(typeof t[n]=="object"){switch(i+='<div class="field">',t[n].type){case"text":i+=e.createFieldText(t[n]);break;case"file":i+=e.createFieldFile(t[n])}i+="</div>"}return i+="</fieldset>"},createFieldText:function(t){var e="";return t.name&&(e+="<label",t.id&&(e+=' for="gollum-dialog-dialog-generated-field-'+t.id+'"'),e+=">"+t.name+"</label>"),e+='<input type="text"',t.id&&(e+=' name="'+t.id+'"',t.type=="code"&&(e+=' class="code"'),t.defaultValue&&(e+=' value="'+t.defaultValue.split('"').join("&quot;")+'"'),e+=' id="gollum-dialog-dialog-generated-field-'+t.id+'">'),t.context&&(e+='<span class="context">'+t.context+"</span>"),e},createFieldFile:function(t){var e="",i=t.id||"upload",n=t.name||"file",s=t.action||"/uploadFile";return e+='<form method=post enctype="multipart/form-data" action="'+s+'" '+'id="'+i+'">',e+='<input type=file name="'+n+'">',e+="</form>",t.context&&(e+='<span class="context">'+t.context+"</span>"),e},createMarkup:function(i,n){return e.markupCreated=!0,t.facebox?'<div id="gollum-dialog-dialog"><div id="gollum-dialog-dialog-title"><h4>'+i+"</h4></div>"+'<div id="gollum-dialog-dialog-body">'+n+"</div>"+'<div id="gollum-dialog-dialog-buttons">'+'<a href="#" title="Cancel" id="gollum-dialog-action-cancel" '+'class="gollum-minibutton">取消</a>'+'<a href="#" title="OK" id="gollum-dialog-action-ok" '+'class="gollum-minibutton">确定</a>'+"</div>"+"</div>":'<div id="gollum-dialog-dialog"><div id="gollum-dialog-dialog-inner"><div id="gollum-dialog-dialog-bg"><div id="gollum-dialog-dialog-title"><h4>'+i+"</h4></div>"+'<div id="gollum-dialog-dialog-body">'+n+"</div>"+'<div id="gollum-dialog-dialog-buttons">'+'<a href="#" title="Cancel" id="gollum-dialog-action-cancel" '+'class="minibutton">取消</a>'+'<a href="#" title="OK" id="gollum-dialog-action-ok" '+'class="minibutton">确定</a>'+"</div>"+"</div>"+"</div>"+"</div>"},eventCancel:function(t){t.preventDefault(),i("Cancelled dialog."),e.hide()},eventOK:function(i,n){i.preventDefault();var s=[];t("#gollum-dialog-dialog-body input").each(function(){s[t(this).attr("name")]=t(this).val()}),n&&"function"==typeof n&&n(s),e.hide()},hide:function(){t.facebox?(e.markupCreated=!1,t(document).trigger("close.facebox"),e.detachEvents()):t.browser.msie?(t("#gollum-dialog-dialog").hide().removeClass("active"),t("select").css("visibility","visible")):(t("#gollum-dialog-dialog").css("display","none"),t("#gollum-dialog-dialog").animate({opacity:0},{duration:200,complete:function(){t("#gollum-dialog-dialog").removeClass("active")}}))},init:function(n){var s="",o="";return n&&"object"==typeof n?(n.body&&typeof n.body=="string"&&(o="<p>"+n.body+"</p>"),n.fields&&typeof n.fields=="object"&&(o+=e.createFieldMarkup(n.fields)),n.title&&typeof n.title=="string"&&(s=n.title),e.markupCreated&&(t.facebox?t(document).trigger("close.facebox"):t("#gollum-dialog-dialog").remove()),e.markup=e.createMarkup(s,o),t.facebox?t(document).bind("reveal.facebox",function(){n.OK&&typeof n.OK=="function"&&(e.attachEvents(n.OK),t(t('#facebox input[type="text"]').get(0)).focus())}):(t("body").append(e.markup),n.OK&&typeof n.OK=="function"&&e.attachEvents(n.OK)),e.show(),void 0):(i("Editor Dialog: Cannot init; invalid init object"),void 0)},show:function(){e.markupCreated?(i("Showing dialog"),t.facebox?t.facebox(e.markup):t.browser.msie?(t("#gollum-dialog.dialog").addClass("active"),e.position(),t("select").css("visibility","hidden")):(t("#gollum-dialog.dialog").css("display","none"),t("#gollum-dialog-dialog").animate({opacity:0},{duration:0,complete:function(){t("#gollum-dialog-dialog").css("display","block"),e.position(),t("#gollum-dialog-dialog").animate({opacity:1},{duration:500}),t(t('#gollum-dialog-dialog input[type="text"]').get(0)).focus()}}))):i("Dialog: No markup to show. Please use init first.")},position:function(){var e=t("#gollum-dialog-dialog-inner").height();t("#gollum-dialog-dialog-inner").css("height",e+"px").css("margin-top",-1*parseInt(e/2))}};t.facebox&&t(document).bind("reveal.facebox",function(){t("#facebox img.close_image").remove()});var i=function(t){e.debugOn&&"undefined"!=typeof console&&console.log(t)};t.GollumDialog=e}(jQuery),$(document).ready(function(){$.GollumEditor()}),function(t){var e={MarkupType:"markdown",EditorMode:"code",NewFile:!1,HasFunctionBar:!0,Debug:!1,NoDefinitionsFor:[]},i={};t.GollumEditor=function(r){if(i=t.extend(e,r),n("GollumEditor loading"),o.baseEditorMarkup()&&(o.titleDisplayed()&&t("#gollum-editor-title-field").addClass("active"),o.editSummaryMarkup()&&(t.GollumEditor.Placeholder.add(t("#gollum-editor-edit-summary input")),t('#gollum-editor form[name="gollum-editor"]').submit(function(e){e.preventDefault(),n("submitting"),t(this).unbind("submit"),t(this).submit()})),o.collapsibleInputs()&&t("#gollum-editor .collapsed a.button, #gollum-editor .expanded a.button").click(function(e){e.preventDefault(),t(this).parent().toggleClass("expanded"),t(this).parent().toggleClass("collapsed")}),o.previewButton()&&t("#gollum-editor #gollum-editor-preview").click(function(){var e=t("#gollum-editor form").attr("action"),i=t(t("#gollum-editor form").get(0));i.attr("action",this.href||"/preview"),i.attr("target","_blank");var n=window.location.pathname.split("/");return i.attr("page",n[n.length-1]||""),i.submit(),i.attr("action",e),i.removeAttr("target"),!1}),o.functionBar())){var l=t("#gollum-editor-body").attr("data-markup-lang");l&&(i.MarkupType=l),s.setActiveLanguage(i.MarkupType),o.formatSelector()&&a.init(t("#gollum-editor-format-selector select")),o.help()&&(t("#gollum-editor-help").hide(),t("#gollum-editor-help").removeClass("jaws"))}},t.GollumEditor.defineLanguage=function(t,e){"object"==typeof e?s.define(t,e):n("GollumEditor.defineLanguage: definition for "+t+" is not an object")};var n=function(t){i.Debug&&"undefined"!=typeof console&&console.log(t)},s={_ACTIVE_LANG:"",_LOADED_LANGS:[],_LANG:{},define:function(e,i){if(s._ACTIVE_LANG=e,s._LOADED_LANGS.push(e),typeof t.GollumEditor.WikiLanguage=="object"){var n={};t.extend(n,t.GollumEditor.WikiLanguage,i),s._LANG[e]=n}else s._LANG[e]=i},getActiveLanguage:function(){return s._ACTIVE_LANG},setActiveLanguage:function(e){s._ACTIVE_LANG!=null&&s._ACTIVE_LANG.length<=0&&a.updateCommitMessage(e),s.getHookFunctionFor("deactivate")&&s.getHookFunctionFor("deactivate")(),s.isLoadedFor(e)?(s._ACTIVE_LANG=e,r.refresh(),s.getHookFunctionFor("activate")&&s.getHookFunctionFor("activate")()):(s._ACTIVE_LANG=null,s.loadFor(e,function(i,l){function h(t,e){t.preventDefault();var i=s.getDefinitionFor(e);return"object"==typeof i&&r.executeAction(i),!1}"success"!=l&&(n("Failed to load language definition for "+e),s.define(e,{})),o.functionBar()&&r.refresh(),s.isValid()&&o.formatSelector()&&a.updateSelected(),s.getHookFunctionFor("activate")&&s.getHookFunctionFor("activate")(),Mousetrap.bind(["command+1","ctrl+1"],function(t){h(t,"function-h1")}),Mousetrap.bind(["command+2","ctrl+2"],function(t){h(t,"function-h2")}),Mousetrap.bind(["command+3","ctrl+3"],function(t){h(t,"function-h3")}),Mousetrap.bind(["command+b","ctrl+b"],function(t){h(t,"function-bold")}),Mousetrap.bind(["command+i","ctrl+i"],function(t){h(t,"function-italic")}),Mousetrap.bind(["command+s","ctrl+s"],function(e){return e.preventDefault(),t("#gollum-editor-submit").trigger("click"),!1})}))},getHookFunctionFor:function(t,e){return e||(e=s._ACTIVE_LANG),s.isLoadedFor(e)&&s._LANG[e][t]&&typeof s._LANG[e][t]=="function"?s._LANG[e][t]:null},getDefinitionFor:function(t,e){return e||(e=s._ACTIVE_LANG),s.isLoadedFor(e)&&s._LANG[e][t]&&typeof s._LANG[e][t]=="object"?s._LANG[e][t]:null},loadFor:function(e,n){if(i.NoDefinitionsFor.length)for(var s=0;s<i.NoDefinitionsFor.length;s++)if(e==i.NoDefinitionsFor[s]&&"function"==typeof n)return n(null,"error"),void 0;var o=baseUrl+"/javascript/editor/langs/"+e+".js";t.ajax({url:o,dataType:"script",complete:function(t,e){"function"==typeof n&&n(t,e)}})},isLoadedFor:function(t){if(s._LOADED_LANGS.length===0)return!1;for(var e=0;e<s._LOADED_LANGS.length;e++)if(s._LOADED_LANGS[e]==t)return!0;return!1},isValid:function(){return s._ACTIVE_LANG&&typeof s._LANG[s._ACTIVE_LANG]=="object"}},o={baseEditorMarkup:function(){return t("#gollum-editor").length&&t("#gollum-editor-body").length},collapsibleInputs:function(){return t("#gollum-editor .collapsed, #gollum-editor .expanded").length},formatSelector:function(){return t("#gollum-editor-format-selector select").length},functionBar:function(){return i.HasFunctionBar&&t("#gollum-editor-function-bar").length},ff4Environment:function(){var t=new RegExp(/Firefox\/4.0b/);return t.test(navigator.userAgent)},editSummaryMarkup:function(){return t("input#gollum-editor-message-field").length>0},help:function(){return t("#gollum-editor #gollum-editor-help").length&&t("#gollum-editor #function-help").length},previewButton:function(){return t("#gollum-editor #gollum-editor-preview").length},titleDisplayed:function(){return i.NewFile}},r={isActive:!1,activate:function(){n("Activating function bar"),t("#gollum-editor-function-bar a.function-button").each(function(){s.getDefinitionFor(t(this).attr("id"))?(t(this).click(r.evtFunctionButtonClick),t(this).removeClass("disabled")):t(this).attr("id")!="function-help"&&t(this).addClass("disabled")}),t("#gollum-editor-function-bar").addClass("active"),r.isActive=!0},deactivate:function(){t("#gollum-editor-function-bar a.function-button").unbind("click"),t("#gollum-editor-function-bar").removeClass("active"),r.isActive=!1},evtFunctionButtonClick:function(e){e.preventDefault();var i=s.getDefinitionFor(t(this).attr("id"));"object"==typeof i&&r.executeAction(i)},executeAction:function(e){var i=t("#gollum-editor-body").val();r.getFieldSelectionPosition(t("#gollum-editor-body"));var s=r.getFieldSelection(t("#gollum-editor-body")),o=s,a=!0,l=null;if(e.exec&&typeof e.exec=="function")return e.exec(i,s,t("#gollum-editor-body")),void 0;var h=/([^\n]+)/gi;if(e.search&&typeof e.search=="object"&&(n("Replacing search Regex"),h=null,h=new RegExp(e.search),n(h)),n('repText is "'+o+'"'),e.replace&&typeof e.replace=="string"){n("Running replacement - using "+e.replace);var c=e.replace;o=o.replace(h,c),o=o.replace(/\$[\d]/g,""),""===o&&(n("Search string is empty"),l=c.indexOf("$1"),o=c.replace(/\$[\d]/g,""),-1==l&&(l=Math.floor(c.length/2)))}e.append&&typeof e.append=="string"&&(o==s&&(a=!1),o+=e.append),o&&r.replaceFieldSelection(t("#gollum-editor-body"),o,a,l)},getFieldSelectionPosition:function(t){if(t.length){var e=0,i=0,s=t.get(0);if(typeof s.selectionStart=="number"&&typeof s.selectionEnd=="number")e=s.selectionStart,i=s.selectionEnd;else{var o=document.selection.createRange(),r=o.duplicate();r.moveToElementText(s),r.setEndPoint("EndToEnd",o),e=r.text.length-o.text.length,i=e+o.text.length;var a,l=e,h=0;for(n("IE: start position is currently "+l),a=0;l>a;a++)s.value.charAt(a).match(/\r/)&&++h;h&&(n("IE start: compensating for "+h+" line breaks"),e-=h,h=0);var c=i;for(a=0;c>a;a++)s.value.charAt(a).match(/\r/)&&++h;h&&(n("IE end: compensating for "+h+" line breaks"),i-=h)}return{start:e,end:i}}},getFieldSelection:function(t){var e,i="";return t.length?(e=r.getFieldSelectionPosition(t),i=t.val().substring(e.start,e.end),n("Selected: "+i+" ("+e.start+", "+e.end+")"),i):!1},isShown:function(){return t("#gollum-editor-function-bar").is(":visible")},refresh:function(){o.functionBar()&&(n("Refreshing function bar"),s.isValid()?(t("#gollum-editor-function-bar a.function-button").unbind("click"),r.activate(),l&&l.setActiveHelp(s.getActiveLanguage())):(n("Language definition is invalid."),r.isShown()&&r.deactivate(),l.isShown()&&l.hide()))},replaceFieldSelection:function(t,e,i,n){var s=r.getFieldSelectionPosition(t),o=t.val(),a=!0;i===!1&&(a=!1);var l=null;if(t[0].scrollTop&&(l=t[0].scrollTop),t.val(o.substring(0,s.start)+e+o.substring(s.end)),t[0].focus(),a)if(t[0].setSelectionRange)n?t[0].setSelectionRange(s.start+n,s.start+n):t[0].setSelectionRange(s.start,s.start+e.length);else if(t[0].createTextRange){var h=t[0].createTextRange();h.collapse(!0),n?(h.moveEnd(s.start+n),h.moveStart(s.start+n)):(h.moveEnd("character",s.start+e.length),h.moveStart("character",s.start)),h.select()}l&&(t[0].scrollTop=l)}},a={$_SELECTOR:null,evtChangeFormat:function(){var e=t(this).val();a.updateCommitMessage(e),s.setActiveLanguage(e)},updateCommitMessage:function(t){var e=document.getElementById("gollum-editor-message-field"),i=e.value;/^(?:created|updated)/i.test(i)&&(e.value=i.replace(/\([^\)]*\)$/,"("+t+")"))},init:function(t){n("Initializing format selector"),a.$_SELECTOR&&typeof a.$_SELECTOR=="object"&&a.$_SELECTOR.unbind("change"),a.$_SELECTOR=t,a.updateSelected(),a.$_SELECTOR.change(a.evtChangeFormat)},updateSelected:function(){var t=s.getActiveLanguage();a.$_SELECTOR.val(t)}},l={_ACTIVE_HELP:"",_LOADED_HELP_LANGS:[],_HELP:{},define:function(e,i){l.isValidHelpFormat(i)?(n("help is a valid format"),l._ACTIVE_HELP_LANG=e,l._LOADED_HELP_LANGS.push(e),l._HELP[e]=i,t("#function-help").length&&(t("#function-help").hasClass("disabled")&&t("#function-help").removeClass("disabled"),t("#function-help").unbind("click"),t("#function-help").click(l.evtHelpButtonClick),l.generateHelpMenuFor(e),t("#gollum-editor-help").length&&typeof t("#gollum-editor-help").attr("data-autodisplay")!="undefined"&&t("#gollum-editor-help").attr("data-autodisplay")==="true"&&l.show())):t("#function-help").length&&t("#function-help").addClass("disabled")},generateHelpMenuFor:function(e){if(!l._HELP[e])return n("Help is not defined for "+e.toString()),!1;var i=l._HELP[e];t("#gollum-editor-help-parent").html(""),t("#gollum-editor-help-list").html(""),t("#gollum-editor-help-content").html("");for(var s=0;s<i.length&&typeof i[s]=="object";s++){var o=t('<li><a href="#" rel="'+s+'">'+i[s].menuName+"</a></li>");t("#gollum-editor-help-parent").append(o),0===s&&o.children("a").addClass("selected"),o.children("a").click(l.evtParentMenuClick)}l.generateSubMenu(i[0],0),t(t("#gollum-editor-help-list li a").get(0)).click()},generateSubMenu:function(e,i){t("#gollum-editor-help-list").html(""),t("#gollum-editor-help-content").html("");for(var n=0;n<e.content.length&&typeof e.content[n]=="object";n++){var s=t('<li><a href="#" rel="'+i+":"+n+'">'+e.content[n].menuName+"</a></li>");t("#gollum-editor-help-list").append(s),s.children("a").click(l.evtSubMenuClick)}},hide:function(){t.browser.msie?t("#gollum-editor-help").css("display","none"):t("#gollum-editor-help").animate({opacity:0},200,function(){t("#gollum-editor-help").animate({height:"hide"},200)})},show:function(){t.browser.msie?t("#gollum-editor-help").css("display","block"):t("#gollum-editor-help").animate({height:"show"},200,function(){t("#gollum-editor-help").animate({opacity:1},300)})},showHelpFor:function(e,i){var n=l._HELP[l._ACTIVE_HELP_LANG][e].content[i].data;t("#gollum-editor-help-content").html(n)},isLoadedFor:function(t){for(var e=0;e<l._LOADED_HELP_LANGS.length;e++)if(t==l._LOADED_HELP_LANGS[e])return!0;return!1},isShown:function(){return t("#gollum-editor-help").is(":visible")},isValidHelpFormat:function(t){return"object"==typeof t&&t.length&&typeof t[0].menuName=="string"&&typeof t[0].content=="object"&&t[0].content.length},setActiveHelp:function(e){l.isLoadedFor(e)?(l._ACTIVE_HELP_LANG=e,t("#function-help").length&&(t("#function-help").hasClass("disabled")&&t("#function-help").removeClass("disabled"),t("#function-help").unbind("click"),t("#function-help").click(l.evtHelpButtonClick),l.generateHelpMenuFor(e))):(t("#function-help").length&&t("#function-help").addClass("disabled"),l.isShown()&&l.hide())},evtHelpButtonClick:function(e){e.preventDefault(),l.isShown()?(t("#gollum-editor-help").length&&t("#gollum-editor-help").attr("data-autodisplay")!=="undefined"&&t("#gollum-editor-help").attr("data-autodisplay")==="true"&&(t.post("/wiki/help?_method=delete"),t("#gollum-editor-help").attr("data-autodisplay","")),l.hide()):l.show()},evtParentMenuClick:function(e){if(e.preventDefault(),!t(this).hasClass("selected")){var i=t(this).attr("rel"),n=l._HELP[l._ACTIVE_HELP_LANG][i];t("#gollum-editor-help-parent li a").removeClass("selected"),t(this).addClass("selected"),l.generateSubMenu(n,i),t(t("#gollum-editor-help-list li a").get(0)).click()}},evtSubMenuClick:function(e){if(e.preventDefault(),!t(this).hasClass("selected")){var i=t(this).attr("rel").split(":");t("#gollum-editor-help-list li a").removeClass("selected"),t(this).addClass("selected"),l.showHelpFor(i[0],i[1])}}};t.GollumEditor.defineHelp=l.define,t.GollumEditor.Dialog=t.GollumDialog,t.GollumEditor.replaceSelection=function(e){r.replaceFieldSelection(t("#gollum-editor-body"),e)},t.GollumEditor.Placeholder=t.GollumPlaceholder}(jQuery),$(document).ready(function(){$("#delete-link").click(function(t){var e=confirm($(this).data("confirm"));if(e){var i=baseUrl+"/delete/"+pageFullPath;window.location=i}t.preventDefault()});var t={node1:null,node2:null,selectNodeRange:function(){if(t.node1&&t.node2){if($("#wiki-history td.selected").removeClass("selected"),t.node1.addClass("selected"),t.node2.addClass("selected"),t.nodeComesAfter(t.node1,t.node2)){var e=t.node1;t.node1=t.node2,t.node2=e}for(var i=t.node1.next();i&&(i.addClass("selected"),i[0]!=t.node2[0]);)i=i.next()}},nodeComesAfter:function(t,e){var i=!1;return $(t).prevAll().each(function(){$(this)[0]==$(e)[0]&&(i=!0)}),i},checkNode:function(e){var i=e,n=$(e).parent().parent();i.is(":checked")?t.node1?t.node2?i[0].checked=!1:(t.node2=n,t.node2.addClass("selected"),t.selectNodeRange(t.node1,t.node2)):(t.node1=n,t.node1.addClass("selected")):($("#wiki-history tr.selected").each(function(){$(this).find("td.checkbox input").is(":checked")||$(this).removeClass("selected")}),n[0]==t.node1[0]?(t.node1=null,t.node2&&(t.node1=t.node2,t.node2=null)):n[0]==t.node2[0]&&(t.node2=null))}};if($.browser.mozilla?$("body").addClass("ff"):$.browser.webkit?$("body").addClass("webkit"):$.browser.msie&&($("body").addClass("ie"),$.browser.version=="7.0"?$("body").addClass("ie7"):$.browser.version=="8.0"&&$("body").addClass("ie8")),$("#minibutton-upload-page").length&&($("#minibutton-upload-page").parent().removeClass("jaws"),$("#minibutton-upload-page").click(function(t){t.preventDefault(),$.GollumDialog.init({title:"Upload File",fields:[{type:"file",context:"Your uploaded file will be accessible at /uploads/[filename]"}],OK:function(){$("#upload").submit()}})})),$("#minibutton-rename-page").length&&($("#minibutton-rename-page").parent().removeClass("jaws"),$("#minibutton-rename-page").click(function(t){t.preventDefault();var e=pagePath(),i=pageName(),n="Renamed page will be under <span class='path'>"+htmlEscape("/"+e)+"</span>"+" unless an absolute path is given.";$.GollumDialog.init({title:"Rename Page",fields:[{id:"name",name:"Rename to",type:"text",defaultValue:i||"",context:n}],OK:function(t){var n="Rename Page";t.name&&(n=t.name);var s=abspath(e,n),o=s[0],r="/"+e==o?"Renamed "+i+" to "+n:"Renamed "+i+" to "+s.join("/"),a=$("form[name=rename]");a.children("input[name=rename]").val(s.join("/")),a.children("input[name=message]").val(r),a.submit()}})})),$("#minibutton-new-page").length&&($("#minibutton-new-page").parent().removeClass("jaws"),$("#minibutton-new-page").click(function(t){t.preventDefault();var e=pagePath();void 0===e&&$("#file-browser").length!=0&&(e=""==baseUrl?window.location.pathname.substr(1):window.location.pathname.substr(baseUrl.length+1),e=e.replace(/^pages\/?/,""),e=e.replace(/\/$/,""));var i="Page will be created under <span class='path'>"+htmlEscape("/"+e)+"</span>"+" unless an absolute path is given.";$.GollumDialog.init({title:"Create New Page",fields:[{id:"name",name:"Page Name",type:"text",defaultValue:"",context:i}],OK:function(t){var i="New Page";t.name&&(i=t.name);for(var n=[],s=abspath(e,i).join("/").split("/"),o=0;o<s.length;o++)n.push(encodeURIComponent(s[o]));window.location=baseUrl+n.join("/")}})})),$("#wiki-wrapper").hasClass("history")&&($("#wiki-history td.checkbox input").each(function(){$(this).click(function(){t.checkNode($(this))}),$(this).is(":checked")&&t.checkNode($(this))}),$(".history a.action-compare-revision").length&&$(".history a.action-compare-revision").click(function(){$("#version-form").submit()})),$("#searchbar a#search-submit").length&&($.GollumPlaceholder.add($("#searchbar #search-query")),$("#searchbar a#search-submit").click(function(t){t.preventDefault(),$("#searchbar #search-form")[0].submit()}),$("#searchbar #search-form").submit(function(){$.GollumPlaceholder.clearAll(),$(this).unbind("submit"),$(this).submit()})),$("#gollum-revert-form").length&&$(".gollum-revert-button").length&&$("a.gollum-revert-button").click(function(t){t.preventDefault(),$("#gollum-revert-form").submit()}),$("#wiki-wrapper.edit").length&&($("#gollum-editor-submit").click(function(){window.onbeforeunload=null}),$("#gollum-editor-body").one("change",function(){window.onbeforeunload=function(){return"Leaving will discard all edits!"}}),$.GollumEditor()),$("#wiki-wrapper.create").length&&($("#gollum-editor-submit").click(function(){window.onbeforeunload=null}),$("#gollum-editor-body").one("change",function(){window.onbeforeunload=function(){return"Leaving will not create a new page!"}}),$.GollumEditor({NewFile:!0,MarkupType:default_markup})),$("#wiki-history").length){var e={};$("img.identicon").each(function(t,i){var n=$(i),s=parseInt(n.data("identicon"),10),o=e[s];if(void 0===o){var r=$("<canvas width=16 height=16/>").get(0);render_identicon(r,s,16),o=r.toDataURL("image/png"),e[s]=o}n.attr("src",o)})}}),function(t){var e={_PLACEHOLDERS:[],_p:function(e){this.fieldObject=e,this.placeholderText=e.val();var i=e.val();e.addClass("ph"),e.blur(function(){t(this).val()==""&&(t(this).val(i),t(this).addClass("ph"))}),e.focus(function(){t(this).removeClass("ph"),t(this).val()==i?t(this).val(""):t(this)[0].select()})},add:function(t){e._PLACEHOLDERS.push(new e._p(t))},clearAll:function(){for(var t=0;t<e._PLACEHOLDERS.length;t++)e._PLACEHOLDERS[t].fieldObject.val()==e._PLACEHOLDERS[t].placeholderText&&e._PLACEHOLDERS[t].fieldObject.val("")},exists:function(){return _PLACEHOLDERS.length}};t.GollumPlaceholder=e}(jQuery),/*
 * jQuery Color Animations
 * Copyright 2007 John Resig
 * Released under the MIT and GPL licenses.
 */
function(t){function e(e){var i;return e&&e.constructor==Array&&e.length==3?e:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:n[t.trim(e).toLowerCase()]}function i(i,n){var s;do{if(s=t.curCSS(i,n),""!=s&&"transparent"!=s||t.nodeName(i,"body"))break;n="backgroundColor"}while(i=i.parentNode);return e(s)}t.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(n,s){t.fx.step[s]=function(t){t.state==0&&(t.start=i(t.elem,s),t.end=e(t.end)),t.elem.style[s]="rgb("+[Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0]),255),0),Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1]),255),0),Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2]),255),0)].join(",")+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){var e={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"+$1+$2"},"function-ul":{search:/(^[\n]+)([\n\s]*)/g,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/g,replace:". $1$2"},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"----\n$1$2\n----\n"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(e){var i="";e.text&&e.href&&(i=e.href+"["+e.text+"]"),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(e){var i="";e.url&&e.alt&&(i="image::"+e.url+"["+e.alt+"]"),t.GollumEditor.replaceSelection(i)}})}}};t.GollumEditor.defineLanguage("asciidoc",e);var i=[{menuName:"Text Formatting",content:[{menuName:"Headers",data:"<p>ASCIIDoc headers can be written in two ways: with differing underlines or with different indentation using <code>=</code> (equals sign). ASCIIDoc supports headings 1-4. The editor will automatically use the <code>=</code> notation. To create a level one header, prefix your line with one <code>=</code>. Level two headers are created with <code>==</code> and so on.</p>"},{menuName:"Bold / Italic",data:"<p>To display text as <strong>bold</strong>, wrap the text in <code>*</code> (asterisks). To display text as <em>italic</em>, wrap the text in <code>_</code> (underscores). To create <code>monospace</code> text, wrap the text in <code>+</code> (plus signs)."},{menuName:"Scripts",data:"<p>Superscript and subscript is created the same way as other inline formats. To create superscript text, wrap your text in <code>^</code> (carats). To create subscript text, wrap your text in <code>~</code> (tildes).</p>"},{menuName:"Special Characters",data:"<p>ASCIIDoc will automatically convert textual representations of commonly-used special characters. For example, <code>(R)</code> becomes &reg;, <code>(C)</code> becomes &copy; and <code>(TM)</code> becomes &trade;.</p>"}]},{menuName:"Blocks",content:[{menuName:"Paragraphs",data:"<p>ASCIIDoc allows paragraphs to have optional titles or icons to denote special sections. To make a normal paragraph, simply add a line between blocks and a new paragraph will start. If you want to title your paragraphs, adda line prefixed by <code>.</code> (full stop). An example paragraph with optional title is displayed below:<br><br><code>.Optional Title<br><br>This is my paragraph. It is two sentences long.</code></p>"},{menuName:"Source Blocks",data:"<p>To create source blocks (long blocks of code), follow the same syntax as above but with an extra line denoting the inline source and lines of four dashes (<code>----</code>) delimiting the source block.. An example of Python source is below:<br><br><code>.python.py<br>[source,python]<br>----<br># i just wrote a comment in python<br># and maybe one more<br>----</code></p>"},{menuName:"Comment Blocks",data:"<p>Comment blocks are useful if you want to keep notes for yourself inline but do not want them displayed to the public. To create a comment block, simply wrap the paragraph in dividers with four slashes (<code>////</code>). An example comment block is below:<br><br><code>////<br>My comment block is here now<br><br>It can be multiple paragraphs. Really.<br>////</p>"},{menuName:"Quote Blocks",data:"<p>Quote blocks work much like comment blocks &mdash; simply create dividers using four underscores (<code>____</code>) around your quote. An example quote block is displayed below:<br><code>____<br>This is my quote block. Quote something nice here, otherwise there is no point in quoting.<br>____</code></p>"}]},{menuName:"Macros",content:[{menuName:"Links",data:'<p>To create links to external pages, you can simply write the URI if you want the URI to link to itself. (i.e., <code>http://github.com/</code> will automatically be parsed to <a href="javascript:void(0);">http://github.com/</a>. If you want different text to be displayed, simply append it to the end of the URI in between <code>[</code> (brackets.) For example, <code>http://github.com/[GitHub]</code> will be parsed as <a href="javascript:void(0);">GitHub</a>, with the URI pointing to <code>http://github.com</code>.</p>'},{menuName:"Images",data:"<p>Images in ASCIIDoc work much like hyperlinks, but image URLs are prefixed with <code>image:</code>. For example, to link to an image at <code>images/icons/home.png</code>, write <code>image:images/icons/home.png</code>. Alt text can be added by appending the text to the URI in <code>[</code> (brackets).</p>"}]}];t.GollumEditor.defineHelp("asciidoc",i)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n]*)/gi,replace:"**$1**$2"},"function-italic":{search:/([^\n]+)([\n]*)/gi,replace:"//$1//$2"},"function-code":{search:/([^\n]+)([\n]*)/gi,replace:"{{{$1}}}$2"},"function-hr":{append:"\n\n----\n\n"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/gi,replace:"# $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(e){var i="[["+e.href+"|"+e.text+"]]";t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(e){var i="";e.url&&e.alt&&(i="{{"+e.url,e.alt!=""&&(i+="|"+e.alt+"}}")),t.GollumEditor.replaceSelection(i)}})}}};t.GollumEditor.defineLanguage("creole",e)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"**$1**$2"},"function-italic":{search:/([^\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-code":{search:/([^\n]+)([\n\s]*)/g,replace:"`$1`$2"},"function-hr":{append:"\n***\n"},"function-ul":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-ol":{exec:function(e,i){for(var n="",s=i.split("\n"),o=/[\w]+/,r=0;r<s.length;r++)o.test(s[r])&&(n+=(r+1).toString()+". "+s[r]+"\n");t.GollumEditor.replaceSelection(n)}},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"> $1$2"},"function-h1":{search:/(.+)([\n]?)/g,replace:"# $1$2"},"function-h2":{search:/(.+)([\n]?)/g,replace:"## $1$2"},"function-h3":{search:/(.+)([\n]?)/g,replace:"### $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"插入链接",fields:[{id:"text",name:"链接文字",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(e){var i="";e.text&&e.href&&(i="["+e.text+"]("+e.href+")"),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"插入图片",fields:[{id:"url",name:"图片路径",type:"text"},{id:"alt",name:"Alt文字",type:"text"}],OK:function(e){var i="";e.url&&e.alt&&(i="!["+e.alt+"]"+"("+e.url+")"),t.GollumEditor.replaceSelection(i)}})}}},i=[{menuName:"区块元素",content:[{menuName:"段落与换行",data:"<p>创建一个段落, 由一个或多个连续的文本行组成。</p><p>换行只需输入两个以上的空格即可。</p>"},{menuName:"标题",data:"<p>一个<code>#</code> 代表h1，<code>##</code> 代表h2，<code>###</code> 代表h3。</p><p>例如：</p><p># 你好h1</p><p>注意# 后面的空格！</p>"},{menuName:"区块引用",data:"<p>区块用 <code>&gt;</code> 表示。每行一个 <code>&gt; </code>符号。</p><p>例如：</p><p>&gt; Hello,</p><p>&gt; 欢迎来到GIT@OSC</p><p>注意<code>&gt;</code> 后面有空格。</p>"},{menuName:"列表",data:"<p>支持有序或者无序的列表. 你可以使用 <code>*</code>, <code>+</code> or <code>-</code>.</p> 符号后面最多有4个空格或者一个tab."},{menuName:"代码块",data:"<p>建立代码区块很简单，只要简单地缩进 4 个空格或是 1 个制表符就可以</p>"},{menuName:"分隔线",data:"<p>你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：</p><p>* * *</p><p>***</p><p>*****</p><p>- - -</p><p>---------------------------------------</p>"}]},{menuName:"区段元素",content:[{menuName:"链接",data:"<p>创建链接的方式很简单，如下格式：</p><p>[谷歌](http://www.google.com)</p>你也可以在编辑器中直接点击链接按钮创建。"},{menuName:"强调",data:"<p>使用星号（*）和底线（_）作为标记强调字词的符号，被 * 或 _ 包围的字词会被转成用 &lt;em&gt; 标签包围，用两个 * 或 _ 包起来的话，则会被转成 <code>&lt;strong&gt;</code></p><p>例如：</p><p>*single asterisks*</p><p>_single underscores_</p><p>**double asterisks**</p><p>__double underscores__</p></p>"},{menuName:"代码",data:"<p>需要包含代码时，使用 (<code>`</code>)符号包围. 例如： <code>`myFunction`</code></p>"},{menuName:"图片",data:"<p>添加图片非常简单，格式如下：<p><code>![谷歌logo](http://www.google.com/logo.jpg)</code></p></p>"}]},{menuName:"其他",content:[{menuName:"自动链接",data:'<p>如果你要创建一个简单的链接，可以使用 <code>&lt;</code> and <code>&gt;</code> 包围. 例如 <a href="javascript:void(0);">http://git.oschina.net/</a> 写成 <code>&lt;http://git.oschina.net/&gt;</code>.</p>'},{menuName:"反斜杠",data:"<p>当我们只是想输出某个符号的时候，比如 +，*，#，我们可以在符号前面加入<code>\\</code>, 保持显示你想要的符号。</p><p>例如：如果你想要用星号加在文字旁边的方式来做出强调效果（但不用 <em> 标签），你可以在星号的前面加上反斜杠：<code>\\*literal asterisks\\*</code></code></p>"}]}];t.GollumEditor.defineLanguage("markdown",e),t.GollumEditor.defineHelp("markdown",i)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/([^\n]+)([\n\s]*)/g,replace:"/$1/$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"=$1=$2"},"function-ul":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/g,replace:"1. $1$2"},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"#+BEGIN_QUOTE\n$1$2\n#+END_QUOTE\n"},"function-h1":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-h2":{search:/(.+)([\n]?)/g,replace:"** $1$2"},"function-h3":{search:/(.+)([\n]?)/g,replace:"*** $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(e){var i="";e.text&&e.href?i="[["+e.href+"]["+e.text+"]]":e.href&&(i="[["+e.href+"]]"),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"}],OK:function(e){var i="";e.url&&(i="[["+e.url+"]]"),t.GollumEditor.replaceSelection(i)}})}}},i=[{menuName:"块元素",content:[{menuName:"Paragraphs &amp; Breaks",data:"<p>To create a paragraph, simply create a block of text that is not separated by one or more blank lines. Blocks of text separated by one or more blank lines will be parsed as paragraphs.</p>"},{menuName:"Headers",data:"<p>Simply prefix your header text with the number of <code>*</code> characters to specify heading depth. For example: <code>* Header 1</code>, <code>** Header 2</code> and <code>*** Header 3</code> will be progressively smaller headers.</p>"},{menuName:"Blockquotes",data:"<p>To create a blockquote, simple embed the text between <code>#+BEGIN_QUOTE</code> and <code>#+END_QUOTE</code>. An example quote block is displayed below:<br><code>#+BEGIN_QUOTE<br>This is my quote block. Quote something nice here, otherwise there is no point in quoting.<br>#+END_QUOTE</code></p>"},{menuName:"Lists",data:"<p>Org-mode supports both ordered and unordered lists. To create an ordered list, simply prefix each line with a number (any number will do &mdash; this is why the editor only uses one number.) To create an unordered list, you can prefix each line with <code>+</code> or <code>-</code>.</p>"},{menuName:"Code Blocks",data:"<p>Code Blocks are similar to blockquote, except that <code>#+BEGIN_EXAMPLE</code> and <code>#+END_EXAMPLE</code> are used.</p>"},{menuName:"Tables",data:"<p>Org-mode supports simple tables (tables with equal number of cells in each row). To create a simple table, just separate the contents of each cell with a <code>|</code> character. For example, <br><br><code>|one|two|three|<br>|four|five|six|</code><br><br> will appear as a table with two rows and three columns.  Additionally, <br><br><code>|one|two|three|<br>|---+---+-----|<br>|four|five|six|</code><br><br> will also appear as a table, but the first row will be interpreted as a header row and the <code>&lt;th&gt;</code> tag will be used to render it. </p>"}]},{menuName:"Span Elements",content:[{menuName:"Links",data:'<p>To create links to external pages, you need to enclose the URI in double square brackets. (i.e., <code>[[http://github.com/]]</code> will automatically be parsed to <a href="javascript:void(0);">http://github.com/</a>)If you want to add text, to be displayed to the user, you write the URI and the text next to each other, both enclosed in square brackets and both of them together enclosed in another pair of square brackets. For example, if you want your link to display the text &ldquo;GitHub&rdquo;, you write <code>[[http://github.com][GitHub]]</code>.</p>'},{menuName:"Emphasis",data:"<p>Forward slashes (<code>/</code>) are treated as emphasis and are wrapped with an <code>&lt;i&gt;</code> tag. Asterisks (<code>*</code>) are treated as bold using the <code>&lt;b&gt;</code> tag.</p>"},{menuName:"Code",data:"<p>To create inline spans of code, simply wrap the code in equal signs (<code>=</code>). Orgmode will turn <code>=myFunction=</code> into <code>myFunction</code>.</p>"},{menuName:"Images",data:"<p>Org-mode image syntax is exactly same as the syntax that you would use for a URI to link to itself. The image URI is enclosed in double square brackets. Alt text on images is not currently supported by Gollum's Org-mode parser.</p>"}]}];t.GollumEditor.defineLanguage("org",e),t.GollumEditor.defineHelp("org",i)}(jQuery),function(t){var e={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"B<$1>$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"I<$1>$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"C<$1>$2"},"function-h1":{search:/(.+)([\n]?)/gi,replace:"=head1 $1$2"},"function-h2":{search:/(.+)([\n]?)/gi,replace:"=head2 $1$2"},"function-h3":{search:/(.+)([\n]?)/gi,replace:"=head3 $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(e){var i="";e.text&&e.href&&(i="L<"+e.text+"|"+e.href+">"),t.GollumEditor.replaceSelection(i)}})}}};t.GollumEditor.defineLanguage("pod",e);var i=[{menuName:"Command Paragraphs",content:[{menuName:"Headings",data:"<p>All command paragraphs start with <code>=</code> (equals sign).</p><p>To create headings 1 through 4, begin your command paragraph with <code>=headN</code>, where <code>N</code> is the number of the heading 1 through 4. For example, to make a first-order heading (the largest possible,) write <code>=head1</code>, then on the next line begin your paragraph that you want under the heading.</p>"},{menuName:"Beginning &amp; Ending",data:"<p>Perl pod blocks should begin with <code>=pod</code> and end with <code>=cut</code>, signifying to Pod parsers that the pod block has begun and ended. These command paragraphs only signal the beginning and end of a pod block.</p>"},{menuName:"Other Formats",data:"<p>pod also allows blocks in other formats, such as HTML or plain text. To create one of these blocks, use the <code>=format SYNTAX</code> command paragraph, where <code>SYNTAX</code> is the syntax of the block (e.g. <code>html</code> or <code>txt</code>). At the end of your block, use the <code>=end SYNTAX</code> block.</p>"},{menuName:"Encoding",data:"<p>If you are having encoding troubles, use the <code>=encoding ENC_TYPE</code> command, where <code>ENC_TYPE</code> is the encoding type (e.g. <code>utf8</code>, <code>koi8-r</code>). This will affect the entire document, not just the block below the command.</p>"}]},{menuName:"Formatting",content:[{menuName:"Text",data:"<p>Formatting text as <strong>bold</strong>, <em>italic</em> or <code>code</code> works in the <code>S&lt;word&gt;</code> syntax, where <code>S</code> is an abbreviation for the type of text you are trying to create. For example, <code>B&lt;my bold text&gt;</code> becomes <strong>my bold text</strong>,  <code>I&lt;italic text&gt;</code> becomes <em>italic text</em> and <code>C&lt;code here()&gt;</code> becomes <code>code here()</code>.</p>"},{menuName:"Hyperlinks",data:"<p>Writing hyperlinks in pod is much like formatting text, using the same <code>S&lt;&gt;</code> syntax. Instead of <code>B</code>, <code>I</code> or <code>C</code>, use <code>L</code> to begin a hyperlink.</p><p>pod allows you to hyperlink to a <code>man</code> page, a Perl documentation page, or another web page. To link to a <code>man</code> or Perl documentation page, simply include the page name in the link (e.g. <code>L&lt;perl(1)&gt;</code> or <code>L&lt;Net::Ping&gt;</code>). If you want to link to a web page, separate the URL and the link text with a pipe (e.g. to link to github.com, write <code>L&lt;GitHub|http://github.com/&gt;</code>)."}]}];t.GollumEditor.defineHelp("pod",i)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"((*$1*))$2"},"function-code":{search:/([^\n]+)([\n\s]*)/g,replace:"(({$1}))$2"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{exec:function(e,i){for(var n="",s=i.split("\n"),o=/[\w]+/,r=0;r<s.length;r++)o.test(s[r])&&(n+="("+(r+1).toString()+") "+s[r]);t.GollumEditor.replaceSelection(n)}},"function-h1":{search:/(.+)([\n]?)/gi,replace:"= $1$2"},"function-h2":{search:/(.+)([\n]?)/gi,replace:"== $1$2"},"function-h3":{search:/(.+)([\n]?)/gi,replace:"=== $1$2"}};t.GollumEditor.defineLanguage("rdoc",e)}(jQuery),function(t){var e={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-hr":{append:"\n***\n"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"<pre><code>$1</code></pre>$2"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/gi,replace:"# $1$2"},"function-blockquote":{search:/(.+)([\n]?)/gi,replace:"bq. $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(e){var i="";e.text&&e.href&&(i='"'+e.text+'":'+e.href),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(e){if(e.url){var i="!"+e.url;e.alt!=""&&(i+="("+e.alt+")"),i+="!",t.GollumEditor.replaceSelection(i)}}})}}};t.GollumEditor.defineLanguage("textile",e);var i=[{menuName:"Phrase Modifiers",content:[{menuName:"Emphasis / Strength",data:"<p>To place emphasis or strength on inline text, simply place <code>_</code> (underscores) around the text for emphasis or <code>*</code> (asterisks) around the text for strength. In most browsers, <code>_mytext_</code> will appear as italics and <code>*mytext*</code> will appear as bold.</p><p>To force italics or bold, simply double the characters: <code>__mytext__</code> will appear italic and <code>**mytext**</code> will appear as bold text.</p>"},{menuName:"Citations / Editing",data:'<p>To display citations, wrap your text in <code>??</code> (two question marks).</p><p>To display edit marks such as deleted text (strikethrough) or inserted text (underlined text), wrap your text in <code>-</code> (minuses) or <code>+</code> (pluses). For example <code>-mytext-</code> will be rendered as <span style="text-decoration: line-through;">mytext</span> and <code>+mytext+</code> will be rendered as <span style="text-decoration: underline;">mytext</span></p>'},{menuName:"Superscript / Subscript",data:"<p>To display superscript, wrap your text in <code>^</code> (carets). To display subscript, wrap your text in <code>~</code> (tildes).</p>"},{menuName:"Code",data:"<p>To display monospace code, wrap your text in <code>@</code> (at symbol). For example, <code>@mytext@</code> will appear as <code>mytext</code>.</p>"},{menuName:"Acronyms",data:'<p>To create an acronym, suffix the acronym with the definition in parentheses. For example, <code>JS(JavaScript)</code> will be displayed as <abbr title="JavaScript">JS</abbr>.</p>'}]},{menuName:"Block Modifiers",content:[{menuName:"Headings",data:"<p>To display a heading in Textile, prefix your line of text with <code>hn.</code>, where <code>n</code> equals the heading size you want (1 is largest, 6 is smallest).</p>"},{menuName:"Paragraphs / Quotes",data:"<p>To create a new paragraph, prefix your first line of a block of text with <code>p.</code>.</p><p>To create a blockquote, make sure at least one blank line exists between your text and any surrounding text, and then prefix that block with <code>bq.</code> If you need to extend a blockquote to more than one text block, write <code>bq..</code> (note the two periods) and prefix your next normal paragraph with <code>p.</code></p>"},{menuName:"Code Blocks",data:"<p>Code blocks in textile are simply prefixed like any other block. To create a code block, place the beginning of the block on a separate line and prefix it with <code>bc.</code></p><p>To display a preformatted block, prefix the block with <code>pre.</code></p>"},{menuName:"Lists",data:"<p>To create ordered lists, prefix each line with <code>#</code>. To create unordered lists, prefix each line with <code>*</code>.</p>"}]},{menuName:"Links / Images",content:[{menuName:"Links",data:'<p>To display a link, put the text you want to display in quotes, then a colon (<code>:</code>), then the URL after the colon. For example <code>&quot;GitHub&quot;:http://github.com/</code> will appear as <a href="javascript:void(0);">GitHub</a>.</p>'},{menuName:"Images",data:"<p>To display an image, simply wrap the image&rsquo;s URL in <code>!</code> (exclamation points). If you want to link the image to a URL, you can blend the image and link syntax: place your image URL in the exclamation points and suffix that with a colon and your URL. For example, an image at <code>http://myurl/image.png</code> that should link to <code>http://myurl/</code> should be written as <code>!http://myurl/image.png!:http://myurl/</code>.</p>"}]}];t.GollumEditor.defineHelp("textile",i)}(jQuery),window.Mousetrap=function(){function t(t,e,i){return t.addEventListener?t.addEventListener(e,i,!1):(t.attachEvent("on"+e,i),void 0)}function e(t){return"keypress"==t.type?String.fromCharCode(t.which):d[t.which]?d[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function i(t){var e,t=t||{},i=!1;for(e in v)t[e]?i=!0:v[e]=0;i||(y=!1)}function n(t,e,i,n,s){var o,a,l=[];if(!g[t])return[];for("keyup"==i&&r(t)&&(e=[t]),o=0;o<g[t].length;++o)a=g[t][o],a.seq&&v[a.seq]!=a.level||i!=a.action||"keypress"!=i&&e.sort().join(",")!==a.modifiers.sort().join(",")||(n&&a.combo==s&&g[t].splice(o,1),l.push(a));return l}function s(t,e){!1===t(e)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,e.cancelBubble=!0)}function o(t){t.which="number"==typeof t.which?t.which:t.keyCode;var o=e(t);if(o)if("keyup"==t.type&&b==o)b=!1;else{var a=t.target||t.srcElement,l=a.tagName;if(!(-1<(" "+a.className+" ").indexOf(" mousetrap ")?0:"INPUT"==l||"SELECT"==l||"TEXTAREA"==l||a.contentEditable&&"true"==a.contentEditable)){a=[],t.shiftKey&&a.push("shift"),t.altKey&&a.push("alt"),t.ctrlKey&&a.push("ctrl"),t.metaKey&&a.push("meta");for(var a=n(o,a,t.type),h={},c=!1,l=0;l<a.length;++l)a[l].seq?(c=!0,h[a[l].seq]=1,s(a[l].callback,t)):!c&&!y&&s(a[l].callback,t);t.type==y&&!r(o)&&i(h)}}}function r(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function a(t,e,i){if(!i){if(!h){h={};for(var n in d)n>95&&112>n||d.hasOwnProperty(n)&&(h[d[n]]=n)}i=h[t]?"keydown":"keypress"}return"keypress"==i&&e.length&&(i="keydown"),i}function l(t,o,h,d,u){var m,x,t=t.replace(/\s+/g," "),w=t.split(" "),_=[];if(1<w.length){var k=t,C=h;for(v[k]=0,C||(C=a(w[0],[])),t=function(){y=C,++v[k],clearTimeout(c),c=setTimeout(i,1e3)},h=function(t){s(o,t),"keyup"!==C&&(b=e(t)),setTimeout(i,10)},d=0;d<w.length;++d)l(w[d],d<w.length-1?t:h,C,k,d)}else{for(x="+"===t?["+"]:t.split("+"),w=0;w<x.length;++w)m=x[w],f[m]&&(m=f[m]),h&&"keypress"!=h&&p[m]&&(m=p[m],_.push("shift")),r(m)&&_.push(m);h=a(m,_,h),g[m]||(g[m]=[]),n(m,_,h,!d,t),g[m][d?"unshift":"push"]({callback:o,modifiers:_,action:h,seq:d,level:u,combo:t})}}for(var h,c,d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta","return":"enter",escape:"esc"},g={},m={},v={},b=!1,y=!1,x=1;20>x;++x)d[111+x]="f"+x;for(x=0;9>=x;++x)d[x+96]=x;return t(document,"keypress",o),t(document,"keydown",o),t(document,"keyup",o),{bind:function(t,e,i){for(var n=t instanceof Array?t:[t],s=0;s<n.length;++s)l(n[s],e,i);m[t+":"+i]=e},unbind:function(t,e){m[t+":"+e]&&(delete m[t+":"+e],this.bind(t,function(){},e))},trigger:function(t,e){m[t+":"+e]()},reset:function(){g={},m={}}}}(),/*
 * jQuery File Upload Plugin 5.31.6
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){(i.autoUpload||i.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return typeof e.formData=="function"?e.formData(e.form):t.isArray(e.formData)?e.formData:t.type(e.formData)==="object"?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var i,n=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&n-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=n,i=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=i-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=i,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(n,i,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var i,n=this,s=e.files[0],o=e.multipart||!t.support.xhrFileUpload,r=e.paramName[0];e.headers=e.headers||{},e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",s)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(s.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):t.each(e.files,function(t,n){i.push({name:e.paramName[t]||r,value:n})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(r,e.blob,s.name):t.each(e.files,function(t,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&i.append(e.paramName[t]||r,s,s.name)})),e.data=i):(e.contentType=s.type,e.data=e.blob||s),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",s=(e.prop("files")||[1]).length;s;)n.push(i),s-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),e.type!=="POST"&&e.type!=="PUT"&&e.type!=="PATCH"&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var s=t.Deferred(),o=s.promise();return i=i||this.options.context||o,e===!0?s.resolveWith(i,n):e===!1&&s.rejectWith(i,n),o.abort=s.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,i){var n=this,s=function(e){return t.Deferred().resolveWith(n,[e]).promise()};i.process=function(t,e){return(t||e)&&(i._processQueue=this._processQueue=(this._processQueue||s(this)).pipe(t,e)),this._processQueue||s(this)},i.submit=function(){return this.state()!=="pending"&&(i.jqXHR=this.jqXHR=n._trigger("submit",e,this)!==!1&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():n._getXHRPromise()},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,s,o=this,r=e.files[0],a=r.size,l=e.uploadedBytes,h=e.maxChunkSize||a,c=this._blobSlice,d=t.Deferred(),u=d.promise();return this._isXHRUpload(e)&&c&&(l||a>h)&&!e.data?i?!0:l>=a?(r.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",r.error])):(s=function(){var i=t.extend({},e),u=i._progress.loaded;i.blob=c.call(r,l,l+h,r.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,o._initXHRData(i),o._initProgressListener(i),n=(o._trigger("chunksend",null,i)!==!1&&t.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(n,r,h){l=o._getUploadedBytes(h)||l+i.chunkSize,u+i.chunkSize-i._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=r,i.jqXHR=h,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),a>l?s():d.resolveWith(i.context,[n,r,h])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),d.rejectWith(i.context,[t,e,n])})},this._enhancePromise(u),u.abort=function(){return n.abort()},s(),u):!1},_beforeSend:function(t,e){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,s){var o=s._progress.total,r=s._response;s._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),s),r.result=s.result=e,r.textStatus=s.textStatus=i,r.jqXHR=s.jqXHR=n,this._trigger("done",null,s)},_onFail:function(t,e,i,n){var s=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),s.jqXHR=n.jqXHR=t,s.textStatus=n.textStatus=e,s.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,s,o,r,a=this,l=a._getAJAXSettings(i),h=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((s||a._trigger("send",e,l)===!1)&&a._getXHRPromise(!1,l.context,s)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){a._onDone(t,e,i,l)}).fail(function(t,e,i){a._onFail(t,e,i,l)}).always(function(t,e,i){if(a._onAlways(t,e,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if(a._getDeferredState(n)==="pending"){n.resolve();break}n=a._slots.shift()}a._active===0&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),r=o.pipe(h)):(this._sequence=this._sequence.pipe(h,h),r=this._sequence),r.abort=function(){return s=[void 0,"abort","abort"],n?n.abort():(o&&o.rejectWith(l.context,s),h())},this._enhancePromise(r)):h()},_onAdd:function(e,i){var n,s,o,r,a=this,l=!0,h=t.extend({},this.options,i),c=h.limitMultiFileUploads,d=this._getParamName(h);if((h.singleFileUploads||c)&&this._isXHRUpload(h))if(!h.singleFileUploads&&c)for(o=[],n=[],r=0;r<i.files.length;r+=c)o.push(i.files.slice(r,r+c)),s=d.slice(r,r+c),s.length||(s=d),n.push(s);else n=d;else o=[i.files],n=[d];return i.originalFiles=i.files,t.each(o||i.files,function(s,r){var h=t.extend({},i);return h.files=o?r:[r],h.paramName=n[s],a._initResponseObject(h),a._initProgressObject(h),a._addConvenienceMethods(e,h),l=a._trigger("add",e,h)}),l},_replaceFileInput:function(e){var i=e.clone(!0);t("<form></form>").append(i)[0].reset(),e.after(i).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,n){return n===e[0]?i[0]:n}),e[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,i){var n,s=this,o=t.Deferred(),r=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])};return i=i||"",e.isFile?e._file?(e._file.relativePath=i,o.resolve(e._file)):e.file(function(t){t.relativePath=i,o.resolve(t)},r):e.isDirectory?(n=e.createReader(),n.readEntries(function(t){s._handleFileTreeEntries(t,i+e.name+"/").done(function(t){o.resolve(t)}).fail(r)},r)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var i,n,s=e.prop("webkitEntries")||e.prop("entries");if(s&&s.length)return this._handleFileTreeEntries(s);if(i=t.makeArray(e.prop("files")),i.length)i[0].name===void 0&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(n=e.prop("value"),!n)return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&e.length!==1?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(t){n.files=t,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),i._trigger("change",e,n)!==!1&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};return i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),this._trigger("paste",e,n)===!1||this._onAdd(e,n)===!1)?!1:void 0},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var e=this,i=t.dataTransfer,n={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){n.files=i,e._trigger("drop",t,n)!==!1&&e._onAdd(t,n)}))},_onDragOver:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=e.dataTransfer;if(i){if(this._trigger("dragover",e)===!1)return!1;t.inArray("Files",i.types)!==-1&&(i.dropEffect="copy",e.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,i){var n=t.inArray(e,this._specialOptions)!==-1;n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===void 0?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&t.type(i)==="string"&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options;t.each(t(this.element[0].cloneNode(!1)).data(),function(t,n){e._isRegExpOption(t,n)&&(n=e._getRegExp(n)),i[t]=n})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,s=this,o=t.Deferred(),r=o.promise();return r.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),r)},this._getFileInputFiles(e.fileInput).always(function(t){n||(e.files=t,i=s._onSend(null,e).then(function(t,e,i){o.resolve(t,e,i)},function(t,e,i){o.reject(t,e,i)}))}),this._enhancePromise(r)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){var e,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=t(n).data("autosize",!0)[0];o.style.lineHeight="99px",t(o).css("lineHeight")==="99px"&&s.push("lineHeight"),o.style.lineHeight="",t.fn.autosize=function(n){return n=t.extend({},i,n||{}),o.parentNode!==document.body&&t(document.body).append(o),this.each(function(){function i(){var i,r={};if(e=d,o.className=n.className,l=parseInt(u.css("maxHeight"),10),t.each(s,function(t,e){r[e]=u.css(e)}),t(o).css(r),"oninput"in d){var a=d.style.width;d.style.width="0px",i=d.offsetWidth,d.style.width=a}}function r(){var s,r,a,c;e!==d&&i(),o.value=d.value+n.append,o.style.overflowY=d.style.overflowY,r=parseInt(d.style.height,10),"getComputedStyle"in window?(c=window.getComputedStyle(d),a=d.getBoundingClientRect().width,t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,e){a-=parseInt(c[e],10)}),o.style.width=a+"px"):o.style.width=Math.max(u.width(),0)+"px",o.scrollTop=0,o.scrollTop=9e4,s=o.scrollTop,l&&s>l?(d.style.overflowY="scroll",s=l):(d.style.overflowY="hidden",h>s&&(s=h)),s+=p,r!==s&&(d.style.height=s+"px",f&&n.callback.call(d,d))}function a(){clearTimeout(c),c=setTimeout(function(){u.width()!==m&&r()},parseInt(n.resizeDelay,10))}var l,h,c,d=this,u=t(d),p=0,f=t.isFunction(n.callback),g={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},m=u.width();u.data("autosize")||(u.data("autosize",!0),(u.css("box-sizing")==="border-box"||u.css("-moz-box-sizing")==="border-box"||u.css("-webkit-box-sizing")==="border-box")&&(p=u.outerHeight()-u.height()),h=Math.max(parseInt(u.css("minHeight"),10)-p||0,u.height()),u.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:u.css("resize")==="none"||u.css("resize")==="vertical"?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?u.on("input.autosize keyup.autosize",r):u.on("propertychange.autosize",function(){event.propertyName==="value"&&r()}):u.on("input.autosize",r),n.resizeDelay!==!1&&t(window).on("resize.autosize",a),u.on("autosize.resize",r),u.on("autosize.resizeIncludeStyle",function(){e=null,r()}),u.on("autosize.destroy",function(){e=null,clearTimeout(c),t(window).off("resize",a),u.off("autosize").off(".autosize").css(g).removeData("autosize")}),r())})}}(window.jQuery||window.Zepto),function(){this.Notes={init:function(){return Notes.setupMainTargetNoteForm(),Notes.addClassForPreLine(),$(document).on("click",".js-add-diff-note-button",Notes.addDiffNote),$(document).on("click",".js-discussion-reply-button",Notes.replyToDiscussionNote),$(document).on("click",".js-close-discussion-note-form",Notes.closeNoteForm),$(document).on("click",".js-note-edit",Notes.editNote),$(document).on("click",".js-note-reply",Notes.replyNote),$(document).on("click",".js-note-delete",Notes.removeNote),$(document).on("click",".js-main-target-form .js-comment-button",Notes.disableMainTargetForm),$(document).on("ajax:complete",".js-main-target-form",Notes.resetMainTargetForm),$(document).on("click",".js-show-outdated-discussion",function(t){return $(this).next(".outdated-discussion").show(),t.preventDefault()}),$(document).on("click",".js-comment-button",Notes.SetCommentedCodeLine)},SetCommentedCodeLine:function(){var t;return t=$(this).closest("tr").prev().addClass("has-comments"),$(".has-comments").attr("title","展开或关闭 Diff 评论"),$(".has-comments").on("click",function(){$(".notes_holder")!==null&&$(".notes_holder").hasClass("visible")?$(".hide-show-comment").text("隐藏 Diff 评论"):$(".hide-show-comment").text("显示 Diff 评论"),$(this).next().next().transition("horizontal flip")})},disableMainTargetForm:function(){return $(".js-comment-button").addClass("disabled"),$("#comment-loadder #loadding-state").addClass("active").removeClass("disabled")},initCommentForm:function(t){var e,i,n;return i=t.find(".js-comment-text"),i.autosize(),n=function(i){return t.find(".js-drag-drop > .text").hide(),t.find(".js-drag-drop > .uploading").hide(),t.find(".js-drag-drop > .error").text(i).show(),setTimeout(e,3e3)},e=function(){return t.find(".js-drag-drop > .error").hide(),t.find(".js-drag-drop > .text").show()}},setupMainTargetNoteForm:function(){var t;return t=$(".js-new-note-form"),Notes.setupNoteForm(t)},addClassForPreLine:function(){return $(".class-for-pre-line").closest("tr").prev().addClass("has-comments"),$(".has-comments").attr("title","展开或关闭代码评论"),$(".has-comments").on("click",function(){$(this).next().transition("horizontal flip")})},setupNoteForm:function(t){return disableButtonIfEmptyField(t.find(".js-comment-text"),t.find(".js-comment-button")),t.removeClass("js-new-note-form"),Notes.initCommentForm(t.find(".js-comment-form")),t.find(".js-comment-text").on("keydown",function(t){return(t.metaKey||t.ctrlKey)&&t.keyCode===13&&$(this).val()!==""?$(t.target).closest("form").submit():void 0}),t.find("#note_noteable_type").val()!=="Commit"&&t.find(".js-notify-commit-author").remove(),GitLab.GfmAutoComplete.setup(),t.show()},setupCloneNoteForm:function(t,e){var i;return i=t.find(".js-comment-button"),t.find(".js-comment-text").focus(),t.find("textarea").val(""),e.on("keyup",function(){e.val().length>0?(i.removeClass("disabled"),i.removeAttr("disabled")):(i.addClass("disabled"),i.attr("disabled","disabled"))}),i.addClass("disabled"),i.attr("disabled","disabled"),t.on("submit",function(){return $.trim(t.find("textarea").val()).length===0?(alert("内容不能为空!"),!1):(i.addClass("disabled"),i.attr("disabled","disabled"),t.find(".js-close-discussion-note-form").addClass("disabled"),t.find(".js-close-discussion-note-form").attr("disabled","disabled"),t.find("textarea").prop("readonly",!0))})},setupDiscussionNoteForm:function(t,e){return e.find("form").attr("rel",t.data("discussionId")),e.find("#note_commit_id").val(t.data("commitId")),e.find("#note_line_code").val(t.data("lineCode")),e.find("#note_noteable_type").val(t.data("noteableType")),e.find("#note_noteable_id").val(t.data("noteableId")),Notes.setupNoteForm(e)},closeNoteForm:function(){var t,e,i;return e=$(this).closest("form"),t=e.parents(".form-with-gravatar"),t.prev(".js-discussion-reply-button").show(),e.prev(".note-content").show(),i=e.closest("tr"),window.isLoading!=null&&(window.isLoading=!1),i.is(".js-temp-notes-holder")?i.remove():(t.remove(),e.remove())},editNote:function(t){var e,i;return t.preventDefault(),i=$(this).closest(".note"),e=i.find(".edit_note"),e.length>0?(e.find(".write-content").addClass("focused"),e.find(".js-comment-text").focus(),void 0):$.get($(this).attr("href"),function(t){return i.find(".note-content").hide(),$(t).insertAfter(i.find(".note-content")),e=i.find(".edit_note"),Notes.setupNoteForm(e),Notes.resetMainTargetForm})},replyNote:function(t){var e,i,n;return e=$(".new_note .md-input, .md-input#editor_comment"),n=e.val(),i=$(t.target).attr("username"),void 0===i&&(i=$(t.target).parent().attr("username")),n+="@"+i+" ",e.val(n)},setCount:function(t,e){var i;return i=$.trim(t.parent().parent().find(".notes_line").find("span").text()),i=parseInt(i),e?i++:i--,t.parent().parent().find(".notes_line").find("span").html("<i class='comment icon'></i>"+i)},setTotalCount:function(t){var e;return e=$.trim($("#total_count").text()),e=parseInt(e),t?e++:e--,$("#total_count").text(e)},removeNote:function(t){var e,i,n;return t.preventDefault(),n=$(this),e=$(t.target).attr("href"),void 0===e&&(e=$(t.target).parent().attr("href")),i=confirm("确实要删除此条评论?"),i===!0?$.ajax({url:e,beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},type:"DELETE",success:function(){var t,e;return t=n.closest(".note"),e=t.closest(".notes"),e.find(".note").length===1&&(e.closest(".discussion").remove(),e.closest("tr").remove()),Notes.setCount(e,!1),Notes.setTotalCount(!1),t.remove(),Notes.updateVotes()},error:function(){return alert("发生错误,删除失败")}}):void 0},resetMainTargetForm:function(){var t;return t=$(this),t.find(".js-errors").remove(),t.find(".js-comment-text").val("").trigger("input")},appendNewNote:function(t,e){return $(".md-input").removeAttr("disabled"),$(".md-input").last().val(""),$("#loadding-state").removeClass("active").addClass("disabled"),$("#notes-list").append(e),Notes.updateVotes(),$("[name='note[note]']").val("")},appendNewDiscussionNote:function(t,e,i){var n,s,o;return n=t.split("-")[3],$(".notes[rel='"+t+"']").length===0?(o=$("input[value='"+n+"']"),o.parent().parent().parent().parent().parent().after(e),o.parent().parent().parent().parent().remove(),Notes.setTotalCount(!0),void 0):($(".js-temp-notes-holder").remove(),s=$(".notes[rel='"+t+"']"),s.append(i),s.parent().find(".form-with-gravatar").find(".js-close-discussion-note-form").click(),Notes.setCount(s,!0),Notes.setTotalCount(!0))},replyToDiscussionNote:function(){var t,e;return e=$(".form-with-gravatar").last(),$(this).hide(),t=e.clone(),t.find(".js-comment-form").remove(),t.find(".js-close-discussion-note-form").show(),t.find("#note_noteable_type").after("<textarea class='editor_comment' id='editor_comment' name='note[note]'></textarea>"),t.css("margin","18px"),$(this).parent().append(t),$(".editor_comment").markdown({language:"zh",imgurl:"/upload",base64url:"/upload_with_base_64"}),Notes.dragFrom(t),Notes.setupDiscussionNoteForm($(this),$(this).parent().find(".common-note-form")),Notes.setupCloneNoteForm(t,t.find(".md-input"))},addDiffNote:function(t){var e,i,n,s;return t.preventDefault(),i=$(".form-with-gravatar").last(),s=$(this).closest("tr"),n=s.next(),n.is(".js-temp-notes-holder")?void 0:(n.is(".notes_holder")&&Notes.replyToDiscussionNote,s.after('<tr class="notes_holder js-temp-notes-holder"><td class="notes_line" colspan="2"></td><td class="notes_content"></td></tr>'),e=i.clone(),e.find(".js-close-discussion-note-form").show(),e.find(".js-comment-form").remove(),e.find("#note_noteable_type").after("<textarea class='editor_diff' id='editor_diff' name='note[note]'></textarea>"),e.css("margin","18px"),s.next().find(".notes_content").append(e),$(".editor_diff").markdown({language:"zh",imgurl:"/upload",base64url:"/upload_with_base_64"}),e.find(".md-input").val(""),Notes.dragFrom(e),Notes.setupDiscussionNoteForm($(this),s.next().find(".common-note-form")),Notes.setupCloneNoteForm(e,e.find(".md-input")))},updateVotes:function(){var t,e,i,n,s,o,r;return o=$("#votes .votes"),i=$("#notes-list .note .vote"),o.size()?(n=i.filter(".upvote").size(),t=i.filter(".downvote").size(),r=n+t,s=r?100/r*n:0,e=r?100-s:0,o.find(".bar-success").css("width",s+"%"),o.find(".bar-danger").css("width",e+"%"),o.find(".upvotes").text(o.find(".upvotes").text().replace(/\d+/,n)),o.find(".downvotes").text(o.find(".downvotes").text().replace(/\d+/,t))):void 0},dragFrom:function(t){return t.find(".md-input").bind("drop",function(e){var i,n,s,o;if(e.preventDefault(),e.stopPropagation(),n=e.originalEvent.dataTransfer.files,n.length!==0){if(n[0].type.indexOf("text")!==-1)return n[0].size>102400?(alert("文本文件不能超过100k"),void 0):(s=new FileReader,s.onload=function(e){var i,n,s;return n=e.target.result,s=t.find(".md-input").val(),t.find(".md-input").val(s+n),i=jQuery.Event("keyup",{which:39}),t.find(".md-input").trigger(i)},s.readAsText(n[0]),!1);if(n[0].type.indexOf("image")===-1)return alert("无法上传非图片"),void 0;$.browser.safari?img.src=window.webkitURL.createObjectURL(n[0]):$.browser.mozilla?img.src=window.URL.createObjectURL(n[0]):(s=new FileReader,s.onload=function(){t.find(".md-input").parents().eq(3).find(".small.loader").show()},s.readAsDataURL(n[0])),o=new XMLHttpRequest,o.open("post","/upload",!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.upload.addEventListener("progress",function(t){var e;t.lengthComputable&&(e=Math.ceil(t.loaded/t.total*100))},!1),o.addEventListener("load",function(e){var i,n,s;t.find(".md-input").parents().eq(3).find(".small.loader").hide(),n=$.parseJSON(e.target.response),s=t.find(".md-input").val(),s+="![输入图片说明]("+n.files[0].url+' "在这里输入图片标题")',t.find(".md-input").val(s),i=jQuery.Event("keyup",{which:39}),t.find(".md-input").trigger(i)},!1),o.setRequestHeader("Cache-Control","no-cache"),o.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content")),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),i=new FormData,i.append("files",n[0]),o.send(i)}})}}}.call(this),function(){var t;this.pull_requestsPage=function(){return $("#assignee_id").chosen(),$("#milestone_id").chosen(),$("#milestone_id, #assignee_id").on("change",function(){return $(this).closest("form").submit()})},t=function(){function t(t){var e=this;this.opts=t,this.$el=$(".pull-request"),this.diffs_loaded=!1,this.commits_loaded=!1,this.activateTab(this.opts.action),this.bindEvents(),this.initMergeWidget(),this.$(".show-all-commits").on("click",function(){return e.showAllCommits()})}return t.prototype.$=function(t){return this.$el.find(t)},t.prototype.initMergeWidget=function(){var t=this;return this.showState(this.opts.current_status),$(".automerge_widget").length&&this.opts.check_enable&&$.get(this.opts.url_to_automerge_check,function(e){return t.showState(e.merge_status)},"json"),this.opts.ci_enable?$.get(this.opts.url_to_ci_check,function(e){return t.showCiState(e.status)},"json"):void 0},t.prototype.bindEvents=function(){var t=this;return this.$("#pull-tabs").on("click","a",function(t){var e,i;return e=$(t.currentTarget),i=e.attr("href"),window.history.replaceState({path:i},document.title,i),t.preventDefault()}),this.$("#pull-tabs").on("click","li",function(e){return t.activateTab($(e.currentTarget).data("action"))}),$(".accept_pull_request").on("click",function(){return $(".automerge_widget.can_be_merged").hide(),$(".merge-in-progress").show()}),this.$(".pull-right").on("click","a.js-edit",function(t){return $(".issue-content .comment-content").hide(),$(".issue-content .form-content").show(),$("#pull_request_body").focus(),t.preventDefault()}),this.$(".form-actions").on("click","a.btn-cancel",function(t){return $(".issue-content .comment-content").show(),$(".issue-content .form-content").hide(),t.preventDefault()})},t.prototype.activateTab=function(t){return this.$("#pull-tabs li").removeClass("active").each(function(){return $(this).data("action")===t?$(this).addClass("active"):void 0}),this.$("#"+t).show().siblings(".tab-pane").hide()},t.prototype.showState=function(t){return $(".automerge_widget").hide(),$(".automerge_widget."+t).show()},t.prototype.showCiState=function(t){return $(".ci_widget").hide(),$(".ci_widget.ci-"+t).show()},t.prototype.loadDiff=function(){var t=this;return $.ajax({type:"GET",url:this.$(".nav-tabs .diffs-tab a").attr("href"),beforeSend:function(){return t.$(".status").addClass("loading")},complete:function(){return t.diffs_loaded=!0,t.$(".status").removeClass("loading")},dataType:"script"})},t.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},t.prototype.alreadyOrCannotBeMerged=function(){return this.$(".automerge_widget").hide(),this.$(".merge-in-progress").hide(),this.$(".automerge_widget.already_cannot_be_merged").show()},t}(),this.PullRequest=t}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=function(e,i){var i=i||t(e.imageBox),n={state:{},ratio:1,options:e,imageBox:i,thumbBox:i.find(e.thumbBox),spinner:i.find(e.spinner),image:new Image,getDataURL:function(){var t=this.thumbBox.width(),e=this.thumbBox.height(),n=document.createElement("canvas"),s=i.css("background-position").split(" "),o=i.css("background-size").split(" "),r=parseInt(s[0])-i.width()/2+t/2,a=parseInt(s[1])-i.height()/2+e/2,l=parseInt(o[0]),h=parseInt(o[1]),c=parseInt(this.image.height),d=parseInt(this.image.width);n.width=t,n.height=e;var u=n.getContext("2d");u.drawImage(this.image,0,0,d,c,r,a,l,h);var p=n.toDataURL("image/png");return p},getBlob:function(){for(var t=this.getDataURL(),e=t.replace("data:image/png;base64,",""),i=atob(e),n=[],s=0;s<i.length;s++)n.push(i.charCodeAt(s));return new Blob([new Uint8Array(n)],{type:"image/png"})},zoomIn:function(){this.ratio*=1.1,s()},zoomOut:function(){this.ratio*=.9,s()}},s=function(){var t=parseInt(n.image.width)*n.ratio,e=parseInt(n.image.height)*n.ratio,s=(i.width()-t)/2,o=(i.height()-e)/2;i.css({"background-image":"url("+n.image.src+")","background-size":t+"px "+e+"px","background-position":s+"px "+o+"px","background-repeat":"no-repeat"})
},o=function(t){t.stopImmediatePropagation(),n.state.dragable=!0,n.state.mouseX=t.clientX,n.state.mouseY=t.clientY},r=function(t){if(t.stopImmediatePropagation(),n.state.dragable){var e=t.clientX-n.state.mouseX,s=t.clientY-n.state.mouseY,o=i.css("background-position").split(" "),r=e+parseInt(o[0]),a=s+parseInt(o[1]);i.css("background-position",r+"px "+a+"px"),n.state.mouseX=t.clientX,n.state.mouseY=t.clientY}},a=function(t){t.stopImmediatePropagation(),n.state.dragable=!1},l=function(t){n.ratio*=t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?1.1:.9,s()};return n.spinner.show(),n.image.onload=function(){n.spinner.hide(),s(),i.bind("mousedown",o),i.bind("mousemove",r),t(window).bind("mouseup",a),i.bind("mousewheel DOMMouseScroll",l)},n.image.src=e.imgSrc,i.on("remove",function(){t(window).unbind("mouseup",a)}),n};jQuery.fn.cropbox=function(t){return new e(t,this)}}),function(){this.Issues={init:function(){return Issues.initSearch(),Issues.initSelects(),Issues.initChecks(),$("body").on("ajax:success",".close_issue, .reopen_issue",function(){var t,e,i;return e=$(this),i=void 0,t=e.hasClass("reopen_issue"),$(".issue_counter").each(function(){var e;return e=$(this),i=parseInt($(this).html(),10),t&&e.closest(".main_menu").length?$(this).html(i+1):$(this).html(i-1)})})},reload:function(){return Issues.initSelects(),Issues.initChecks(),$("#filter_issue_search").val($("#issue_search").val())},initSelects:function(){return $("#update_status").chosen(),$("#update_assignee_id").chosen(),$("#update_milestone_id").chosen(),$("#assignee_id").chosen(),$("#milestone_id").chosen(),$("#sort").chosen(),$("#milestone_id, #assignee_id, #sort").on("change",function(){return $(this).closest("form").submit()})},initChecks:function(){return $(".check_all_issues").click(function(){return $(".selected_issue").prop("checked",this.checked),Issues.checkChanged()}),$(".selected_issue").bind("change",Issues.checkChanged)},initSearch:function(){var t,e;return t=$("#issue_search_form"),e="",$("#issue_search").keyup(function(){var i;return i=$(this).val(),i!==e&&(e=i,i.length>=10||i.length===0)?($("#search_status").val($("#status").val()),$("#search_assignee_id").val($("#assignee_id").val()),$("#search_milestone_id").val($("#milestone_id").val()),$("#search_label_name").val($("#label_name").val()),t.submit()):void 0})},checkChanged:function(){var t,e;return t=$(".selected_issue:checked"),t.length>0?(e=[],$.each(t,function(t,i){return e.push($(i).attr("data-id"))}),$("#update_issues_ids").val(e),$(".issues_filters").hide(),$(".issues_bulk_update").show()):($("#update_issues_ids").val([]),$(".issues_bulk_update").hide(),$(".issues_filters").show())}}}.call(this),// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
function(t){var e,i,n="0.4.2",s="hasOwnProperty",o=/[\.\/]/,r="*",a=function(){},l=function(t,e){return t-e},h={n:{}},c=function(t,n){t=String(t);var s,o=i,r=Array.prototype.slice.call(arguments,2),a=c.listeners(t),h=0,d=[],u={},p=[],f=e;e=t,i=0;for(var g=0,m=a.length;m>g;g++)"zIndex"in a[g]&&(d.push(a[g].zIndex),a[g].zIndex<0&&(u[a[g].zIndex]=a[g]));for(d.sort(l);d[h]<0;)if(s=u[d[h++]],p.push(s.apply(n,r)),i)return i=o,p;for(g=0;m>g;g++)if(s=a[g],"zIndex"in s)if(s.zIndex==d[h]){if(p.push(s.apply(n,r)),i)break;do if(h++,s=u[d[h]],s&&p.push(s.apply(n,r)),i)break;while(s)}else u[s.zIndex]=s;else if(p.push(s.apply(n,r)),i)break;return i=o,e=f,p.length?p:null};c._events=h,c.listeners=function(t){var e,i,n,s,a,l,c,d,u=t.split(o),p=h,f=[p],g=[];for(s=0,a=u.length;a>s;s++){for(d=[],l=0,c=f.length;c>l;l++)for(p=f[l].n,i=[p[u[s]],p[r]],n=2;n--;)e=i[n],e&&(d.push(e),g=g.concat(e.f||[]));f=d}return g},c.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(o),n=h,s=0,r=i.length;r>s;s++)n=n.n,n=n.hasOwnProperty(i[s])&&n[i[s]]||(n[i[s]]={n:{}});for(n.f=n.f||[],s=0,r=n.f.length;r>s;s++)if(n.f[s]==e)return a;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.nts=function(){return e.split(o)},c.off=c.unbind=function(t,e){if(!t)return c._events=h={n:{}},void 0;var i,n,a,l,d,u,p,f=t.split(o),g=[h];for(l=0,d=f.length;d>l;l++)for(u=0;u<g.length;u+=a.length-2){if(a=[u,1],i=g[u].n,f[l]!=r)i[f[l]]&&a.push(i[f[l]]);else for(n in i)i[s](n)&&a.push(i[n]);g.splice.apply(g,a)}for(l=0,d=g.length;d>l;l++)for(i=g[l];i.n;){if(e){if(i.f){for(u=0,p=i.f.length;p>u;u++)if(i.f[u]==e){i.f.splice(u,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[s](n)&&i.n[n].f){var m=i.n[n].f;for(u=0,p=m.length;p>u;u++)if(m[u]==e){m.splice(u,1);break}!m.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[s](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},c.once=function(t,e){var i=function(){return c.unbind(t,i),e.apply(this,arguments)};return c.on(t,i)},c.version=n,c.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c}(this),// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(i){return e(t,i)}):e(t,t.eve)}(this,function(t,e){function i(t){if(i.is(t,"function"))return x?t():e.on("raphael.DOMload",t);if(i.is(t,q))return i._engine.create[M](i,t.splice(0,3+i.is(t[0],X))).add(t);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var s=n.pop();return x?s.call(i._engine.create[M](i,n)):e.on("raphael.DOMload",function(){s.call(i._engine.create[M](i,n))})}return i._engine.create[M](i,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[S](i)&&(e[i]=n(t[i]));return e}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function o(t,e,i){function n(){var o=Array.prototype.slice.call(arguments,0),r=o.join("␀"),a=n.cache=n.cache||{},l=n.count=n.count||[];return a[S](r)?(s(l,r),i?i(a[r]):a[r]):(l.length>=1e3&&delete a[l.shift()],l.push(r),a[r]=t[M](e,o),i?i(a[r]):a[r])}return n}function r(){return this.hex}function a(t,e){for(var i=[],n=0,s=t.length;s-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?s-4==n?o[3]={x:+t[0],y:+t[1]}:s-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[s-2],y:+t[s-1]}:s-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function l(t,e,i,n,s){var o=-3*e+9*i-9*n+3*s,r=t*o+6*e-12*i+6*n;return t*r-3*e+3*i}function h(t,e,i,n,s,o,r,a,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var c=h/2,d=12,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,g=0;d>g;g++){var m=c*u[g]+c,v=l(m,t,i,s,r),b=l(m,e,n,o,a),y=v*v+b*b;f+=p[g]*O.sqrt(y)}return c*f}function c(t,e,i,n,s,o,r,a,l){if(!(0>l||h(t,e,i,n,s,o,r,a)<l)){var c,d=1,u=d/2,p=d-u,f=.01;for(c=h(t,e,i,n,s,o,r,a,p);H(c-l)>f;)u/=2,p+=(l>c?1:-1)*u,c=h(t,e,i,n,s,o,r,a,p);return p}}function d(t,e,i,n,s,o,r,a){if(!(F(t,i)<j(s,r)||j(t,i)>F(s,r)||F(e,n)<j(o,a)||j(e,n)>F(o,a))){var l=(t*n-e*i)*(s-r)-(t-i)*(s*a-o*r),h=(t*n-e*i)*(o-a)-(e-n)*(s*a-o*r),c=(t-i)*(o-a)-(e-n)*(s-r);if(c){var d=l/c,u=h/c,p=+d.toFixed(2),f=+u.toFixed(2);if(!(p<+j(t,i).toFixed(2)||p>+F(t,i).toFixed(2)||p<+j(s,r).toFixed(2)||p>+F(s,r).toFixed(2)||f<+j(e,n).toFixed(2)||f>+F(e,n).toFixed(2)||f<+j(o,a).toFixed(2)||f>+F(o,a).toFixed(2)))return{x:d,y:u}}}}function u(t,e,n){var s=i.bezierBBox(t),o=i.bezierBBox(e);if(!i.isBBoxIntersect(s,o))return n?0:[];for(var r=h.apply(0,t),a=h.apply(0,e),l=F(~~(r/5),1),c=F(~~(a/5),1),u=[],p=[],f={},g=n?0:[],m=0;l+1>m;m++){var v=i.findDotsAtSegment.apply(i,t.concat(m/l));u.push({x:v.x,y:v.y,t:m/l})}for(m=0;c+1>m;m++)v=i.findDotsAtSegment.apply(i,e.concat(m/c)),p.push({x:v.x,y:v.y,t:m/c});for(m=0;l>m;m++)for(var b=0;c>b;b++){var y=u[m],x=u[m+1],w=p[b],_=p[b+1],k=H(x.x-y.x)<.001?"y":"x",C=H(_.x-w.x)<.001?"y":"x",S=d(y.x,y.y,x.x,x.y,w.x,w.y,_.x,_.y);if(S){if(f[S.x.toFixed(4)]==S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var T=y.t+H((S[k]-y[k])/(x[k]-y[k]))*(x.t-y.t),A=w.t+H((S[C]-w[C])/(_[C]-w[C]))*(_.t-w.t);T>=0&&1.001>=T&&A>=0&&1.001>=A&&(n?g++:g.push({x:S.x,y:S.y,t1:j(T,1),t2:j(A,1)}))}}return g}function p(t,e,n){t=i._path2curve(t),e=i._path2curve(e);for(var s,o,r,a,l,h,c,d,p,f,g=n?0:[],m=0,v=t.length;v>m;m++){var b=t[m];if(b[0]=="M")s=l=b[1],o=h=b[2];else{b[0]=="C"?(p=[s,o].concat(b.slice(1)),s=p[6],o=p[7]):(p=[s,o,s,o,l,h,l,h],s=l,o=h);for(var y=0,x=e.length;x>y;y++){var w=e[y];if(w[0]=="M")r=c=w[1],a=d=w[2];else{w[0]=="C"?(f=[r,a].concat(w.slice(1)),r=f[6],a=f[7]):(f=[r,a,r,a,c,d,c,d],r=c,a=d);var _=u(p,f,n);if(n)g+=_;else{for(var k=0,C=_.length;C>k;k++)_[k].segment1=m,_[k].segment2=y,_[k].bez1=p,_[k].bez2=f;g=g.concat(_)}}}}}return g}function f(t,e,i,n,s,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+s,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+I+this.y+I+this.width+" × "+this.height}function m(t,e,i,n,s,o){function r(t){return((d*t+c)*t+h)*t}function a(t,e){var i=l(t,e);return((f*i+p)*i+u)*i}function l(t,e){var i,n,s,o,a,l;for(s=t,l=0;8>l;l++){if(o=r(s)-t,H(o)<e)return s;if(a=(3*d*s+2*c)*s+h,H(a)<1e-6)break;s-=o/a}if(i=0,n=1,s=t,i>s)return i;if(s>n)return n;for(;n>i;){if(o=r(s),H(o-t)<e)return s;t>o?i=s:n=s,s=(n-i)/2+i}return s}var h=3*e,c=3*(n-e)-h,d=1-h-c,u=3*i,p=3*(s-i)-u,f=1-u-p;return a(t,1/(200*o))}function v(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var s in t)t[S](s)&&(n[J(s)]=t[s],i.push(J(s)));i.sort(de)}this.anim=n,this.top=i[i.length-1],this.percents=i}function b(t,n,s,o,r,a){s=J(s);var l,h,c,d,u,p,g=t.ms,v={},b={},y={};if(o)for(w=0,k=li.length;k>w;w++){var x=li[w];if(x.el.id==n.id&&x.anim==t){x.percent!=s?(li.splice(w,1),c=1):h=x,n.attr(x.totalOrigin);break}}else o=+b;for(var w=0,k=t.percents.length;k>w;w++){if(t.percents[w]==s||t.percents[w]>o*t.top){s=t.percents[w],u=t.percents[w-1]||0,g=g/t.top*(s-u),d=t.percents[w+1],l=t.anim[s];break}o&&n.attr(t.anim[t.percents[w]])}if(l){if(h)h.initstatus=o,h.start=new Date-h.ms*o;else{for(var C in l)if(l[S](C)&&(ne[S](C)||n.paper.customAttributes[S](C)))switch(v[C]=n.attr(C),v[C]==null&&(v[C]=ie[C]),b[C]=l[C],ne[C]){case X:y[C]=(b[C]-v[C])/g;break;case"colour":v[C]=i.getRGB(v[C]);var T=i.getRGB(b[C]);y[C]={r:(T.r-v[C].r)/g,g:(T.g-v[C].g)/g,b:(T.b-v[C].b)/g};break;case"path":var A=$e(v[C],b[C]),L=A[1];for(v[C]=A[0],y[C]=[],w=0,k=v[C].length;k>w;w++){y[C][w]=[0];for(var M=1,D=v[C][w].length;D>M;M++)y[C][w][M]=(L[w][M]-v[C][w][M])/g}break;case"transform":var E=n._,I=je(E[C],b[C]);if(I)for(v[C]=I.from,b[C]=I.to,y[C]=[],y[C].real=!0,w=0,k=v[C].length;k>w;w++)for(y[C][w]=[v[C][w][0]],M=1,D=v[C][w].length;D>M;M++)y[C][w][M]=(b[C][w][M]-v[C][w][M])/g;else{var $=n.matrix||new f,B={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};v[C]=[$.a,$.b,$.c,$.d,$.e,$.f],Oe(B,b[C]),b[C]=B._.transform,y[C]=[(B.matrix.a-$.a)/g,(B.matrix.b-$.b)/g,(B.matrix.c-$.c)/g,(B.matrix.d-$.d)/g,(B.matrix.e-$.e)/g,(B.matrix.f-$.f)/g]}break;case"csv":var R=z(l[C])[N](_),O=z(v[C])[N](_);if("clip-rect"==C)for(v[C]=O,y[C]=[],w=O.length;w--;)y[C][w]=(R[w]-v[C][w])/g;b[C]=R;break;default:for(R=[][P](l[C]),O=[][P](v[C]),y[C]=[],w=n.paper.customAttributes[C].length;w--;)y[C][w]=((R[w]||0)-(O[w]||0))/g}var F=l.easing,j=i.easing_formulas[F];if(!j)if(j=z(F).match(Z),j&&j.length==5){var H=j;j=function(t){return m(t,+H[1],+H[2],+H[3],+H[4],g)}}else j=pe;if(p=l.start||t.start||+new Date,x={anim:t,percent:s,timestamp:p,start:p+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:j,from:v,diff:y,to:b,el:n,callback:l.callback,prev:u,next:d,repeat:a||t.times,origin:n.attr(),totalOrigin:r},li.push(x),o&&!h&&!c&&(x.stop=!0,x.start=new Date-g*o,li.length==1))return ci();c&&(x.start=new Date-x.ms*o),li.length==1&&hi(ci)}e("raphael.anim.start."+n.id,n,t)}}function y(t){for(var e=0;e<li.length;e++)li[e].el.paper==t&&li.splice(e--,1)}i.version="2.1.2",i.eve=e;var x,w,_=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,S="hasOwnProperty",T={doc:document,win:t},A={was:Object.prototype[S].call(T.win,"Raphael"),is:T.win.Raphael},L=function(){this.ca=this.customAttributes={}},M="apply",P="concat",D="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,E="",I=" ",z=String,N="split",$="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[N](I),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=z.prototype.toLowerCase,O=Math,F=O.max,j=O.min,H=O.abs,G=O.pow,W=O.PI,X="number",Y="string",q="array",V=Object.prototype.toString,U=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),K={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=O.round,J=parseFloat,te=parseInt,ee=z.prototype.toUpperCase,ie=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ne=i._availableAnimAttrs={blur:X,"clip-rect":"csv",cx:X,cy:X,fill:"colour","fill-opacity":X,"font-size":X,height:X,opacity:X,path:"path",r:X,rx:X,ry:X,stroke:"colour","stroke-opacity":X,"stroke-width":X,transform:"transform",width:X,x:X,y:X},se=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,oe={hs:1,rg:1},re=/,?([achlmqrstvxz]),?/gi,ae=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,le=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,he=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ce=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),de=function(t,e){return J(t)-J(e)},ue=function(){},pe=function(t){return t},fe=i._rectPath=function(t,e,i,n,s){return s?[["M",t+s,e],["l",i-2*s,0],["a",s,s,0,0,1,s,s],["l",0,n-2*s],["a",s,s,0,0,1,-s,s],["l",2*s-i,0],["a",s,s,0,0,1,-s,-s],["l",0,2*s-n],["a",s,s,0,0,1,s,-s],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ge=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},me=i._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ge(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ge(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return fe(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return fe(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return fe(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return fe(e.x,e.y,e.width,e.height)}},ve=i.mapPath=function(t,e){if(!e)return t;var i,n,s,o,r,a,l;for(t=$e(t),s=0,r=t.length;r>s;s++)for(l=t[s],o=1,a=l.length;a>o;o+=2)i=e.x(l[o],l[o+1]),n=e.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return t};if(i._g=T,i.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",i.type=="VML"){var be,ye=T.doc.createElement("div");if(ye.innerHTML='<v:shape adj="1"/>',be=ye.firstChild,be.style.behavior="url(#default#VML)",!be||typeof be.adj!="object")return i.type=E;ye=null}i.svg=!(i.vml=i.type=="VML"),i._Paper=L,i.fn=w=L.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(t,e){return e=R.call(e),"finite"==e?!K[S](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||V.call(t).slice(8,-1).toLowerCase()==e},i.angle=function(t,e,n,s,o,r){if(null==o){var a=t-n,l=e-s;return a||l?(180+O.atan2(-l,-a)*180/W+360)%360:0}return i.angle(t,e,o,r)-i.angle(n,s,o,r)},i.rad=function(t){return t%360*W/180},i.deg=function(t){return 180*t/W%360},i.snapTo=function(t,e,n){if(n=i.is(n,"finite")?n:10,i.is(t,q)){for(var s=t.length;s--;)if(H(t[s]-e)<=n)return t[s]}else{t=+t;var o=e%t;if(n>o)return e-o;if(o>t-n)return e-o+t}return e},i.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=O.random()*16|0,i="x"==t?e:8|3&e;return i.toString(16)}),i.setWindow=function(t){e("raphael.setWindow",i,T.win,t),T.win=t,T.doc=T.win.document,i._engine.initWin&&i._engine.initWin(T.win)};var xe=function(t){if(i.vml){var e,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),e=s.body}catch(r){e=createPopup().document.body}var a=e.createTextRange();xe=o(function(t){try{e.style.color=z(t).replace(n,E);var i=a.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(s){return"none"}})}else{var l=T.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",T.doc.body.appendChild(l),xe=o(function(t){return l.style.color=t,T.doc.defaultView.getComputedStyle(l,E).getPropertyValue("color")})}return xe(t)},we=function(){return"hsb("+[this.h,this.s,this.b]+")"},_e=function(){return"hsl("+[this.h,this.s,this.l]+")"},ke=function(){return this.hex},Ce=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,Y)){var s=i.getRGB(t);t=s.r,e=s.g,n=s.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},Se=function(t,e,n,s){t*=255,e*=255,n*=255;var o={r:t,g:e,b:n,hex:i.rgb(t,e,n),toString:ke};return i.is(s,"finite")&&(o.opacity=s),o};i.color=function(t){var e;return i.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):i.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(i.is(t,"string")&&(t=i.getRGB(t)),i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=ke,t},i.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var s,o,r,a,l;return t=t%360/60,l=i*e,a=l*(1-H(t%2-1)),s=o=r=i-l,t=~~t,s+=[l,a,0,0,a,l][t],o+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],Se(s,o,r,n)},i.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var s,o,r,a,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),a=l*(1-H(t%2-1)),s=o=r=i-l/2,t=~~t,s+=[l,a,0,0,a,l][t],o+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],Se(s,o,r,n)},i.rgb2hsb=function(t,e,i){i=Ce(t,e,i),t=i[0],e=i[1],i=i[2];var n,s,o,r;return o=F(t,e,i),r=o-j(t,e,i),n=0==r?null:o==t?(e-i)/r:o==e?(i-t)/r+2:(t-e)/r+4,n=60*((n+360)%6)/360,s=0==r?0:r/o,{h:n,s:s,b:o,toString:we}},i.rgb2hsl=function(t,e,i){i=Ce(t,e,i),t=i[0],e=i[1],i=i[2];var n,s,o,r,a,l;return r=F(t,e,i),a=j(t,e,i),l=r-a,n=0==l?null:r==t?(e-i)/l:r==e?(i-t)/l+2:(t-e)/l+4,n=60*((n+360)%6)/360,o=(r+a)/2,s=0==l?0:.5>o?l/(2*o):l/(2-2*o),{h:n,s:s,l:o,toString:_e}},i._path2string=function(){return this.join(",").replace(re,"$1")},i._preload=function(t,e){var i=T.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},i.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(i),i.src=t},i.getRGB=o(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!(oe[S](t.toLowerCase().substring(0,2))||t.charAt()=="#")&&(t=xe(t));var e,n,s,o,a,l,h=t.match(U);return h?(h[2]&&(s=te(h[2].substring(5),16),n=te(h[2].substring(3,5),16),e=te(h[2].substring(1,3),16)),h[3]&&(s=te((a=h[3].charAt(3))+a,16),n=te((a=h[3].charAt(2))+a,16),e=te((a=h[3].charAt(1))+a,16)),h[4]&&(l=h[4][N](se),e=J(l[0]),l[0].slice(-1)=="%"&&(e*=2.55),n=J(l[1]),l[1].slice(-1)=="%"&&(n*=2.55),s=J(l[2]),l[2].slice(-1)=="%"&&(s*=2.55),h[1].toLowerCase().slice(0,4)=="rgba"&&(o=J(l[3])),l[3]&&l[3].slice(-1)=="%"&&(o/=100)),h[5]?(l=h[5][N](se),e=J(l[0]),l[0].slice(-1)=="%"&&(e*=2.55),n=J(l[1]),l[1].slice(-1)=="%"&&(n*=2.55),s=J(l[2]),l[2].slice(-1)=="%"&&(s*=2.55),(l[0].slice(-3)=="deg"||l[0].slice(-1)=="°")&&(e/=360),h[1].toLowerCase().slice(0,4)=="hsba"&&(o=J(l[3])),l[3]&&l[3].slice(-1)=="%"&&(o/=100),i.hsb2rgb(e,n,s,o)):h[6]?(l=h[6][N](se),e=J(l[0]),l[0].slice(-1)=="%"&&(e*=2.55),n=J(l[1]),l[1].slice(-1)=="%"&&(n*=2.55),s=J(l[2]),l[2].slice(-1)=="%"&&(s*=2.55),(l[0].slice(-3)=="deg"||l[0].slice(-1)=="°")&&(e/=360),h[1].toLowerCase().slice(0,4)=="hsla"&&(o=J(l[3])),l[3]&&l[3].slice(-1)=="%"&&(o/=100),i.hsl2rgb(e,n,s,o)):(h={r:e,g:n,b:s,toString:r},h.hex="#"+(16777216|s|n<<8|e<<16).toString(16).slice(1),i.is(o,"finite")&&(h.opacity=o),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},i),i.hsb=o(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=o(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=o(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),i.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(t){if(!t)return null;var e=Te(t);if(e.arr)return Le(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},s=[];return i.is(t,q)&&i.is(t[0],q)&&(s=Le(t)),s.length||z(t).replace(ae,function(t,e,i){var o=[],r=e.toLowerCase();if(i.replace(he,function(t,e){e&&o.push(+e)}),"m"==r&&o.length>2&&(s.push([e][P](o.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)s.push([e][P](o));else for(;o.length>=n[r]&&(s.push([e][P](o.splice(0,n[r]))),n[r]););}),s.toString=i._path2string,e.arr=Le(s),s},i.parseTransformString=o(function(t){if(!t)return null;var e=[];return i.is(t,q)&&i.is(t[0],q)&&(e=Le(t)),e.length||z(t).replace(le,function(t,i,n){var s=[];R.call(i),n.replace(he,function(t,e){e&&s.push(+e)}),e.push([i][P](s))}),e.toString=i._path2string,e});var Te=function(t){var e=Te.ps=Te.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[S](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};i.findDotsAtSegment=function(t,e,i,n,s,o,r,a,l){var h=1-l,c=G(h,3),d=G(h,2),u=l*l,p=u*l,f=c*t+3*d*l*i+3*h*l*l*s+p*r,g=c*e+3*d*l*n+3*h*l*l*o+p*a,m=t+2*l*(i-t)+u*(s-2*i+t),v=e+2*l*(n-e)+u*(o-2*n+e),b=i+2*l*(s-i)+u*(r-2*s+i),y=n+2*l*(o-n)+u*(a-2*o+n),x=h*t+l*i,w=h*e+l*n,_=h*s+l*r,k=h*o+l*a,C=90-O.atan2(m-b,v-y)*180/W;return(m>b||y>v)&&(C+=180),{x:f,y:g,m:{x:m,y:v},n:{x:b,y:y},start:{x:x,y:w},end:{x:_,y:k},alpha:C}},i.bezierBBox=function(t,e,n,s,o,r,a,l){i.is(t,"array")||(t=[t,e,n,s,o,r,a,l]);var h=Ne.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},i.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},i.isBBoxIntersect=function(t,e){var n=i.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},i.pathIntersection=function(t,e){return p(t,e)},i.pathIntersectionNumber=function(t,e){return p(t,e,1)},i.isPointInsidePath=function(t,e,n){var s=i.pathBBox(t);return i.isPointInsideBBox(s,e,n)&&p(t,[["M",e,n],["H",s.x2+10]],1)%2==1},i._removedFactory=function(t){return function(){e("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var Ae=i.pathBBox=function(t){var e=Te(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=$e(t);for(var i,s=0,o=0,r=[],a=[],l=0,h=t.length;h>l;l++)if(i=t[l],i[0]=="M")s=i[1],o=i[2],r.push(s),a.push(o);else{var c=Ne(s,o,i[1],i[2],i[3],i[4],i[5],i[6]);r=r[P](c.min.x,c.max.x),a=a[P](c.min.y,c.max.y),s=i[5],o=i[6]}var d=j[M](0,r),u=j[M](0,a),p=F[M](0,r),f=F[M](0,a),g=p-d,m=f-u,v={x:d,y:u,x2:p,y2:f,width:g,height:m,cx:d+g/2,cy:u+m/2};return e.bbox=n(v),v},Le=function(t){var e=n(t);return e.toString=i._path2string,e},Me=i._pathToRelative=function(t){var e=Te(t);if(e.rel)return Le(e.rel);i.is(t,q)&&i.is(t&&t[0],q)||(t=i.parsePathString(t));var n=[],s=0,o=0,r=0,a=0,l=0;t[0][0]=="M"&&(s=t[0][1],o=t[0][2],r=s,a=o,l++,n.push(["M",s,o]));for(var h=l,c=t.length;c>h;h++){var d=n[h]=[],u=t[h];if(u[0]!=R.call(u[0]))switch(d[0]=R.call(u[0]),d[0]){case"a":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]-s).toFixed(3),d[7]=+(u[7]-o).toFixed(3);break;case"v":d[1]=+(u[1]-o).toFixed(3);break;case"m":r=u[1],a=u[2];default:for(var p=1,f=u.length;f>p;p++)d[p]=+(u[p]-(p%2?s:o)).toFixed(3)}else{d=n[h]=[],u[0]=="m"&&(r=u[1]+s,a=u[2]+o);for(var g=0,m=u.length;m>g;g++)n[h][g]=u[g]}var v=n[h].length;switch(n[h][0]){case"z":s=r,o=a;break;case"h":s+=+n[h][v-1];break;case"v":o+=+n[h][v-1];break;default:s+=+n[h][v-2],o+=+n[h][v-1]}}return n.toString=i._path2string,e.rel=Le(n),n},Pe=i._pathToAbsolute=function(t){var e=Te(t);if(e.abs)return Le(e.abs);if(i.is(t,q)&&i.is(t&&t[0],q)||(t=i.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],s=0,o=0,r=0,l=0,h=0;t[0][0]=="M"&&(s=+t[0][1],o=+t[0][2],r=s,l=o,h++,n[0]=["M",s,o]);for(var c,d,u=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z",p=h,f=t.length;f>p;p++){if(n.push(c=[]),d=t[p],d[0]!=ee.call(d[0]))switch(c[0]=ee.call(d[0]),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+(d[6]+s),c[7]=+(d[7]+o);break;case"V":c[1]=+d[1]+o;break;case"H":c[1]=+d[1]+s;break;case"R":for(var g=[s,o][P](d.slice(1)),m=2,v=g.length;v>m;m++)g[m]=+g[m]+s,g[++m]=+g[m]+o;n.pop(),n=n[P](a(g,u));break;case"M":r=+d[1]+s,l=+d[2]+o;default:for(m=1,v=d.length;v>m;m++)c[m]=+d[m]+(m%2?s:o)}else if(d[0]=="R")g=[s,o][P](d.slice(1)),n.pop(),n=n[P](a(g,u)),c=["R"][P](d.slice(-2));else for(var b=0,y=d.length;y>b;b++)c[b]=d[b];switch(c[0]){case"Z":s=r,o=l;break;case"H":s=c[1];break;case"V":o=c[1];break;case"M":r=c[c.length-2],l=c[c.length-1];default:s=c[c.length-2],o=c[c.length-1]}}return n.toString=i._path2string,e.abs=Le(n),n},De=function(t,e,i,n){return[t,e,i,n,i,n]},Ee=function(t,e,i,n,s,o){var r=1/3,a=2/3;return[r*t+a*i,r*e+a*n,r*s+a*i,r*o+a*n,s,o]},Ie=function(t,e,i,n,s,r,a,l,h,c){var d,u=120*W/180,p=W/180*(+s||0),f=[],g=o(function(t,e,i){var n=t*O.cos(i)-e*O.sin(i),s=t*O.sin(i)+e*O.cos(i);return{x:n,y:s}});if(c)C=c[0],S=c[1],_=c[2],k=c[3];else{d=g(t,e,-p),t=d.x,e=d.y,d=g(l,h,-p),l=d.x,h=d.y;var m=(O.cos(W/180*s),O.sin(W/180*s),(t-l)/2),v=(e-h)/2,b=m*m/(i*i)+v*v/(n*n);b>1&&(b=O.sqrt(b),i=b*i,n=b*n);var y=i*i,x=n*n,w=(r==a?-1:1)*O.sqrt(H((y*x-y*v*v-x*m*m)/(y*v*v+x*m*m))),_=w*i*v/n+(t+l)/2,k=w*-n*m/i+(e+h)/2,C=O.asin(((e-k)/n).toFixed(9)),S=O.asin(((h-k)/n).toFixed(9));C=_>t?W-C:C,S=_>l?W-S:S,0>C&&(C=2*W+C),0>S&&(S=2*W+S),a&&C>S&&(C-=2*W),!a&&S>C&&(S-=2*W)}var T=S-C;if(H(T)>u){var A=S,L=l,M=h;S=C+u*(a&&S>C?1:-1),l=_+i*O.cos(S),h=k+n*O.sin(S),f=Ie(l,h,i,n,s,0,a,L,M,[S,A,_,k])}T=S-C;var D=O.cos(C),E=O.sin(C),I=O.cos(S),z=O.sin(S),$=O.tan(T/4),B=4/3*i*$,R=4/3*n*$,F=[t,e],j=[t+B*E,e-R*D],G=[l+B*z,h-R*I],X=[l,h];if(j[0]=2*F[0]-j[0],j[1]=2*F[1]-j[1],c)return[j,G,X][P](f);f=[j,G,X][P](f).join()[N](",");for(var Y=[],q=0,V=f.length;V>q;q++)Y[q]=q%2?g(f[q-1],f[q],p).y:g(f[q],f[q+1],p).x;return Y},ze=function(t,e,i,n,s,o,r,a,l){var h=1-l;return{x:G(h,3)*t+G(h,2)*3*l*i+3*h*l*l*s+G(l,3)*r,y:G(h,3)*e+G(h,2)*3*l*n+3*h*l*l*o+G(l,3)*a}},Ne=o(function(t,e,i,n,s,o,r,a){var l,h=s-2*i+t-(r-2*s+i),c=2*(i-t)-2*(s-i),d=t-i,u=(-c+O.sqrt(c*c-4*h*d))/2/h,p=(-c-O.sqrt(c*c-4*h*d))/2/h,f=[e,a],g=[t,r];return H(u)>"1e12"&&(u=.5),H(p)>"1e12"&&(p=.5),u>0&&1>u&&(l=ze(t,e,i,n,s,o,r,a,u),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=ze(t,e,i,n,s,o,r,a,p),g.push(l.x),f.push(l.y)),h=o-2*n+e-(a-2*o+n),c=2*(n-e)-2*(o-n),d=e-n,u=(-c+O.sqrt(c*c-4*h*d))/2/h,p=(-c-O.sqrt(c*c-4*h*d))/2/h,H(u)>"1e12"&&(u=.5),H(p)>"1e12"&&(p=.5),u>0&&1>u&&(l=ze(t,e,i,n,s,o,r,a,u),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=ze(t,e,i,n,s,o,r,a,p),g.push(l.x),f.push(l.y)),{min:{x:j[M](0,g),y:j[M](0,f)},max:{x:F[M](0,g),y:F[M](0,f)}}}),$e=i._path2curve=o(function(t,e){var i=!e&&Te(t);if(!e&&i.curve)return Le(i.curve);for(var n=Pe(t),s=e&&Pe(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,i){var n,s;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][P](Ie[M](0,[e.x,e.y][P](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=e.x*2-e.bx,s=e.y*2-e.by):(n=e.x,s=e.y),t=["C",n,s][P](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=e.x*2-e.qx,e.qy=e.y*2-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][P](Ee(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][P](Ee(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][P](De(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][P](De(e.x,e.y,t[1],e.y));break;case"V":t=["C"][P](De(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][P](De(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][P](i.splice(0,6)));t.splice(e,1),d=F(n.length,s&&s.length||0)}},h=function(t,e,i,o,r){t&&e&&t[r][0]=="M"&&e[r][0]!="M"&&(e.splice(r,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],d=F(n.length,s&&s.length||0))},c=0,d=F(n.length,s&&s.length||0);d>c;c++){n[c]=a(n[c],o),l(n,c),s&&(s[c]=a(s[c],r)),s&&l(s,c),h(n,s,o,r,c),h(s,n,r,o,c);var u=n[c],p=s&&s[c],f=u.length,g=s&&p.length;o.x=u[f-2],o.y=u[f-1],o.bx=J(u[f-4])||o.x,o.by=J(u[f-3])||o.y,r.bx=s&&(J(p[g-4])||r.x),r.by=s&&(J(p[g-3])||r.y),r.x=s&&p[g-2],r.y=s&&p[g-1]}return s||(i.curve=Le(n)),s?[n,s]:n},null,Le),Be=(i._parseDots=o(function(t){for(var e=[],n=0,s=t.length;s>n;n++){var o={},r=t[n].match(/^([^:]*):?([\d\.]*)/);if(o.color=i.getRGB(r[1]),o.color.error)return null;o.color=o.color.hex,r[2]&&(o.offset=r[2]+"%"),e.push(o)}for(n=1,s=e.length-1;s>n;n++)if(!e[n].offset){for(var a=J(e[n-1].offset||0),l=0,h=n+1;s>h;h++)if(e[h].offset){l=e[h].offset;break}l||(l=100,h=s),l=J(l);for(var c=(l-a)/(h-n+1);h>n;n++)a+=c,e[n].offset=a+"%"}return e}),i._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Re=(i._tofront=function(t,e){e.top!==t&&(Be(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},i._toback=function(t,e){e.bottom!==t&&(Be(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},i._insertafter=function(t,e,i){Be(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},i._insertbefore=function(t,e,i){Be(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},i.toMatrix=function(t,e){var i=Ae(t),n={_:{transform:E},getBBox:function(){return i}};return Oe(n,e),n.matrix}),Oe=(i.transformPath=function(t,e){return ve(t,Re(t,e))},i._extractTransform=function(t,e){if(null==e)return t._.transform;e=z(e).replace(/\.{3}|\u2026/g,t._.transform||E);var n=i.parseTransformString(e),s=0,o=0,r=0,a=1,l=1,h=t._,c=new f;if(h.transform=n||[],n)for(var d=0,u=n.length;u>d;d++){var p,g,m,v,b,y=n[d],x=y.length,w=z(y[0]).toLowerCase(),_=y[0]!=w,k=_?c.invert():0;"t"==w&&3==x?_?(p=k.x(0,0),g=k.y(0,0),m=k.x(y[1],y[2]),v=k.y(y[1],y[2]),c.translate(m-p,v-g)):c.translate(y[1],y[2]):"r"==w?2==x?(b=b||t.getBBox(1),c.rotate(y[1],b.x+b.width/2,b.y+b.height/2),s+=y[1]):4==x&&(_?(m=k.x(y[2],y[3]),v=k.y(y[2],y[3]),c.rotate(y[1],m,v)):c.rotate(y[1],y[2],y[3]),s+=y[1]):"s"==w?2==x||3==x?(b=b||t.getBBox(1),c.scale(y[1],y[x-1],b.x+b.width/2,b.y+b.height/2),a*=y[1],l*=y[x-1]):5==x&&(_?(m=k.x(y[3],y[4]),v=k.y(y[3],y[4]),c.scale(y[1],y[2],m,v)):c.scale(y[1],y[2],y[3],y[4]),a*=y[1],l*=y[2]):"m"==w&&7==x&&c.add(y[1],y[2],y[3],y[4],y[5],y[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=a,h.sy=l,h.deg=s,h.dx=o=c.e,h.dy=r=c.f,1==a&&1==l&&!s&&h.bbox?(h.bbox.x+=+o,h.bbox.y+=+r):h.dirtyT=1}),Fe=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return t.length==4?[e,0,t[2],t[3]]:[e,0];case"s":return t.length==5?[e,1,1,t[3],t[4]]:t.length==3?[e,1,1]:[e,1]}},je=i._equaliseTransform=function(t,e){e=z(e).replace(/\.{3}|\u2026/g,t),t=i.parseTransformString(t)||[],e=i.parseTransformString(e)||[];for(var n,s,o,r,a=F(t.length,e.length),l=[],h=[],c=0;a>c;c++){if(o=t[c]||Fe(e[c]),r=e[c]||Fe(o),o[0]!=r[0]||o[0].toLowerCase()=="r"&&(o[2]!=r[2]||o[3]!=r[3])||o[0].toLowerCase()=="s"&&(o[3]!=r[3]||o[4]!=r[4]))return;for(l[c]=[],h[c]=[],n=0,s=F(o.length,r.length);s>n;n++)n in o&&(l[c][n]=o[n]),n in r&&(h[c][n]=r[n])}return{from:l,to:h}};i._getContainer=function(t,e,n,s){var o;return o=null!=s||i.is(t,"object")?t:T.doc.getElementById(t),null!=o?o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:n}:{container:1,x:t,y:e,width:n,height:s}:void 0},i.pathToRelative=Me,i._engine={},i.path2curve=$e,i.matrix=function(t,e,i,n,s,o){return new f(t,e,i,n,s,o)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var i=O.sqrt(e(t));t[0]&&(t[0]/=i),t[1]&&(t[1]/=i)}t.add=function(t,e,i,n,s,o){var r,a,l,h,c=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],u=[[t,i,s],[e,n,o],[0,0,1]];for(t&&t instanceof f&&(u=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),r=0;3>r;r++)for(a=0;3>a;a++){for(h=0,l=0;3>l;l++)h+=d[r][l]*u[l][a];c[r][a]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,n){t=i.rad(t),e=e||0,n=n||0;var s=+O.cos(t).toFixed(9),o=+O.sin(t).toFixed(9);this.add(s,o,-o,s,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var s=[[this.a,this.c],[this.b,this.d]];t.scalex=O.sqrt(e(s[0])),n(s[0]),t.shear=s[0][0]*s[1][0]+s[0][1]*s[1][1],s[1]=[s[1][0]-s[0][0]*t.shear,s[1][1]-s[0][1]*t.shear],t.scaley=O.sqrt(e(s[1])),n(s[1]),t.shear/=t.scaley;var o=-s[0][1],r=s[1][1];return 0>r?(t.rotate=i.deg(O.acos(r)),0>o&&(t.rotate=360-t.rotate)):t.rotate=i.deg(O.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[N]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:E)+(e.scalex!=1||e.scaley!=1?"s"+[e.scalex,e.scaley,0,0]:E)+(e.rotate?"r"+[e.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var He=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);
w.safari=navigator.vendor=="Apple Computer, Inc."&&(He&&He[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&He&&He[1]<8?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:ue;for(var Ge=function(){this.returnValue=!1},We=function(){return this.originalEvent.preventDefault()},Xe=function(){this.cancelBubble=!0},Ye=function(){return this.originalEvent.stopPropagation()},qe=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,i=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Ve=function(){return T.doc.addEventListener?function(t,e,i,n){var s=function(t){var e=qe(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,s,!1),D&&B[e]){var o=function(e){for(var s=qe(e),o=e,r=0,a=e.targetTouches&&e.targetTouches.length;a>r;r++)if(e.targetTouches[r].target==t){e=e.targetTouches[r],e.originalEvent=o,e.preventDefault=We,e.stopPropagation=Ye;break}return i.call(n,e,s.x,s.y)};t.addEventListener(B[e],o,!1)}return function(){return t.removeEventListener(e,s,!1),D&&B[e]&&t.removeEventListener(B[e],s,!1),!0}}:T.doc.attachEvent?function(t,e,i,n){var s=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,s=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+s,r=t.clientY+e;return t.preventDefault=t.preventDefault||Ge,t.stopPropagation=t.stopPropagation||Xe,i.call(n,t,o,r)};t.attachEvent("on"+e,s);var o=function(){return t.detachEvent("on"+e,s),!0};return o}:void 0}(),Ue=[],Ke=function(t){for(var i,n=t.clientX,s=t.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=Ue.length;a--;){if(i=Ue[a],D&&t.touches){for(var l,h=t.touches.length;h--;)if(l=t.touches[h],l.identifier==i.el._drag.id){n=l.clientX,s=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,d=i.el.node,u=d.nextSibling,p=d.parentNode,f=d.style.display;T.win.opera&&p.removeChild(d),d.style.display="none",c=i.el.paper.getElementByPoint(n,s),d.style.display=f,T.win.opera&&(u?p.insertBefore(d,u):p.appendChild(d)),c&&e("raphael.drag.over."+i.el.id,i.el,c),n+=r,s+=o,e("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,s-i.el._drag.y,n,s,t)}},Ze=function(t){i.unmousemove(Ke).unmouseup(Ze);for(var n,s=Ue.length;s--;)n=Ue[s],n.el._drag={},e("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,t);Ue=[]},Qe=i.el={},Je=$.length;Je--;)(function(t){i[t]=Qe[t]=function(e,n){return i.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Ve(this.shape||this.node||T.doc,t,e,n||this)})),this},i["un"+t]=Qe["un"+t]=function(e){for(var n=this.events||[],s=n.length;s--;)n[s].name!=t||!i.is(e,"undefined")&&n[s].f!=e||(n[s].unbind(),n.splice(s,1),!n.length&&delete this.events);return this}})($[Je]);Qe.data=function(t,n){var s=ce[this.id]=ce[this.id]||{};if(arguments.length==0)return s;if(arguments.length==1){if(i.is(t,"object")){for(var o in t)t[S](o)&&this.data(o,t[o]);return this}return e("raphael.data.get."+this.id,this,s[t],t),s[t]}return s[t]=n,e("raphael.data.set."+this.id,this,n,t),this},Qe.removeData=function(t){return null==t?ce[this.id]={}:ce[this.id]&&delete ce[this.id][t],this},Qe.getData=function(){return n(ce[this.id]||{})},Qe.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Qe.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var ti=[];Qe.drag=function(t,n,s,o,r,a){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,d=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,u=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=l.identifier,D&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){h=p.clientX,c=p.clientY;break}this._drag.x=h+u,this._drag.y=c+d,!Ue.length&&i.mousemove(Ke).mouseup(Ze),Ue.push({el:this,move_scope:o,start_scope:r,end_scope:a}),n&&e.on("raphael.drag.start."+this.id,n),t&&e.on("raphael.drag.move."+this.id,t),s&&e.on("raphael.drag.end."+this.id,s),e("raphael.drag.start."+this.id,r||o||this,l.clientX+u,l.clientY+d,l)}return this._drag={},ti.push({el:this,start:l}),this.mousedown(l),this},Qe.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Qe.undrag=function(){for(var t=ti.length;t--;)ti[t].el==this&&(this.unmousedown(ti[t].start),ti.splice(t,1),e.unbind("raphael.drag.*."+this.id));!ti.length&&i.unmousemove(Ke).unmouseup(Ze),Ue=[]},w.circle=function(t,e,n){var s=i._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(s),s},w.rect=function(t,e,n,s,o){var r=i._engine.rect(this,t||0,e||0,n||0,s||0,o||0);return this.__set__&&this.__set__.push(r),r},w.ellipse=function(t,e,n,s){var o=i._engine.ellipse(this,t||0,e||0,n||0,s||0);return this.__set__&&this.__set__.push(o),o},w.path=function(t){t&&!i.is(t,Y)&&!i.is(t[0],q)&&(t+=E);var e=i._engine.path(i.format[M](i,arguments),this);return this.__set__&&this.__set__.push(e),e},w.image=function(t,e,n,s,o){var r=i._engine.image(this,t||"about:blank",e||0,n||0,s||0,o||0);return this.__set__&&this.__set__.push(r),r},w.text=function(t,e,n){var s=i._engine.text(this,t||0,e||0,z(n));return this.__set__&&this.__set__.push(s),s},w.set=function(t){!i.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new ui(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(){var t=this.__set__;return delete this.__set__,t},w.setSize=function(t,e){return i._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,n,s,o){return i._engine.setViewBox.call(this,t,e,n,s,o)},w.top=w.bottom=null,w.raphael=i;var ei=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,s=i.documentElement,o=s.clientTop||n.clientTop||0,r=s.clientLeft||n.clientLeft||0,a=e.top+(T.win.pageYOffset||s.scrollTop||n.scrollTop)-o,l=e.left+(T.win.pageXOffset||s.scrollLeft||n.scrollLeft)-r;return{y:a,x:l}};w.getElementByPoint=function(t,e){var i=this,n=i.canvas,s=T.doc.elementFromPoint(t,e);if(T.win.opera&&s.tagName=="svg"){var o=ei(n),r=n.createSVGRect();r.x=t-o.x,r.y=e-o.y,r.width=r.height=1;var a=n.getIntersectionList(r,null);a.length&&(s=a[a.length-1])}if(!s)return null;for(;s.parentNode&&s!=n.parentNode&&!s.raphael;)s=s.parentNode;return s==i.canvas.parentNode&&(s=n),s=s&&s.raphael?i.getById(s.raphaelid):null},w.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),t)&&e.push(n)}),e},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},w.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Qe.isPointInside=function(t,e){var n=this.realPath=me[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,t,e)},Qe.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=me[this.type](this),e.bboxwt=Ae(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=me[this.type](this)),e.bbox=Ae(ve(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},Qe.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Qe.glow=function(t){if(this.type=="text")return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,s=n.set(),o=this.realPath||me[this.type](this);o=this.matrix?ve(o,this.matrix):o;for(var r=1;i+1>r;r++)s.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*r).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return s.insertBefore(this).translate(e.offsetx,e.offsety)};var ii=function(t,e,n,s,o,r,a,l,d){return null==d?h(t,e,n,s,o,r,a,l):i.findDotsAtSegment(t,e,n,s,o,r,a,l,c(t,e,n,s,o,r,a,l,d))},ni=function(t,e){return function(n,s,o){n=$e(n);for(var r,a,l,h,c,d="",u={},p=0,f=0,g=n.length;g>f;f++){if(l=n[f],l[0]=="M")r=+l[1],a=+l[2];else{if(h=ii(r,a,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>s){if(e&&!u.start){if(c=ii(r,a,l[1],l[2],l[3],l[4],l[5],l[6],s-p),d+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return d;u.start=d,d=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=h,r=+l[5],a=+l[6];continue}if(!t&&!e)return c=ii(r,a,l[1],l[2],l[3],l[4],l[5],l[6],s-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=h,r=+l[5],a=+l[6]}d+=l.shift()+l}return u.end=d,c=t?p:e?u:i.findDotsAtSegment(r,a,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},si=ni(1),oi=ni(),ri=ni(0,1);i.getTotalLength=si,i.getPointAtLength=oi,i.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return ri(t,e).end;var n=ri(t,i,1);return e?ri(n,e).end:n},Qe.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():si(t)},Qe.getPointAtLength=function(t){var e=this.getPath();if(e)return oi(e,t)},Qe.getPath=function(){var t,e=i._getPath[this.type];if(this.type!="text"&&this.type!="set")return e&&(t=e(this)),t},Qe.getSubpath=function(t,e){var n=this.getPath();if(n)return i.getSubpath(n,t,e)};var ai=i.easing_formulas={linear:function(t){return t},"<":function(t){return G(t,1.7)},">":function(t){return G(t,.48)},"<>":function(t){var e=.48-t/1.04,i=O.sqrt(.1734+e*e),n=i-e,s=G(H(n),1/3)*(0>n?-1:1),o=-i-e,r=G(H(o),1/3)*(0>o?-1:1),a=s+r+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:G(2,-10*t)*O.sin((t-.075)*2*W/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};ai.easeIn=ai["ease-in"]=ai["<"],ai.easeOut=ai["ease-out"]=ai[">"],ai.easeInOut=ai["ease-in-out"]=ai["<>"],ai["back-in"]=ai.backIn,ai["back-out"]=ai.backOut;var li=[],hi=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ci=function(){for(var t=+new Date,n=0;n<li.length;n++){var s=li[n];if(!s.el.removed&&!s.paused){var o,r,a=t-s.start,l=s.ms,h=s.easing,c=s.from,d=s.diff,u=s.to,p=(s.t,s.el),f={},g={};if(s.initstatus?(a=(s.initstatus*s.anim.top-s.prev)/(s.percent-s.prev)*l,s.status=s.initstatus,delete s.initstatus,s.stop&&li.splice(n--,1)):s.status=(s.prev+(s.percent-s.prev)*(a/l))/s.anim.top,!(0>a))if(l>a){var m=h(a/l);for(var v in c)if(c[S](v)){switch(ne[v]){case X:o=+c[v]+m*l*d[v];break;case"colour":o="rgb("+[di(Q(c[v].r+m*l*d[v].r)),di(Q(c[v].g+m*l*d[v].g)),di(Q(c[v].b+m*l*d[v].b))].join(",")+")";break;case"path":o=[];for(var y=0,x=c[v].length;x>y;y++){o[y]=[c[v][y][0]];for(var w=1,_=c[v][y].length;_>w;w++)o[y][w]=+c[v][y][w]+m*l*d[v][y][w];o[y]=o[y].join(I)}o=o.join(I);break;case"transform":if(d[v].real)for(o=[],y=0,x=c[v].length;x>y;y++)for(o[y]=[c[v][y][0]],w=1,_=c[v][y].length;_>w;w++)o[y][w]=c[v][y][w]+m*l*d[v][y][w];else{var k=function(t){return+c[v][t]+m*l*d[v][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==v)for(o=[],y=4;y--;)o[y]=+c[v][y]+m*l*d[v][y];break;default:var C=[][P](c[v]);for(o=[],y=p.paper.customAttributes[v].length;y--;)o[y]=+C[y]+m*l*d[v][y]}f[v]=o}p.attr(f),function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+t,i,n)})}(p.id,p,s.anim)}else{if(function(t,n,s){setTimeout(function(){e("raphael.anim.frame."+n.id,n,s),e("raphael.anim.finish."+n.id,n,s),i.is(t,"function")&&t.call(n)})}(s.callback,p,s.anim),p.attr(u),li.splice(n--,1),s.repeat>1&&!s.next){for(r in u)u[S](r)&&(g[r]=s.totalOrigin[r]);s.el.attr(g),b(s.anim,s.el,s.anim.percents[0],null,s.totalOrigin,s.repeat-1)}s.next&&!s.stop&&b(s.anim,s.el,s.next,null,s.totalOrigin,s.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),li.length&&hi(ci)},di=function(t){return t>255?255:0>t?0:t};Qe.animateWith=function(t,e,n,s,o,r){var a=this;if(a.removed)return r&&r.call(a),a;var l=n instanceof v?n:i.animation(n,s,o,r);b(l,a,l.percents[0],null,a.attr());for(var h=0,c=li.length;c>h;h++)if(li[h].anim==e&&li[h].el==t){li[c-1].start=li[h].start;break}return a},Qe.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=O.floor(F(t,0))||1,e},i.animation=function(t,e,n,s){if(t instanceof v)return t;(i.is(n,"function")||!n)&&(s=s||n||null,n=null),t=Object(t),e=+e||0;var o,r,a={};for(r in t)t[S](r)&&J(r)!=r&&J(r)+"%"!=r&&(o=!0,a[r]=t[r]);return o?(n&&(a.easing=n),s&&(a.callback=s),new v({100:a},e)):new v(t,e)},Qe.animate=function(t,e,n,s){var o=this;if(o.removed)return s&&s.call(o),o;var r=t instanceof v?t:i.animation(t,e,n,s);return b(r,o,r.percents[0],null,o.attr()),o},Qe.setTime=function(t,e){return t&&null!=e&&this.status(t,j(e,t.ms)/t.ms),this},Qe.status=function(t,e){var i,n,s=[],o=0;if(null!=e)return b(t,this,-1,j(e,1)),this;for(i=li.length;i>o;o++)if(n=li[o],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;s.push({anim:n.anim,status:n.status})}return t?0:s},Qe.pause=function(t){for(var i=0;i<li.length;i++)li[i].el.id!=this.id||t&&li[i].anim!=t||e("raphael.anim.pause."+this.id,this,li[i].anim)!==!1&&(li[i].paused=!0);return this},Qe.resume=function(t){for(var i=0;i<li.length;i++)if(li[i].el.id==this.id&&(!t||li[i].anim==t)){var n=li[i];e("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Qe.stop=function(t){for(var i=0;i<li.length;i++)li[i].el.id!=this.id||t&&li[i].anim!=t||e("raphael.anim.stop."+this.id,this,li[i].anim)!==!1&&li.splice(i--,1);return this},e.on("raphael.remove",y),e.on("raphael.clear",y),Qe.toString=function(){return"Raphaël’s object"};var ui=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Qe.constructor&&t[e].constructor!=ui||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pi=ui.prototype;pi.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],!t||t.constructor!=Qe.constructor&&t.constructor!=ui||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},pi.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pi.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var fi in Qe)Qe[S](fi)&&(pi[fi]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][M](i,e)})}}(fi));return pi.attr=function(t,e){if(t&&i.is(t,q)&&i.is(t[0],"object"))for(var n=0,s=t.length;s>n;n++)this.items[n].attr(t[n]);else for(var o=0,r=this.items.length;r>o;o++)this.items[o].attr(t,e);return this},pi.clear=function(){for(;this.length;)this.pop()},pi.splice=function(t,e){t=0>t?F(this.length+t,0):t,e=F(0,j(this.length-t,e));var i,n=[],s=[],o=[];for(i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;e>i;i++)s.push(this[t+i]);for(;i<this.length-t;i++)n.push(this[t+i]);var r=o.length;for(i=0;i<r+n.length;i++)this.items[t+i]=this[t+i]=r>i?o[i]:n[i-r];for(i=this.items.length=this.length-=e-r;this[i];)delete this[i++];return new ui(s)},pi.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},pi.animate=function(t,e,n,s){(i.is(n,"function")||!n)&&(s=n||null);var o,r,a=this.items.length,l=a,h=this;if(!a)return this;s&&(r=function(){!--a&&s.call(h)}),n=i.is(n,Y)?n:r;var c=i.animation(t,e,n,r);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||a--;return this},pi.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pi.getBBox=function(){for(var t=[],e=[],i=[],n=[],s=this.items.length;s--;)if(!this.items[s].removed){var o=this.items[s].getBBox();t.push(o.x),e.push(o.y),i.push(o.x+o.width),n.push(o.y+o.height)}return t=j[M](0,t),e=j[M](0,e),i=F[M](0,i),n=F[M](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},pi.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},pi.toString=function(){return"Raphaël‘s set"},pi.glow=function(t){var e=this.paper.set();return this.forEach(function(i){var n=i.glow(t);null!=n&&n.forEach(function(t){e.push(t)})}),e},pi.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){return n.isPointInside(t,e)?(console.log("runned"),i=!0,!1):void 0}),i},i.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[S](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=te(t.face["units-per-em"],10);for(var s in t.glyphs)if(t.glyphs[S](s)){var o=t.glyphs[s];if(e.glyphs[s]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var r in o.k)o[S](r)&&(e.glyphs[s].k[r]=o.k[r])}}return t},w.getFont=function(t,e,n,s){if(s=s||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,i.fonts){var o=i.fonts[t];if(!o){var r=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var a in i.fonts)if(i.fonts[S](a)&&r.test(a)){o=i.fonts[a];break}}var l;if(o)for(var h=0,c=o.length;c>h&&(l=o[h],l.face["font-weight"]!=e||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=s);h++);return l}},w.print=function(t,e,n,s,o,r,a,l){r=r||"middle",a=F(j(a||0,1),-1),l=F(j(l||1,3),1);var h,c=z(n)[N](E),d=0,u=0,p=E;if(i.is(s,"string")&&(s=this.getFont(s)),s){h=(o||16)/s.face["units-per-em"];for(var f=s.face.bbox[N](_),g=+f[0],m=f[3]-f[1],v=0,b=+f[1]+("baseline"==r?m+ +s.face.descent:m/2),y=0,x=c.length;x>y;y++){if(c[y]=="\n")d=0,k=0,u=0,v+=m*l;else{var w=u&&s.glyphs[c[y-1]]||{},k=s.glyphs[c[y]];d+=u?(w.w||s.w)+(w.k&&w.k[c[y]]||0)+s.w*a:0,u=1}k&&k.d&&(p+=i.transformPath(k.d,["t",d*h,v*h,"s",h,h,g,b,"t",(t-g)/h,(e-b)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(i.is(t,"array"))for(var e,n=this.set(),s=0,o=t.length;o>s;s++)e=t[s]||{},k[S](e.type)&&n.push(this[e.type]().attr(e));return n},i.format=function(t,e){var n=i.is(e,q)?[0][P](e):arguments;return t&&i.is(t,Y)&&n.length-1&&(t=t.replace(C,function(t,e){return n[++e]==null?E:n[e]})),t||E},i.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var s=n;return i.replace(e,function(t,e,i,n,o){e=e||n,s&&(e in s&&(s=s[e]),"function"==typeof s&&o&&(s=s()))}),s=(null==s||s==n?t:s)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),i.ninja=function(){return A.was?T.win.Raphael=A.is:delete Raphael,i},i.st=pi,function(t,e,n){function s(){/in/.test(t.readyState)?setTimeout(s,9):i.eve("raphael.DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(e,n=function(){t.removeEventListener(e,n,!1),t.readyState="complete"},!1),t.readyState="loading"),s()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",function(){x=!0}),// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(){if(i.svg){var t="hasOwnProperty",e=String,n=parseFloat,s=parseInt,o=Math,r=o.max,a=o.abs,l=o.pow,h=/[, ]+/,c=i.eve,d="",u=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(n,s){if(s){"string"==typeof n&&(n=m(n));for(var o in s)s[t](o)&&(o.substring(0,6)=="xlink:"?n.setAttributeNS(p,o.substring(6),e(s[o])):n.setAttribute(o,e(s[o])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(t,s){var h="linear",c=t.id+s,u=.5,p=.5,f=t.node,g=t.paper,v=f.style,b=i._g.doc.getElementById(c);if(!b){if(s=e(s).replace(i._radial_gradient,function(t,e,i){if(h="radial",e&&i){u=n(e),p=n(i);var s=2*(p>.5)-1;l(u-.5,2)+l(p-.5,2)>.25&&(p=o.sqrt(.25-l(u-.5,2))*s+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*s)}return d}),s=s.split(/\s*\-\s*/),"linear"==h){var y=s.shift();if(y=-n(y),isNaN(y))return null;var x=[0,0,o.cos(i.rad(y)),o.sin(i.rad(y))],w=1/(r(a(x[2]),a(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var _=i._parseDots(s);if(!_)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){b=m(h+"Gradient",{id:c}),t.gradient=b,m(b,"radial"==h?{fx:u,fy:p}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(b);for(var k=0,C=_.length;C>k;k++)b.appendChild(m("stop",{offset:_[k].offset?_[k].offset:k?"100%":"0%","stop-color":_[k].color||"#fff"}))}}return m(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},b=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},y=function(n,s,o){if(n.type=="path"){for(var r,a,l,h,c,u=e(s).toLowerCase().split("-"),p=n.paper,v=o?"end":"start",b=n.node,y=n.attrs,x=y["stroke-width"],w=u.length,_="classic",k=3,C=3,S=5;w--;)switch(u[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=u[w];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==_?(k+=2,C+=2,S+=2,l=1,h=o?4:1,c={fill:"none",stroke:y.stroke}):(h=l=k/2,c={fill:y.stroke,stroke:"none"}),n._.arrows?o?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=_){var T="raphael-marker-"+_,A="raphael-marker-"+v+_+k+C;i._g.doc.getElementById(T)?g[T]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[_],id:T})),g[T]=1);var L,M=i._g.doc.getElementById(A);M?(g[A]++,L=M.getElementsByTagName("use")[0]):(M=m(m("marker"),{id:A,markerHeight:C,markerWidth:k,orient:"auto",refX:h,refY:C/2}),L=m(m("use"),{"xlink:href":"#"+T,transform:(o?"rotate(180 "+k/2+" "+C/2+") ":d)+"scale("+k/S+","+C/S+")","stroke-width":(1/((k/S+C/S)/2)).toFixed(4)}),M.appendChild(L),p.defs.appendChild(M),g[A]=1),m(L,c);var P=l*("diamond"!=_&&"oval"!=_);o?(r=n._.arrows.startdx*x||0,a=i.getTotalLength(y.path)-P*x):(r=P*x,a=i.getTotalLength(y.path)-(n._.arrows.enddx*x||0)),c={},c["marker-"+v]="url(#"+A+")",(a||r)&&(c.d=i.getSubpath(y.path,r,a)),m(b,c),n._.arrows[v+"Path"]=T,n._.arrows[v+"Marker"]=A,n._.arrows[v+"dx"]=P,n._.arrows[v+"Type"]=_,n._.arrows[v+"String"]=s}else o?(r=n._.arrows.startdx*x||0,a=i.getTotalLength(y.path)-r):(r=0,a=i.getTotalLength(y.path)-(n._.arrows.enddx*x||0)),n._.arrows[v+"Path"]&&m(b,{d:i.getSubpath(y.path,r,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in g)if(g[t](c)&&!g[c]){var D=i._g.doc.getElementById(c);D&&D.parentNode.removeChild(D)}}},x={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,i,n){if(i=x[e(i).toLowerCase()]){for(var s=t.attrs["stroke-width"]||"1",o={round:s,square:s,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,r=[],a=i.length;a--;)r[a]=i[a]*s+(a%2?1:-1)*o;m(t.node,{"stroke-dasharray":r.join(",")})}},_=function(n,o){var l=n.node,c=n.attrs,u=l.style.visibility;l.style.visibility="hidden";for(var f in o)if(o[t](f)){if(!i._availableAttrs[t](f))continue;var g=o[f];switch(c[f]=g,f){case"blur":n.blur(g);break;case"href":case"title":var x=m("title"),_=i._g.doc.createTextNode(g);x.appendChild(_),l.appendChild(x);break;case"target":var k=l.parentNode;if(k.tagName.toLowerCase()!="a"){var x=m("a");k.insertBefore(x,l),x.appendChild(l),k=x}"target"==f?k.setAttributeNS(p,"show","blank"==g?"new":g):k.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":y(n,g);break;case"arrow-end":y(n,g,1);break;case"clip-rect":var S=e(g).split(h);if(S.length==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var T=m("clipPath"),A=m("rect");T.id=i.createUUID(),m(A,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(A),n.paper.defs.appendChild(T),m(l,{"clip-path":"url(#"+T.id+")"}),n.clip=A}if(!g){var L=l.getAttribute("clip-path");if(L){var M=i._g.doc.getElementById(L.replace(/(^url\(#|\)$)/g,d));M&&M.parentNode.removeChild(M),m(l,{"clip-path":d}),delete n.clip}}break;case"path":n.type=="path"&&(m(l,{d:g?c.path=i._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!c.fx)break;f="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==f&&n.type=="rect")break;case"cx":l.setAttribute(f,g),n.pattern&&b(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!c.fy)break;f="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==f&&n.type=="rect")break;case"cy":l.setAttribute(f,g),n.pattern&&b(n),n._.dirty=1;break;case"r":n.type=="rect"?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":n.type=="image"&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(n._.sx!=1||n._.sy!=1)&&(g/=r(a(n._.sx),a(n._.sy))||1),n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(f,g),c["stroke-dasharray"]&&w(n,c["stroke-dasharray"],o),n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"stroke-dasharray":w(n,g,o);break;case"fill":var P=e(g).match(i._ISURL);if(P){T=m("pattern");var D=m("image");T.id=i.createUUID(),m(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(D,{x:0,y:0,"xlink:href":P[1]}),T.appendChild(D),function(t){i._preload(P[1],function(){var e=this.offsetWidth,i=this.offsetHeight;m(t,{width:e,height:i}),m(D,{width:e,height:i}),n.paper.safari()})}(T),n.paper.defs.appendChild(T),m(l,{fill:"url(#"+T.id+")"}),n.pattern=T,n.pattern&&b(n);break}var E=i.getRGB(g);if(E.error){if((n.type=="circle"||n.type=="ellipse"||e(g).charAt()!="r")&&v(n,g)){if("opacity"in c||"fill-opacity"in c){var I=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(I){var z=I.getElementsByTagName("stop");m(z[z.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!i.is(c.opacity,"undefined")&&i.is(o.opacity,"undefined")&&m(l,{opacity:c.opacity}),!i.is(c["fill-opacity"],"undefined")&&i.is(o["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});E[t]("opacity")&&m(l,{"fill-opacity":E.opacity>1?E.opacity/100:E.opacity});case"stroke":E=i.getRGB(g),l.setAttribute(f,E.hex),"stroke"==f&&E[t]("opacity")&&m(l,{"stroke-opacity":E.opacity>1?E.opacity/100:E.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"gradient":(n.type=="circle"||n.type=="ellipse"||e(g).charAt()!="r")&&v(n,g);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){I=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d)),I&&(z=I.getElementsByTagName("stop"),m(z[z.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=s(g,10)+"px");var N=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[N]=g,n._.dirty=1,l.setAttribute(f,g)}}C(n,o),l.style.visibility=u},k=1.2,C=function(n,o){if(n.type=="text"&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var r=n.attrs,a=n.node,l=a.firstChild?s(i._g.doc.defaultView.getComputedStyle(a.firstChild,d).getPropertyValue("font-size"),10):10;if(o[t]("text")){for(r.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var h,c=e(o.text).split("\n"),u=[],p=0,f=c.length;f>p;p++)h=m("tspan"),p&&m(h,{dy:l*k,x:r.x}),h.appendChild(i._g.doc.createTextNode(c[p])),a.appendChild(h),u[p]=h}else for(u=a.getElementsByTagName("tspan"),p=0,f=u.length;f>p;p++)p?m(u[p],{dy:l*k,x:r.x}):m(u[0],{dy:0});m(a,{x:r.x,y:r.y}),n._.dirty=1;var g=n._getBBox(),v=r.y-(g.y+g.height/2);v&&i.is(v,"finite")&&m(u[0],{dy:v})}},S=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},T=i.el;S.prototype=T,T.constructor=S,i._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new S(i,e);return n.type="path",_(n,{fill:"none",stroke:"#000",path:t}),n},T.rotate=function(t,i,s){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),s=n(t[2])),t=n(t[0]),null==s&&(i=s),null==i||null==s){var o=this.getBBox(1);i=o.x+o.width/2,s=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,i,s]])),this},T.scale=function(t,i,s,o){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),s=n(t[2]),o=n(t[3])),t=n(t[0]),null==i&&(i=t),null==o&&(s=o),null==s||null==o)var r=this.getBBox(1);return s=null==s?r.x+r.width/2:s,o=null==o?r.y+r.height/2:o,this.transform(this._.transform.concat([["s",t,i,s,o]])),this},T.translate=function(t,i){return this.removed?this:(t=e(t).split(h),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",t,i]])),this)},T.transform=function(e){var n=this._;if(null==e)return n.transform;if(i._extractTransform(this,e),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&m(this.node,{transform:this.matrix}),n.sx!=1||n.sy!=1){var s=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":s})}return this},T.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},T.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},T.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),i._tear(this,t),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var e in this)this[e]=typeof this[e]=="function"?i._removedFactory(e):null;this.removed=!0}},T._getBBox=function(){if(this.node.style.display=="none"){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},T.attr=function(e,n){if(this.removed)return this;if(null==e){var s={};for(var o in this.attrs)this.attrs[t](o)&&(s[o]=this.attrs[o]);return s.gradient&&s.fill=="none"&&(s.fill=s.gradient)&&delete s.gradient,s.transform=this._.transform,s}if(null==n&&i.is(e,"string")){if("fill"==e&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var r=e.split(h),a={},l=0,d=r.length;d>l;l++)e=r[l],a[e]=e in this.attrs?this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:i._availableAttrs[e];return d-1?a:a[r[0]]}if(null==n&&i.is(e,"array")){for(a={},l=0,d=e.length;d>l;l++)a[e[l]]=this.attr(e[l]);return a}if(null!=n){var u={};u[e]=n}else null!=e&&i.is(e,"object")&&(u=e);for(var p in u)c("raphael.attr."+p+"."+this.id,this,u[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&u[t](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));this.attrs[p]=u[p];for(var g in f)f[t](g)&&(u[g]=f[g])}return _(this,u),this},T.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&i._tofront(this,t),this},T.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper),this.paper,this},T.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this},T.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),i._insertbefore(this,t,this.paper),this},T.blur=function(t){var e=this;if(0!==+t){var n=m("filter"),s=m("feGaussianBlur");e.attrs.blur=t,n.id=i.createUUID(),m(s,{stdDeviation:+t||1.5}),n.appendChild(s),e.paper.defs.appendChild(n),e._blur=n,m(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},i._engine.circle=function(t,e,i,n){var s=m("circle");t.canvas&&t.canvas.appendChild(s);var o=new S(s,t);return o.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},o.type="circle",m(s,o.attrs),o},i._engine.rect=function(t,e,i,n,s,o){var r=m("rect");t.canvas&&t.canvas.appendChild(r);var a=new S(r,t);return a.attrs={x:e,y:i,width:n,height:s,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",m(r,a.attrs),a},i._engine.ellipse=function(t,e,i,n,s){var o=m("ellipse");t.canvas&&t.canvas.appendChild(o);var r=new S(o,t);return r.attrs={cx:e,cy:i,rx:n,ry:s,fill:"none",stroke:"#000"},r.type="ellipse",m(o,r.attrs),r},i._engine.image=function(t,e,i,n,s,o){var r=m("image");m(r,{x:i,y:n,width:s,height:o,preserveAspectRatio:"none"}),r.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(r);var a=new S(r,t);return a.attrs={x:i,y:n,width:s,height:o,src:e},a.type="image",a},i._engine.text=function(t,e,n,s){var o=m("text");t.canvas&&t.canvas.appendChild(o);var r=new S(o,t);return r.attrs={x:e,y:n,"text-anchor":"middle",text:s,font:i._availableAttrs.font,stroke:"none",fill:"#000"},r.type="text",_(r,r.attrs),r},i._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,s=t.y,o=t.width,r=t.height;if(!e)throw new Error("SVG container not found.");var a,l=m("svg"),h="overflow:hidden;";return n=n||0,s=s||0,o=o||512,r=r||342,m(l,{height:r,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+s+"px",i._g.doc.body.appendChild(l),a=1):(l.style.cssText=h+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new i._Paper,e.width=o,e.height=r,e.canvas=l,e.clear(),e._left=e._top=0,a&&(e.renderfix=function(){}),e.renderfix(),e},i._engine.setViewBox=function(t,e,i,n,s){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,s]);var o,a,l=r(i/this.width,n/this.height),h=this.top,d=s?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+u+this.height):(this._vbSize=l,o=t+u+e+u+i+u+n),m(this.canvas,{viewBox:o,preserveAspectRatio:d});l&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,n,!!s],this},i.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var s=-t.e%1,o=-t.f%1;(s||o)&&(s&&(this._left=(this._left+s)%1,i.left=this._left+"px"),o&&(this._top=(this._top+o)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël "+i.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},i.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?i._removedFactory(t):null};var A=i.st;for(var L in T)T[t](L)&&!A[t](L)&&(A[L]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(L))}}(),// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(){if(i.vml){var t="hasOwnProperty",e=String,n=parseFloat,s=Math,o=s.round,r=s.max,a=s.min,l=s.abs,h="fill",c=/[, ]+/,d=i.eve,u=" progid:DXImageTransform.Microsoft",p=" ",f="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,b=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,w={path:1,rect:1,image:1},_={circle:1,ellipse:1},k=function(t){var n=/[ahqstv]/gi,s=i._pathToAbsolute;if(e(t).match(n)&&(s=i._path2curve),n=/[clmz]/g,s==i._pathToAbsolute&&!e(t).match(n)){var r=e(t).replace(m,function(t,e,i){var n=[],s=e.toLowerCase()=="m",r=g[e];return i.replace(b,function(t){s&&n.length==2&&(r+=n+g["m"==e?"l":"L"],n=[]),n.push(o(t*x))}),r+n});return r}var a,l,h=s(t);r=[];for(var c=0,d=h.length;d>c;c++){a=h[c],l=h[c][0].toLowerCase(),"z"==l&&(l="x");for(var u=1,v=a.length;v>u;u++)l+=o(a[u]*x)+(u!=v-1?",":f);r.push(l)}return r.join(p)},C=function(t,e,n){var s=i.matrix();return s.rotate(-t,.5,.5),{dx:s.x(e,n),dy:s.y(e,n)}},S=function(t,e,i,n,s,o){var r=t._,a=t.matrix,c=r.fillpos,d=t.node,u=d.style,f=1,g="",m=x/e,v=x/i;if(u.visibility="hidden",e&&i){if(d.coordsize=l(m)+p+l(v),u.rotation=o*(0>e*i?-1:1),o){var b=C(o,n,s);n=b.dx,s=b.dy}if(0>e&&(g+="x"),0>i&&(g+=" y")&&(f=-1),u.flip=g,d.coordorigin=n*-m+p+s*-v,c||r.fillsize){var y=d.getElementsByTagName(h);y=y&&y[0],d.removeChild(y),c&&(b=C(o,a.x(c[0],c[1]),a.y(c[0],c[1])),y.position=b.dx*f+p+b.dy*f),r.fillsize&&(y.size=r.fillsize[0]*l(e)+p+r.fillsize[1]*l(i)),d.appendChild(y)}u.visibility="visible"}};i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var T=function(t,i,n){for(var s=e(i).toLowerCase().split("-"),o=n?"end":"start",r=s.length,a="classic",l="medium",h="medium";r--;)switch(s[r]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=s[r];break;case"wide":case"narrow":h=s[r];break;case"long":case"short":l=s[r]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=h},A=function(s,l){s.attrs=s.attrs||{};var d=s.node,u=s.attrs,g=d.style,m=w[s.type]&&(l.x!=u.x||l.y!=u.y||l.width!=u.width||l.height!=u.height||l.cx!=u.cx||l.cy!=u.cy||l.rx!=u.rx||l.ry!=u.ry||l.r!=u.r),v=_[s.type]&&(u.cx!=l.cx||u.cy!=l.cy||u.r!=l.r||u.rx!=l.rx||u.ry!=l.ry),b=s;for(var y in l)l[t](y)&&(u[y]=l[y]);if(m&&(u.path=i._getPath[s.type](s),s._.dirty=1),l.href&&(d.href=l.href),l.title&&(d.title=l.title),l.target&&(d.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&s.blur(l.blur),(l.path&&s.type=="path"||m)&&(d.path=k(~e(u.path).toLowerCase().indexOf("r")?i._pathToAbsolute(u.path):u.path),s.type=="image"&&(s._.fillpos=[u.x,u.y],s._.fillsize=[u.width,u.height],S(s,1,1,0,0,0))),"transform"in l&&s.transform(l.transform),v){var C=+u.cx,A=+u.cy,M=+u.rx||+u.r||0,P=+u.ry||+u.r||0;d.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((C-M)*x),o((A-P)*x),o((C+M)*x),o((A+P)*x),o(C*x)),s._.dirty=1}if("clip-rect"in l){var E=e(l["clip-rect"]).split(c);if(E.length==4){E[2]=+E[2]+ +E[0],E[3]=+E[3]+ +E[1];var I=d.clipRect||i._g.doc.createElement("div"),z=I.style;z.clip=i.format("rect({1}px {2}px {3}px {0}px)",E),d.clipRect||(z.position="absolute",z.top=0,z.left=0,z.width=s.paper.width+"px",z.height=s.paper.height+"px",d.parentNode.insertBefore(I,d),I.appendChild(d),d.clipRect=I)}l["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="auto")}if(s.textpath){var N=s.textpath.style;l.font&&(N.font=l.font),l["font-family"]&&(N.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(N.fontSize=l["font-size"]),l["font-weight"]&&(N.fontWeight=l["font-weight"]),l["font-style"]&&(N.fontStyle=l["font-style"])}if("arrow-start"in l&&T(b,l["arrow-start"]),"arrow-end"in l&&T(b,l["arrow-end"],1),l.opacity!=null||l["stroke-width"]!=null||l.fill!=null||l.src!=null||l.stroke!=null||l["stroke-width"]!=null||l["stroke-opacity"]!=null||l["fill-opacity"]!=null||l["stroke-dasharray"]!=null||l["stroke-miterlimit"]!=null||l["stroke-linejoin"]!=null||l["stroke-linecap"]!=null){var $=d.getElementsByTagName(h),B=!1;if($=$&&$[0],!$&&(B=$=D(h)),s.type=="image"&&l.src&&($.src=l.src),l.fill&&($.on=!0),($.on==null||l.fill=="none"||l.fill===null)&&($.on=!1),$.on&&l.fill){var R=e(l.fill).match(i._ISURL);if(R){$.parentNode==d&&d.removeChild($),$.rotate=!0,$.src=R[1],$.type="tile";var O=s.getBBox(1);$.position=O.x+p+O.y,s._.fillpos=[O.x,O.y],i._preload(R[1],function(){s._.fillsize=[this.offsetWidth,this.offsetHeight]})}else $.color=i.getRGB(l.fill).hex,$.src=f,$.type="solid",i.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||e(l.fill).charAt()!="r")&&L(b,l.fill,$)&&(u.fill="none",u.gradient=l.fill,$.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var F=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);F=a(r(F,0),1),$.opacity=F,$.src&&($.color="none")}d.appendChild($);var j=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0],H=!1;!j&&(H=j=D("stroke")),(l.stroke&&l.stroke!="none"||l["stroke-width"]||l["stroke-opacity"]!=null||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(j.on=!0),(l.stroke=="none"||l.stroke===null||j.on==null||l.stroke==0||l["stroke-width"]==0)&&(j.on=!1);var G=i.getRGB(l.stroke);j.on&&l.stroke&&(j.color=G.hex),F=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+G.o+1||2)-1);var W=(n(l["stroke-width"])||1)*.75;if(F=a(r(F,0),1),l["stroke-width"]==null&&(W=u["stroke-width"]),l["stroke-width"]&&(j.weight=W),W&&1>W&&(F*=W)&&(j.weight=1),j.opacity=F,l["stroke-linejoin"]&&(j.joinstyle=l["stroke-linejoin"]||"miter"),j.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(j.endcap=l["stroke-linecap"]=="butt"?"flat":l["stroke-linecap"]=="square"?"square":"round"),l["stroke-dasharray"]){var X={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};j.dashstyle=X[t](l["stroke-dasharray"])?X[l["stroke-dasharray"]]:f}H&&d.appendChild(j)}if(b.type=="text"){b.paper.canvas.style.display=f;var Y=b.paper.span,q=100,V=u.font&&u.font.match(/\d+(?:\.\d*)?(?=px)/);g=Y.style,u.font&&(g.font=u.font),u["font-family"]&&(g.fontFamily=u["font-family"]),u["font-weight"]&&(g.fontWeight=u["font-weight"]),u["font-style"]&&(g.fontStyle=u["font-style"]),V=n(u["font-size"]||V&&V[0])||10,g.fontSize=V*q+"px",b.textpath.string&&(Y.innerHTML=e(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var U=Y.getBoundingClientRect();b.W=u.w=(U.right-U.left)/q,b.H=u.h=(U.bottom-U.top)/q,b.X=u.x,b.Y=u.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=i.format("m{0},{1}l{2},{1}",o(u.x*x),o(u.y*x),o(u.x*x)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,Q=K.length;Q>Z;Z++)if(K[Z]in l){b._.dirty=1;break}switch(u["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},L=function(t,o,r){t.attrs=t.attrs||{};var a=(t.attrs,Math.pow),l="linear",h=".5 .5";if(t.attrs.gradient=o,o=e(o).replace(i._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=s.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),h=e+p+i),f}),o=o.split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-n(c),isNaN(c))return null}var d=i._parseDots(o);if(!d)return null;if(t=t.shape||t.node,d.length){t.removeChild(r),r.on=!0,r.method="none",r.color=d[0].color,r.color2=d[d.length-1].color;for(var u=[],g=0,m=d.length;m>g;g++)d[g].offset&&u.push(d[g].offset+p+d[g].color);r.colors=u.length?u.join():"0% "+r.color,"radial"==l?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=h,r.angle=0):(r.type="gradient",r.angle=(270-c)%360),t.appendChild(r)}return 1},M=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},P=i.el;M.prototype=P,P.constructor=M,P.transform=function(t){if(null==t)return this._.transform;var n,s=this.paper._viewBoxShift,o=s?"s"+[s.scale,s.scale]+"-1-1t"+[s.dx,s.dy]:f;s&&(n=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,o+t);var r,a=this.matrix.clone(),l=this.skew,h=this.node,c=~e(this.attrs.fill).indexOf("-"),d=!e(this.attrs.fill).indexOf("url(");if(a.translate(1,1),d||c||this.type=="image")if(l.matrix="1 0 0 1",l.offset="0 0",r=a.split(),c&&r.noRotation||!r.isSimple){h.style.filter=a.toFilter();var u=this.getBBox(),g=this.getBBox(1),m=u.x-g.x,v=u.y-g.y;h.coordorigin=m*-x+p+v*-x,S(this,1,1,m,v,0)}else h.style.filter=f,S(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else h.style.filter=f,l.matrix=e(a),l.offset=a.offset();return n&&(this._.transform=n),this},P.rotate=function(t,i,s){if(this.removed)return this;if(null!=t){if(t=e(t).split(c),t.length-1&&(i=n(t[1]),s=n(t[2])),t=n(t[0]),null==s&&(i=s),null==i||null==s){var o=this.getBBox(1);i=o.x+o.width/2,s=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,i,s]])),this}},P.translate=function(t,i){return this.removed?this:(t=e(t).split(c),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",t,i]])),this)},P.scale=function(t,i,s,o){if(this.removed)return this;if(t=e(t).split(c),t.length-1&&(i=n(t[1]),s=n(t[2]),o=n(t[3]),isNaN(s)&&(s=null),isNaN(o)&&(o=null)),t=n(t[0]),null==i&&(i=t),null==o&&(s=o),null==s||null==o)var r=this.getBBox(1);return s=null==s?r.x+r.width/2:s,o=null==o?r.y+r.height/2:o,this.transform(this._.transform.concat([["s",t,i,s,o]])),this._.dirtyT=1,this},P.hide=function(){return!this.removed&&(this.node.style.display="none"),this},P.show=function(){return!this.removed&&(this.node.style.display=f),this},P._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},P.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?i._removedFactory(t):null;this.removed=!0}},P.attr=function(e,n){if(this.removed)return this;if(null==e){var s={};for(var o in this.attrs)this.attrs[t](o)&&(s[o]=this.attrs[o]);return s.gradient&&s.fill=="none"&&(s.fill=s.gradient)&&delete s.gradient,s.transform=this._.transform,s}if(null==n&&i.is(e,"string")){if(e==h&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var r=e.split(c),a={},l=0,u=r.length;u>l;l++)e=r[l],a[e]=e in this.attrs?this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:i._availableAttrs[e];return u-1?a:a[r[0]]}if(this.attrs&&null==n&&i.is(e,"array")){for(a={},l=0,u=e.length;u>l;l++)a[e[l]]=this.attr(e[l]);return a}var p;null!=n&&(p={},p[e]=n),null==n&&i.is(e,"object")&&(p=e);for(var f in p)d("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&i.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var m in g)g[t](m)&&(p[m]=g[m])}p.text&&this.type=="text"&&(this.textpath.string=p.text),A(this,p)}return this},P.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},P.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},P.insertAfter=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this)},P.insertBefore=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),i._insertbefore(this,t,this.paper),this)},P.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(v,f),0!==+t?(this.attrs.blur=t,e.filter=n+p+u+".Blur(pixelradius="+(+t||1.5)+")",e.margin=i.format("-{0}px 0 0 -{0}px",o(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},i._engine.path=function(t,e){var i=D("shape");i.style.cssText=y,i.coordsize=x+p+x,i.coordorigin=e.coordorigin;var n=new M(i,e),s={fill:"none",stroke:"#000"};t&&(s.path=t),n.type="path",n.path=[],n.Path=f,A(n,s),e.canvas.appendChild(i);var o=D("skew");return o.on=!0,i.appendChild(o),n.skew=o,n.transform(f),n},i._engine.rect=function(t,e,n,s,o,r){var a=i._rectPath(e,n,s,o,r),l=t.path(a),h=l.attrs;return l.X=h.x=e,l.Y=h.y=n,l.W=h.width=s,l.H=h.height=o,h.r=r,h.path=a,l.type="rect",l},i._engine.ellipse=function(t,e,i,n,s){var o=t.path();return o.attrs,o.X=e-n,o.Y=i-s,o.W=2*n,o.H=2*s,o.type="ellipse",A(o,{cx:e,cy:i,rx:n,ry:s}),o},i._engine.circle=function(t,e,i,n){var s=t.path();return s.attrs,s.X=e-n,s.Y=i-n,s.W=s.H=2*n,s.type="circle",A(s,{cx:e,cy:i,r:n}),s},i._engine.image=function(t,e,n,s,o,r){var a=i._rectPath(n,s,o,r),l=t.path(a).attr({stroke:"none"}),c=l.attrs,d=l.node,u=d.getElementsByTagName(h)[0];return c.src=e,l.X=c.x=n,l.Y=c.y=s,l.W=c.width=o,l.H=c.height=r,c.path=a,l.type="image",u.parentNode==d&&d.removeChild(u),u.rotate=!0,u.src=e,u.type="tile",l._.fillpos=[n,s],l._.fillsize=[o,r],d.appendChild(u),S(l,1,1,0,0,0),l},i._engine.text=function(t,n,s,r){var a=D("shape"),l=D("path"),h=D("textpath");n=n||0,s=s||0,r=r||"",l.v=i.format("m{0},{1}l{2},{1}",o(n*x),o(s*x),o(n*x)+1),l.textpathok=!0,h.string=e(r),h.on=!0,a.style.cssText=y,a.coordsize=x+p+x,a.coordorigin="0 0";var c=new M(a,t),d={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:r};c.shape=a,c.path=l,c.textpath=h,c.type="text",c.attrs.text=e(r),c.attrs.x=n,c.attrs.y=s,c.attrs.w=1,c.attrs.h=1,A(c,d),a.appendChild(h),a.appendChild(l),t.canvas.appendChild(a);var u=D("skew");return u.on=!0,a.appendChild(u),c.skew=u,c.transform(f),c},i._engine.setSize=function(t,e){var n=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(t,e,n,s,o){i.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,s,o]);var a,l,h=this.width,c=this.height,d=1/r(n/h,s/c);return o&&(a=c/s,l=h/n,h>n*a&&(t-=(h-n*a)/2/a),c>s*l&&(e-=(c-s*l)/2/l)),this._viewBox=[t,e,n,s,!!o],this._viewBoxShift={dx:-t,dy:-e,scale:d},this.forEach(function(t){t.transform("...")}),this};var D;i._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),D=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){D=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t.container,n=t.height,s=t.width,o=t.x,r=t.y;if(!e)throw new Error("VML container not found.");var a=new i._Paper,l=a.canvas=i._g.doc.createElement("div"),h=l.style;return o=o||0,r=r||0,s=s||512,n=n||342,a.width=s,a.height=n,s==+s&&(s+="px"),n==+n&&(n+="px"),a.coordsize=1e3*x+p+1e3*x,a.coordorigin="0 0",a.span=i._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,n),1==e?(i._g.doc.body.appendChild(l),h.left=o+"px",h.top=r+"px",h.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),a.renderfix=function(){},a},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?i._removedFactory(t):null;return!0};var E=i.st;for(var I in P)P[t](I)&&!E[t](I)&&(E[I]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(I))}}(),A.was?T.win.Raphael=i:Raphael=i,i}),/*!
 * g.Raphael 0.51 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009-2012 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael.el.popup=function(t,e,i,n){var s,o,r,a,l,h=this.paper||this[0].paper;if(h){switch(this.type){case"text":case"circle":case"ellipse":r=!0;break;default:r=!1}t=null==t?"up":t,e=e||5,s=this.getBBox(),i="number"==typeof i?i:r?s.x+s.width/2:s.x,n="number"==typeof n?n:r?s.y+s.height/2:s.y,a=Math.max(s.width/2-e,0),l=Math.max(s.height/2-e,0),this.translate(i-s.x-(r?s.width/2:0),n-s.y-(r?s.height/2:0)),s=this.getBBox();var c={up:["M",i,n,"l",-e,-e,-a,0,"a",e,e,0,0,1,-e,-e,"l",0,-s.height,"a",e,e,0,0,1,e,-e,"l",2*e+2*a,0,"a",e,e,0,0,1,e,e,"l",0,s.height,"a",e,e,0,0,1,-e,e,"l",-a,0,"z"].join(","),down:["M",i,n,"l",e,e,a,0,"a",e,e,0,0,1,e,e,"l",0,s.height,"a",e,e,0,0,1,-e,e,"l",-(2*e+2*a),0,"a",e,e,0,0,1,-e,-e,"l",0,-s.height,"a",e,e,0,0,1,e,-e,"l",a,0,"z"].join(","),left:["M",i,n,"l",-e,e,0,l,"a",e,e,0,0,1,-e,e,"l",-s.width,0,"a",e,e,0,0,1,-e,-e,"l",0,-(2*e+2*l),"a",e,e,0,0,1,e,-e,"l",s.width,0,"a",e,e,0,0,1,e,e,"l",0,l,"z"].join(","),right:["M",i,n,"l",e,-e,0,-l,"a",e,e,0,0,1,e,-e,"l",s.width,0,"a",e,e,0,0,1,e,e,"l",0,2*e+2*l,"a",e,e,0,0,1,-e,e,"l",-s.width,0,"a",e,e,0,0,1,-e,-e,"l",0,-l,"z"].join(",")};return o={up:{x:-!r*(s.width/2),y:2*-e-(r?s.height/2:s.height)},down:{x:-!r*(s.width/2),y:2*e+(r?s.height/2:s.height)},left:{x:2*-e-(r?s.width/2:s.width),y:-!r*(s.height/2)},right:{x:2*e+(r?s.width/2:s.width),y:-!r*(s.height/2)}}[t],this.translate(o.x,o.y),h.path(c[t]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])}},Raphael.el.tag=function(t,e,i,n){var s=3,o=this.paper||this[0].paper;if(o){var r,a,l,h=o.path().attr({fill:"#000",stroke:"#000"}),c=this.getBBox();switch(this.type){case"text":case"circle":case"ellipse":l=!0;break;default:l=!1}return t=t||0,i="number"==typeof i?i:l?c.x+c.width/2:c.x,n="number"==typeof n?n:l?c.y+c.height/2:c.y,e=null==e?5:e,a=.5522*e,c.height>=2*e?h.attr({path:["M",i,n+e,"a",e,e,0,1,1,0,2*-e,e,e,0,1,1,0,2*e,"m",0,2*-e-s,"a",e+s,e+s,0,1,0,0,2*(e+s),"L",i+e+s,n+c.height/2+s,"l",c.width+2*s,0,0,-c.height-2*s,-c.width-2*s,0,"L",i,n-e-s].join(",")}):(r=Math.sqrt(Math.pow(e+s,2)-Math.pow(c.height/2+s,2)),h.attr({path:["M",i,n+e,"c",-a,0,-e,a-e,-e,-e,0,-a,e-a,-e,e,-e,a,0,e,e-a,e,e,0,a,a-e,e,-e,e,"M",i+r,n-c.height/2-s,"a",e+s,e+s,0,1,0,0,c.height+2*s,"l",e+s-r+c.width+2*s,0,0,-c.height-2*s,"L",i+r,n-c.height/2-s].join(",")})),t=360-t,h.rotate(t,i,n),this.attrs?(this.attr(this.attrs.x?"x":"cx",i+e+s+(l?c.width/2:"text"==this.type?c.width:0)).attr("y",l?n:n-c.height/2),this.rotate(t,i,n),t>90&&270>t&&this.attr(this.attrs.x?"x":"cx",i-e-s-(l?c.width/2:c.width)).rotate(180,i,n)):t>90&&270>t?(this.translate(i-c.x-c.width-e-s,n-c.y-c.height/2),this.rotate(t-180,c.x+c.width+e+s,c.y+c.height/2)):(this.translate(i-c.x+e+s,n-c.y-c.height/2),this.rotate(t,c.x-e-s,c.y+c.height/2)),h.insertBefore(this.node?this:this[0])}},Raphael.el.drop=function(t,e,i){var n,s,o,r,a,l=this.getBBox(),h=this.paper||this[0].paper;if(h){switch(this.type){case"text":case"circle":case"ellipse":n=!0;break;default:n=!1}return t=t||0,e="number"==typeof e?e:n?l.x+l.width/2:l.x,i="number"==typeof i?i:n?l.y+l.height/2:l.y,s=Math.max(l.width,l.height)+Math.min(l.width,l.height),o=h.path(["M",e,i,"l",s,0,"A",.4*s,.4*s,0,1,0,e+.7*s,i-.7*s,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-t,e,i),t=(t+90)*Math.PI/180,r=e+s*Math.sin(t)-(n?0:l.width/2),a=i+s*Math.cos(t)-(n?0:l.height/2),this.attrs?this.attr(this.attrs.x?"x":"cx",r).attr(this.attrs.y?"y":"cy",a):this.translate(r-l.x,a-l.y),o.insertBefore(this.node?this:this[0])}},Raphael.el.flag=function(t,e,i){var n=3,s=this.paper||this[0].paper;if(s){var o,r=s.path().attr({fill:"#000",stroke:"#000"}),a=this.getBBox(),l=a.height/2;switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}return t=t||0,e="number"==typeof e?e:o?a.x+a.width/2:a.x,i="number"==typeof i?i:o?a.y+a.height/2:a.y,r.attr({path:["M",e,i,"l",l+n,-l-n,a.width+2*n,0,0,a.height+2*n,-a.width-2*n,0,"z"].join(",")}),t=360-t,r.rotate(t,e,i),this.attrs?(this.attr(this.attrs.x?"x":"cx",e+l+n+(o?a.width/2:"text"==this.type?a.width:0)).attr("y",o?i:i-a.height/2),this.rotate(t,e,i),t>90&&270>t&&this.attr(this.attrs.x?"x":"cx",e-l-n-(o?a.width/2:a.width)).rotate(180,e,i)):t>90&&270>t?(this.translate(e-a.x-a.width-l-n,i-a.y-a.height/2),this.rotate(t-180,a.x+a.width+l+n,a.y+a.height/2)):(this.translate(e-a.x+l+n,i-a.y-a.height/2),this.rotate(t,a.x-l-n,a.y+a.height/2)),r.insertBefore(this.node?this:this[0])}},Raphael.el.label=function(){var t=this.getBBox(),e=this.paper||this[0].paper,i=Math.min(20,t.width+10,t.height+10)/2;return e?e.rect(t.x-i/2,t.y-i/2,t.width+i,t.height+i,i).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0]):void 0},Raphael.el.blob=function(t,e,i){var n,s,o,r=this.getBBox(),a=Math.PI/180,l=this.paper||this[0].paper;if(l){switch(this.type){case"text":case"circle":case"ellipse":s=!0;break;default:s=!1}n=l.path().attr({fill:"#000",stroke:"none"}),t=(+t+1?t:45)+90,o=Math.min(r.height,r.width),e="number"==typeof e?e:s?r.x+r.width/2:r.x,i="number"==typeof i?i:s?r.y+r.height/2:r.y;var h=Math.max(r.width+o,25*o/12),c=Math.max(r.height+o,25*o/12),d=e+o*Math.sin((t-22.5)*a),u=i+o*Math.cos((t-22.5)*a),p=e+o*Math.sin((t+22.5)*a),f=i+o*Math.cos((t+22.5)*a),g=(p-d)/2,m=(f-u)/2,v=h/2,b=c/2,y=-Math.sqrt(Math.abs(v*v*b*b-v*v*m*m-b*b*g*g)/(v*v*m*m+b*b*g*g)),x=y*v*m/b+(p+d)/2,w=y*-b*g/v+(f+u)/2;return n.attr({x:x,y:w,path:["M",e,i,"L",p,f,"A",v,b,0,1,1,d,u,"z"].join(",")}),this.translate(x-r.x-r.width/2,w-r.y-r.height/2),n.insertBefore(this.node?this:this[0])}},Raphael.fn.label=function(t,e,i){var n=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),n.push(i.label(),i)},Raphael.fn.popup=function(t,e,i,n,s){var o=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),o.push(i.popup(n,s),i)},Raphael.fn.tag=function(t,e,i,n,s){var o=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),o.push(i.tag(n,s),i)},Raphael.fn.flag=function(t,e,i,n){var s=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),s.push(i.flag(n),i)},Raphael.fn.drop=function(t,e,i,n){var s=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),s.push(i.drop(n),i)},Raphael.fn.blob=function(t,e,i,n){var s=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),s.push(i.blob(n),i)},Raphael.el.lighter=function(t){t=t||2;var e=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[e[0],e[1]],e[0]=Raphael.rgb2hsb(Raphael.getRGB(e[0]).hex),e[1]=Raphael.rgb2hsb(Raphael.getRGB(e[1]).hex),e[0].b=Math.min(e[0].b*t,1),e[0].s=e[0].s/t,e[1].b=Math.min(e[1].b*t,1),e[1].s=e[1].s/t,this.attr({fill:"hsb("+[e[0].h,e[0].s,e[0].b]+")",stroke:"hsb("+[e[1].h,e[1].s,e[1].b]+")"}),this},Raphael.el.darker=function(t){t=t||2;var e=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[e[0],e[1]],e[0]=Raphael.rgb2hsb(Raphael.getRGB(e[0]).hex),e[1]=Raphael.rgb2hsb(Raphael.getRGB(e[1]).hex),e[0].s=Math.min(e[0].s*t,1),e[0].b=e[0].b/t,e[1].s=Math.min(e[1].s*t,1),e[1].b=e[1].b/t,this.attr({fill:"hsb("+[e[0].h,e[0].s,e[0].b]+")",stroke:"hsb("+[e[1].h,e[1].s,e[1].b]+")"}),this},Raphael.el.resetBrightness=function(){return this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs),this},function(){var t=["lighter","darker","resetBrightness"],e=["popup","tag","flag","label","drop","blob"];for(var i in e)(function(t){Raphael.st[t]=function(){return Raphael.el[t].apply(this,arguments)}})(e[i]);for(var i in t)(function(t){Raphael.st[t]=function(){for(var e=0;this.length>e;e++)this[e][t].apply(this[e],arguments);return this}})(t[i])}(),Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){for(var t=[.6,.2,.05,.1333,.75,0],e=[],i=0;10>i;i++)t.length>i?e.push("hsb("+t[i]+",.75, .75)"):e.push("hsb("+t[i-t.length]+", 1, .5)");return e}(),snapEnds:function(t,e,i){function n(t){return.25>Math.abs(t-.5)?~~t+.5:Math.round(t)}var s=t,o=e;if(s==o)return{from:s,to:o,power:0};var r=(o-s)/i,a=~~r,l=a,h=0;if(a){for(;l;)h--,l=~~(r*Math.pow(10,h))/Math.pow(10,h);h++}else{if(0!=r&&isFinite(r))for(;!a;)h=h||1,a=~~(r*Math.pow(10,h))/Math.pow(10,h),h++;else h=1;h&&h--}return o=n(e*Math.pow(10,h))/Math.pow(10,h),e>o&&(o=n((e+.5)*Math.pow(10,h))/Math.pow(10,h)),s=n((t-(h>0?0:.5))*Math.pow(10,h))/Math.pow(10,h),{from:s,to:o,power:h}},axis:function(t,e,i,n,s,o,r,a,l,h,c){h=null==h?2:h,l=l||"t",o=o||10,c=arguments[arguments.length-1];var d,u="|"==l||" "==l?["M",t+.5,e,"l",0,.001]:1==r||3==r?["M",t+.5,e,"l",0,-i]:["M",t,e+.5,"l",i,0],p=this.snapEnds(n,s,o),f=p.from,g=p.to,m=p.power,v=0,b={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},y=c.set();d=(g-f)/o;var x=f,w=m>0?m:0;if(S=i/o,1==+r||3==+r){for(var _=e,k=(r-1?1:-1)*(h+3+!!(r-1));_>=e-i;)"-"!=l&&" "!=l&&(u=u.concat(["M",t-("+"==l||"|"==l?h:2*!(r-1)*h),_+.5,"l",2*h+1,0])),y.push(c.text(t+k,_,a&&a[v++]||(Math.round(x)==x?x:+x.toFixed(w))).attr(b).attr({"text-anchor":r-1?"start":"end"})),x+=d,_-=S;Math.round(_+S-(e-i))&&("-"!=l&&" "!=l&&(u=u.concat(["M",t-("+"==l||"|"==l?h:2*!(r-1)*h),e-i+.5,"l",2*h+1,0])),y.push(c.text(t+k,e-i,a&&a[v]||(Math.round(x)==x?x:+x.toFixed(w))).attr(b).attr({"text-anchor":r-1?"start":"end"})))}else{x=f,w=(m>0)*m,k=(r?-1:1)*(h+9+!r);for(var C=t,S=i/o,T=0,A=0;t+i>=C;){"-"!=l&&" "!=l&&(u=u.concat(["M",C+.5,e-("+"==l?h:2*!!r*h),"l",0,2*h+1])),y.push(T=c.text(C,e+k,a&&a[v++]||(Math.round(x)==x?x:+x.toFixed(w))).attr(b));var L=T.getBBox();A>=L.x-5?y.pop(y.length-1).remove():A=L.x+L.width,x+=d,C+=S}Math.round(C-S-t-i)&&("-"!=l&&" "!=l&&(u=u.concat(["M",t+i+.5,e-("+"==l?h:2*!!r*h),"l",0,2*h+1])),y.push(c.text(t+i,e+k,a&&a[v]||(Math.round(x)==x?x:+x.toFixed(w))).attr(b)))}var M=c.path(u);return M.text=y,M.all=c.set([M,y]),M.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},M},labelise:function(t,e,i){return t?(t+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(t,n,s){return n?(+e).toFixed(n.replace(/^#+\.?/g,"").length):s?(100*e/i).toFixed(s.replace(/^%+\.?/g,"").length)+"%":void 0}):(+e).toFixed(0)}},/*!
 * g.Raphael 0.5 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 * From: https://github.com/jhurt/g.raphael/blob/master/g.bar.js
 */
function(){function t(t,e,i,o,r,a,l,h){var c,d={round:"round",sharp:"sharp",soft:"soft",square:"square"};if(r&&!o||!r&&!i)return l?"":h.path();switch(a=d[a]||"square",o=Math.round(o),i=Math.round(i),t=Math.round(t),e=Math.round(e),a){case"round":if(r)u=~~(i/2),u>o?(u=o,c=["M",t-~~(i/2),e,"l",0,0,"a",~~(i/2),u,0,0,1,i,0,"l",0,0,"z"]):c=["M",t-u,e,"l",0,u-o,"a",u,u,0,1,1,i,0,"l",0,o-u,"z"];else{var u=~~(o/2);u>i?(u=i,c=["M",t+.5,e+.5-~~(o/2),"l",0,0,"a",u,~~(o/2),0,0,1,0,o,"l",0,0,"z"]):c=["M",t+.5,e+.5-u,"l",i-u,0,"a",u,u,0,1,1,0,o,"l",u-i,0,"z"]}break;case"sharp":if(r)p=~~(i/2),c=["M",t+p,e,"l",-i,0,0,-s(o-p,0),p,-n(p,o),p,n(p,o),p,"z"];else{var p=~~(o/2);c=["M",t,e+p,"l",0,-o,s(i-p,0),0,n(p,i),p,-n(p,i),p+(o>2*p),"z"]}break;case"square":c=r?["M",t+~~(i/2),e,"l",1-i,0,0,-o,i-1,0,"z"]:["M",t,e+~~(o/2),"l",0,-o,i,0,0,o,"z"];break;case"soft":r?(u=n(Math.round(i/5),o),c=["M",t-~~(i/2),e,"l",0,u-o,"a",u,u,0,0,1,u,-u,"l",i-2*u,0,"a",u,u,0,0,1,u,u,"l",0,o-u,"z"]):(u=n(i,Math.round(o/5)),c=["M",t+.5,e+.5-~~(o/2),"l",i-u,0,"a",u,u,0,0,1,u,u,"l",0,o-2*u,"a",u,u,0,0,1,-u,u,"l",u-i,0,"z"])}return l?c.join(","):h.path(c)}function e(e,i,n,s,o,r,a){a=a||{};var l=this,h=a.type||"square",c=parseFloat(a.gutter||"20%"),d=e.set(),u=e.set(),p=e.set(),f=e.set(),g=Math.max.apply(Math,r),m=[],v=0,b=a.colors||l.colors,y=r.length;if(Raphael.is(r[0],"array")){g=[],v=y,y=0;for(var x=r.length;x--;)u.push(e.set()),g.push(Math.max.apply(Math,r[x])),y=Math.max(y,r[x].length);if(a.stacked)for(var x=y;x--;){for(var w=0,_=r.length;_--;)w+=+r[_][x]||0;m.push(w)}for(var x=r.length;x--;)if(y>r[x].length)for(var _=y;_--;)r[x].push(0);g=Math.max.apply(Math,a.stacked?m:g)}g=a.to||g;var k=100*(s/(y*(100+c)+c)),C=k*c/100,S=null==a.vgutter?20:a.vgutter,T=[],A=i+C,L=(o-2*S)/g;a.stretch||(C=Math.round(C),k=Math.floor(k)),!a.stacked&&(k/=v||1);for(var x=0;y>x;x++){T=[];for(var _=0;(v||1)>_;_++){var M=Math.round((v?r[_][x]:r[x])*L),P=n+o-S-M,D=t(Math.round(A+k/2),P+M,k,M,!0,h,null,e).attr({stroke:"none",fill:b[v?_:x]});v?u[_].push(D):u.push(D),D.y=P,D.x=Math.round(A+k/2),D.w=k,D.h=M,D.value=v?r[_][x]:r[x],a.stacked?T.push(D):A+=k}if(a.stacked){var E;f.push(E=e.rect(T[0].x-T[0].w/2,n,k,o).attr(l.shim)),E.bars=e.set();for(var I=0,z=T.length;z--;)T[z].toFront();for(var z=0,N=T.length;N>z;z++){var $,D=T[z],M=(I+D.value)*L,B=t(D.x,n+o-S-.5*!!I,k,M,!0,h,1,e);E.bars.push(D),I&&D.attr({path:B}),D.h=M,D.y=n+o-S-.5*!!I-M,p.push($=e.rect(D.x-D.w/2,D.y,k,D.value*L).attr(l.shim)),$.bar=D,$.value=D.value,I+=D.value}A+=k}A+=C}if(f.toFront(),A=i+C,!a.stacked)for(var x=0;y>x;x++){for(var _=0;(v||1)>_;_++){var $;p.push($=e.rect(Math.round(A),n+S,k,o-S).attr(l.shim)),$.bar=v?u[_][x]:u[x],$.value=$.bar.value,A+=k}A+=C}return d.label=function(t,i){t=t||[],this.labels=e.set();var s,h=-1/0;if(a.stacked){for(var c=0;y>c;c++)for(var d=0,f=0;(v||1)>f;f++)if(d+=v?r[f][c]:r[c],f==v-1){var m=l.labelise(t[c],d,g);s=e.text(u[f][c].x,n+o-S/2,m).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[c*(v||1)+f]);var b=s.getBBox();h>b.x-7?s.remove():(this.labels.push(s),h=b.x+b.width)}}else for(var c=0;y>c;c++)for(var f=0;(v||1)>f;f++){var m=l.labelise(v?t[f]&&t[f][c]:t[c],v?r[f][c]:r[c],g);s=e.text(u[f][c].x-k/2,i?n+o-S/2:u[f][c].y-10,m).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[c*(v||1)+f]);var b=s.getBBox();s.translate((k-b.width)/2,1),h>b.x-7?s.remove():(this.labels.push(s),h=b.x+b.width)}return this},d.hover=function(t,e){return f.hide(),p.show(),p.mouseover(t).mouseout(e),this},d.hoverColumn=function(t,e){return p.hide(),f.show(),e=e||function(){},f.mouseover(t).mouseout(e),this},d.click=function(t){return f.hide(),p.show(),p.click(t),this},d.each=function(t){if(!Raphael.is(t,"function"))return this;for(var e=p.length;e--;)t.call(p[e]);return this},d.eachColumn=function(t){if(!Raphael.is(t,"function"))return this;for(var e=f.length;e--;)t.call(f[e]);return this},d.clickColumn=function(t){return p.hide(),f.show(),f.click(t),this},d.push(u,p,f),d.bars=u,d.covers=p,d}function i(e,i,n,s,o,r,a){a=a||{};var l=this,h=a.type||"square",c=parseFloat(a.gutter||"20%"),d=e.set(),u=e.set(),p=e.set(),f=e.set(),g=Math.max.apply(Math,r),m=[],v=0,b=a.colors||l.colors,y=r.length;if(Raphael.is(r[0],"array")){g=[],v=y,y=0;for(var x=r.length;x--;)u.push(e.set()),g.push(Math.max.apply(Math,r[x])),y=Math.max(y,r[x].length);if(a.stacked)for(var x=y;x--;){for(var w=0,_=r.length;_--;)w+=+r[_][x]||0;m.push(w)}for(var x=r.length;x--;)if(y>r[x].length)for(var _=y;_--;)r[x].push(0);g=Math.max.apply(Math,a.stacked?m:g)}g=a.to||g;var k=Math.floor(100*(o/(y*(100+c)+c))),C=Math.floor(k*c/100),S=[],T=n+C,A=(s-1)/g;!a.stacked&&(k/=v||1);for(var x=0;y>x;x++){S=[];for(var _=0;(v||1)>_;_++){var L=v?r[_][x]:r[x],M=t(i,T+k/2,Math.round(L*A),k-1,!1,h,null,e).attr({stroke:"none",fill:b[v?_:x]});v?u[_].push(M):u.push(M),M.x=i+Math.round(L*A),M.y=T+k/2,M.w=Math.round(L*A),M.h=k,M.value=+L,a.stacked?S.push(M):T+=k}if(a.stacked){var P=e.rect(i,S[0].y-S[0].h/2,s,k).attr(l.shim);f.push(P),P.bars=e.set();for(var D=0,E=S.length;E--;)S[E].toFront();for(var E=0,I=S.length;I>E;E++){var z,M=S[E],L=Math.round((D+M.value)*A),N=t(i,M.y,L,k-1,!1,h,1,e);P.bars.push(M),D&&M.attr({path:N}),M.w=L,M.x=i+L,p.push(z=e.rect(i+D*A,M.y-M.h/2,M.value*A,k).attr(l.shim)),z.bar=M,D+=M.value}T+=k}T+=C}if(f.toFront(),T=n+C,!a.stacked)for(var x=0;y>x;x++){for(var _=0;(v||1)>_;_++){var z=e.rect(i,T,s,k).attr(l.shim);p.push(z),z.bar=v?u[_][x]:u[x],z.value=z.bar.value,T+=k}T+=C}return d.label=function(t,n){t=t||[],this.labels=e.set();for(var s=0;y>s;s++)for(var o=0;v>o;o++){var h,c=l.labelise(v?t[o]&&t[o][s]:t[s],v?r[o][s]:r[s],g),d=n?u[o][s].x-k/2+3:i+5;this.labels.push(h=e.text(d,u[o][s].y,c).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[0])),i+5>h.getBBox().x?h.attr({x:i+5,"text-anchor":"start"}):u[o][s].label=h}return this},d.hover=function(t,e){return f.hide(),p.show(),e=e||function(){},p.mouseover(t).mouseout(e),this},d.hoverColumn=function(t,e){return p.hide(),f.show(),e=e||function(){},f.mouseover(t).mouseout(e),this},d.each=function(t){if(!Raphael.is(t,"function"))return this;for(var e=p.length;e--;)t.call(p[e]);return this},d.eachColumn=function(t){if(!Raphael.is(t,"function"))return this;for(var e=f.length;e--;)t.call(f[e]);return this},d.click=function(t){return f.hide(),p.show(),p.click(t),this},d.clickColumn=function(t){return p.hide(),f.show(),f.click(t),this},d.push(u,p,f),d.bars=u,d.covers=p,d}var n=Math.min,s=Math.max,o=function(){};o.prototype=Raphael.g,i.prototype=e.prototype=new o,Raphael.fn.hbarchart=function(t,e,n,s,o,r){return new i(this,t,e,n,s,o,r)},Raphael.fn.barchart=function(t,i,n,s,o,r){return new e(this,t,i,n,s,o,r)}}(),function(){var t;t=function(){function t(t,e){this.element=t,this.options=e,this.preparedCommits={},this.mtime=0,this.mspace=0,this.parents={},this.colors=["#000"],this.offsetX=120,this.offsetY=20,this.unitTime=30,this.unitSpace=10,this.prev_start=-1,this.load()}return t.prototype.load=function(){return $.ajax({url:this.options.url,method:"get",dataType:"json",success:$.proxy(function(t){return $(".loading",this.element).hide(),this.prepareData(t.days,t.commits),this.buildGraph()},this)})},t.prototype.prepareData=function(t,e){var i,n,s,o,r,a;for(this.days=t,this.commits=e,this.collectParents(),this.graphHeight=$(this.element).height(),this.graphWidth=$(this.element).width(),n=Math.max(this.graphHeight,this.offsetY+this.unitTime*this.mtime+150),s=Math.max(this.graphWidth,this.offsetX+this.unitSpace*this.mspace+300),this.r=Raphael(this.element.get(0),s,n),this.top=this.r.set(),this.barHeight=Math.max(this.graphHeight,this.unitTime*this.days.length+320),a=this.commits,o=0,r=a.length;r>o;o++)i=a[o],i.id in this.parents&&(i.isParent=!0),this.preparedCommits[i.id]=i,this.markCommit(i);return this.collectColors()},t.prototype.collectParents=function(){var t,e,i,n,s,o;for(s=this.commits,o=[],i=0,n=s.length;n>i;i++)t=s[i],this.mtime=Math.max(this.mtime,t.time),this.mspace=Math.max(this.mspace,t.space),o.push(function(){var i,n,s,o;for(s=t.parents,o=[],i=0,n=s.length;n>i;i++)e=s[i],this.parents[e[0]]=!0,o.push(this.mspace=Math.max(this.mspace,e[1]));return o}.call(this));return o},t.prototype.collectColors=function(){var t,e;for(t=0,e=[];t<this.mspace;)this.colors.push(Raphael.getColor(.8)),Raphael.getColor(),Raphael.getColor(),e.push(t++);return e},t.prototype.buildGraph=function(){var t,e,i,n,s,o,r,a;for(s=this.r,t=0,e="",s.rect(0,0,26,this.barHeight).attr({fill:"#222"}),s.rect(26,0,20,this.barHeight).attr({fill:"#444"}),a=this.days,n=o=0,r=a.length;r>o;n=++o)i=a[n],t!==i[0]&&(s.text(36,this.offsetY+this.unitTime*n,i[0]).attr({font:"12px Monaco, monospace",fill:"#DDD"}),t=i[0]),e!==i[1]&&(s.text(13,this.offsetY+this.unitTime*n,i[1]).attr({font:"12px Monaco, monospace",fill:"#EEE"}),e=i[1]);return this.renderPartialGraph(),this.bindEvents()},t.prototype.renderPartialGraph=function(){var t,e,i,n,s,o;if(n=Math.floor((this.element.scrollTop()-this.offsetY)/this.unitTime)-10,0>n&&(n=0),e=n+40,this.commits.length<e&&(e=this.commits.length),this.prev_start===-1||Math.abs(this.prev_start-n)>10){for(i=n,this.prev_start=n;e>i;)t=this.commits[i],i+=1,t.hasDrawn!==!0&&(s=this.offsetX+this.unitSpace*(this.mspace-t.space),o=this.offsetY+this.unitTime*t.time,this.drawDot(s,o,t),this.drawLines(s,o,t),this.appendLabel(s,o,t),this.appendAnchor(s,o,t),t.hasDrawn=!0);return this.top.toFront()}},t.prototype.bindEvents=function(){var t,e,i=this;return t={},e=this.element,$(e).scroll(function(){return i.renderPartialGraph()}),$(window).on({keydown:function(t){return t.keyCode===37&&e.scrollLeft(e.scrollLeft()-50),t.keyCode===38&&e.scrollTop(e.scrollTop()-50),t.keyCode===39&&e.scrollLeft(e.scrollLeft()+50),t.keyCode===40&&e.scrollTop(e.scrollTop()+50),i.renderPartialGraph()}})},t.prototype.appendLabel=function(t,e,i){var n,s,o,r,a,l,h;if(i.refs)return s=this.r,r=i.refs,r.length>17&&(r=r.substr(0,15)+"…"),a=s.text(t+4,e,r).attr({"text-anchor":"start",font:"10px Monaco, monospace",fill:"#FFF",title:i.refs}),l=a.getBBox(),o=s.rect(t,e-7,l.width+5,l.height+5,4).attr({fill:"#000","fill-opacity":.5,stroke:"none"}),h=s.path(["M",t-5,e,"L",t-15,e-4,"L",t-15,e+4,"Z"]).attr({fill:"#000","fill-opacity":.5,stroke:"none"}),n=s.set(o,a),n.transform(["t",-o.getBBox().width-15,0]),a.toFront()},t.prototype.appendAnchor=function(t,e,i){var n,s,o,r;return o=this.r,r=this.top,s=this.options,n=o.circle(t,e,10).attr({fill:"#000",opacity:0,cursor:"pointer"}).click(function(){return window.open(s.commit_url.replace("%s",i.id),"_blank")}).hover(function(){return this.tooltip=o.commitTooltip(t+5,e,i),r.push(this.tooltip.insertBefore(this))},function(){return this.tooltip&&this.tooltip.remove()&&delete this.tooltip}),r.push(n)},t.prototype.drawDot=function(t,e,i){var n;return n=this.r,n.circle(t,e,3).attr({fill:this.colors[i.space],stroke:"none"}),n.image(i.author.icon,this.offsetX+this.unitSpace*this.mspace+10,e-10,20,20),n.text(this.offsetX+this.unitSpace*this.mspace+35,e,i.message.split("\n")[0]).attr({"text-anchor":"start",font:"14px Monaco, monospace"})},t.prototype.drawLines=function(t,e,i){var n,s,o,r,a,l,h,c,d,u,p,f,g,m,v;for(u=this.r,m=i.parents,v=[],o=f=0,g=m.length;g>f;o=++f)a=m[o],l=this.preparedCommits[a[0]],d=this.offsetY+this.unitTime*l.time,h=this.offsetX+this.unitSpace*(this.mspace-l.space),c=this.offsetX+this.unitSpace*(this.mspace-a[1]),s=l.space<=i.space?this.colors[i.space]:this.colors[l.space],a[1]===i.space?(r=[0,5],n="l-2,5,4,0,-2,-5,0,5"):a[1]<i.space?(r=[3,3],n="l5,0,-2,4,-3,-4,4,2"):(r=[-3,3],n="l-5,0,2,4,3,-4,-4,2"),p=["M",t+r[0],e+r[1]],o>0&&p.push(n),(i.space!==l.space||i.space!==a[1])&&p.push("L",c,e+10,"L",c,d-5),p.push("L",h,d),v.push(u.path(p).attr({stroke:s,"stroke-width":2}));return v},t.prototype.markCommit=function(t){var e,i,n;return t.id===this.options.commit_id?(e=this.r,i=this.offsetX+this.unitSpace*(this.mspace-t.space),n=this.offsetY+this.unitTime*t.time,e.path(["M",i+5,n,"L",i+15,n+4,"L",i+15,n-4,"Z"]).attr({fill:"#F00",stroke:"none"}),this.element.scrollTop(n-this.graphHeight/2)):void 0},t}(),Raphael.prototype.commitTooltip=function(t,e,i){var n,s,o,r,a,l,h,c,d;return s=300,n=200,o=this.image(i.author.icon,t,e,20,20),l=this.text(t+25,e+10,i.author.name),r=this.text(t,e+35,i.id),a=this.text(t,e+50,i.message),c=this.set(o,l,r,a).attr({"text-anchor":"start",font:"12px Monaco, monospace"}),l.attr({font:"14px Arial","font-weight":"bold"}),r.attr({fill:"#AAA"}),this.textWrap(a,s-50),h=this.rect(t-10,e-10,s,100,4).attr({fill:"#FFF",stroke:"#000","stroke-linecap":"round","stroke-width":2}),d=this.set(h,c),h.attr({height:d.getBBox().height+10,width:d.getBBox().width+10}),d.transform(["t",20,20]),d},Raphael.prototype.textWrap=function(t,e){var i,n,s,o,r,a,l,h,c,d,u;for(s=t.attr("text"),i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t.attr({text:i}),r=t.getBBox().width/i.length,t.attr({text:s}),h=s.split(" "),c=0,a=[],d=0,u=h.length;u>d;d++)l=h[d],c+l.length*r>e&&(a.push("\n"),c=0),c+=l.length*r,a.push(l+" ");return t.attr({text:a.join("")}),n=t.getBBox(),o=Math.abs(n.y2)-Math.abs(n.y)+1,t.attr({y:n.y+o})},this.BranchGraph=t}.call(this),function(t,e,i,n){"use strict";t.fn.modal=function(s){var o,r=t(this),a=t(e),l=t(i),h=t("body"),c=r.selector||"",d=(new Date).getTime(),u=[],p=arguments[0],f="string"==typeof p,g=[].slice.call(arguments,1),m=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)};return r.each(function(){var r,v,b,y,x,w,_,k,C,S=t.isPlainObject(s)?t.extend(!0,{},t.fn.modal.settings,s):t.extend({},t.fn.modal.settings),T=S.selector,A=S.className,L=S.namespace,M=S.error,P="."+L,D="module-"+L,E=t(this),I=t(S.context),z=E.find(T.close),N=this,$=E.data(D);C={initialize:function(){C.verbose("Initializing dimmer",I),C.create.id(),C.create.dimmer(),C.refreshModals(),C.verbose("Attaching close events",z),C.bind.events(),C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of modal"),$=C,E.data(D,$)},create:{dimmer:function(){var e={debug:S.debug,dimmerName:"modals",duration:{show:S.duration,hide:S.duration}},i=t.extend(!0,e,S.dimmerSettings);return t.fn.dimmer===n?(C.error(M.dimmer),void 0):(C.debug("Creating dimmer with settings",i),y=I.dimmer(i),S.detachable&&(C.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",E)),x=y.dimmer("get dimmer"),void 0)},id:function(){C.verbose("Creating unique id for element"),_=C.get.uniqueID(),w="."+_}},destroy:function(){C.verbose("Destroying previous modal"),E.removeData(D).off(P),a.off(w),z.off(P),I.dimmer("destroy")},observeChanges:function(){"MutationObserver"in e&&(k=new MutationObserver(function(){C.debug("DOM tree modified, refreshing"),C.refresh()}),k.observe(N,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",k))},refresh:function(){C.remove.scrolling(),C.cacheSizes(),C.set.screenHeight(),C.set.type(),C.set.position()},refreshModals:function(){v=E.siblings(T.modal),r=v.add(E)},attachEvents:function(e,i){var n=t(e);i=t.isFunction(C[i])?C[i]:C.toggle,n.size()>0?(C.debug("Attaching modal events to element",e,i),n.off(P).on("click"+P,i)):C.error(M.notFound,e)},bind:{events:function(){z.on("click"+P,C.event.close),a.on("resize"+w,C.event.resize)}},get:{uniqueID:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){C.verbose("Closing element pressed"),t(this).is(T.approve)?t.proxy(S.onApprove,N)()!==!1?C.hide():C.verbose("Approve callback returned false cancelling hide"):t(this).is(T.deny)?t.proxy(S.onDeny,N)()!==!1?C.hide():C.verbose("Deny callback returned false cancelling hide"):C.hide()},click:function(e){t(e.target).closest(E).size()===0&&(C.debug("Dimmer clicked, hiding all modals"),C.is.active()&&(C.remove.clickaway(),S.allowMultiple?C.hide():C.hideAll()))},debounce:function(t,e){clearTimeout(C.timer),C.timer=setTimeout(t,e)},keyboard:function(t){var e=t.which,i=27;e==i&&(S.closable?(C.debug("Escape key pressed hiding modal"),C.hide()):C.debug("Escape key pressed, but closable is set to false"),t.preventDefault())},resize:function(){y.dimmer("is active")&&m(C.refresh)}},toggle:function(){C.is.active()||C.is.animating()?C.hide():C.show()},show:function(e){e=t.isFunction(e)?e:function(){},C.refreshModals(),C.showModal(e)},hide:function(e){e=t.isFunction(e)?e:function(){},C.refreshModals(),C.hideModal(e)},showModal:function(e){e=t.isFunction(e)?e:function(){},C.is.animating()||!C.is.active()?(C.showDimmer(),C.cacheSizes(),C.set.position(),C.set.screenHeight(),C.set.type(),C.set.clickaway(),!S.allowMultiple&&v.filter(":visible").size()>0?(C.debug("Other modals visible, queueing show animation"),C.hideOthers(C.showModal)):(t.proxy(S.onShow,N)(),S.transition&&t.fn.transition!==n&&E.transition("is supported")?(C.debug("Showing modal with css animations"),E.transition({debug:S.debug,animation:S.transition+" in",queue:S.queue,duration:S.duration,useFailSafe:!0,onComplete:function(){t.proxy(S.onVisible,N)(),C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),C.set.autofocus(),e()}})):(C.debug("Showing modal with javascript"),E.fadeIn(S.duration,S.easing,function(){t.proxy(S.onVisible,N)(),C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),e()})))):C.debug("Modal is already visible")},hideModal:function(e){e=t.isFunction(e)?e:function(){},C.debug("Hiding modal"),t.proxy(S.onHide,N)(),(C.is.animating()||C.is.active())&&(S.transition&&t.fn.transition!==n&&E.transition("is supported")?(C.remove.active(),E.transition({debug:S.debug,animation:S.transition+" out",queue:S.queue,duration:S.duration,useFailSafe:!0,onStart:function(){C.othersActive()||C.hideDimmer(),C.remove.keyboardShortcuts()},onComplete:function(){t.proxy(S.onHidden,N)(),C.restore.focus(),e()}})):(C.remove.active(),C.othersActive()||C.hideDimmer(),C.remove.keyboardShortcuts(),E.fadeOut(S.duration,S.easing,function(){t.proxy(S.onHidden,N)(),C.restore.focus(),e()})))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(C.debug("Showing dimmer"),y.dimmer("show")):C.debug("Dimmer already visible")},hideDimmer:function(){return y.dimmer("is animating")||y.dimmer("is active")?(y.dimmer("hide",function(){S.transition&&t.fn.transition!==n&&E.transition("is supported")&&(C.remove.clickaway(),C.remove.screenHeight())}),void 0):(C.debug("Dimmer is not visible cannot hide"),void 0)},hideAll:function(e){e=t.isFunction(e)?e:function(){},r.is(":visible")&&(C.debug("Hiding all visible modals"),C.hideDimmer(),r.filter(":visible").modal("hide modal",e))},hideOthers:function(e){e=t.isFunction(e)?e:function(){},v.is(":visible")&&(C.debug("Hiding other modals",v),v.filter(":visible").modal("hide modal",e))},othersActive:function(){return v.filter("."+A.active).size()>0},add:{keyboardShortcuts:function(){C.verbose("Adding keyboard shortcuts"),l.on("keyup"+P,C.event.keyboard)}},save:{focus:function(){b=t(i.activeElement).blur()}},restore:{focus:function(){b&&b.size()>0&&b.focus()}},remove:{active:function(){E.removeClass(A.active)},clickaway:function(){S.closable&&x.off("click"+w)},screenHeight:function(){C.cache.height>C.cache.pageHeight&&(C.debug("Removing page height"),h.css("height",""))},keyboardShortcuts:function(){C.verbose("Removing keyboard shortcuts"),l.off("keyup"+P)},scrolling:function(){y.removeClass(A.scrolling),E.removeClass(A.scrolling)}},cacheSizes:function(){var s=E.outerHeight();(C.cache===n||0!==s)&&(C.cache={pageHeight:t(i).outerHeight(),height:s+S.offset,contextHeight:S.context=="body"?t(e).height():y.height()}),C.debug("Caching modal and container sizes",C.cache)},can:{fit:function(){return C.cache.height<C.cache.contextHeight}},is:{active:function(){return E.hasClass(A.active)},animating:function(){return E.transition("is supported")?E.transition("is animating"):E.is(":visible")},scrolling:function(){return y.hasClass(A.scrolling)},modernBrowser:function(){return!(e.ActiveXObject||"ActiveXObject"in e)}},set:{autofocus:function(){if(S.autofocus){var t=E.find(":input:visible"),e=t.filter("[autofocus]"),i=e.size()>0?e:t;i.first().focus()}},clickaway:function(){S.closable&&x.on("click"+w,C.event.click)},screenHeight:function(){C.cache.height>C.cache.pageHeight?(C.debug("Modal is taller than page content, resizing page height"),h.css("height",C.cache.height+S.padding)):h.css("height","")},active:function(){E.addClass(A.active)},scrolling:function(){y.addClass(A.scrolling),E.addClass(A.scrolling)},type:function(){C.can.fit()?(C.verbose("Modal fits on screen"),C.othersActive||C.remove.scrolling()):(C.verbose("Modal cannot fit on screen setting to scrolling"),C.set.scrolling())},position:function(){C.verbose("Centering modal on page",C.cache),C.can.fit()?E.css({top:"",marginTop:-(C.cache.height/2)}):E.css({marginTop:"",top:l.scrollTop()})}},setting:function(e,i){if(C.debug("Changing setting",e,i),t.isPlainObject(e))t.extend(!0,S,e);else{if(i===n)return S[e];S[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,C,e);else{if(i===n)return C[e];C[e]=i}},debug:function(){S.debug&&(S.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,S.name+":"),C.debug.apply(console,arguments)))},verbose:function(){S.verbose&&S.debug&&(S.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,S.name+":"),C.error.apply(console,arguments)},performance:{log:function(t){var e,i,n;S.performance&&(e=(new Date).getTime(),n=d||e,i=e-n,d=e,u.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:N,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,100)},display:function(){var e=S.name+":",i=0;d=!1,clearTimeout(C.performance.timer),t.each(u,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",c&&(e+=" '"+c+"'"),(console.group!==n||console.table!==n)&&u.length>0&&(console.groupCollapsed(e),console.table?console.table(u):t.each(u,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(e,i,s){var r,a,l,h=$;return i=i||g,s=N||s,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n?(a=h[s],!1):!1;h=h[s]}})),t.isFunction(a)?l=a.apply(s,i):a!==n&&(l=a),t.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),a}},f?($===n&&C.initialize(),C.invoke(p)):($!==n&&C.destroy(),C.initialize())}),o!==n?o:this},t.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:30,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(jQuery,window,document),/*!
 * # Semantic UI 1.12.3 - Sticky
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2014 Contributorss
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(t,e,i,n){"use strict";t.fn.sticky=function(i){var s,o=t(this),r=o.selector||"",a=(new Date).getTime(),l=[],h=arguments[0],c="string"==typeof h,d=[].slice.call(arguments,1);return o.each(function(){var o,u,p,f=t.isPlainObject(i)?t.extend(!0,{},t.fn.sticky.settings,i):t.extend({},t.fn.sticky.settings),g=f.className,m=f.namespace,v=f.error,b="."+m,y="module-"+m,x=t(this),w=t(e),_=x.offsetParent(),k=t(f.scrollContext),C=(x.selector||"",x.data(y)),S=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)},T=this;p={initialize:function(){p.determineContext(),p.verbose("Initializing sticky",f,_),p.save.positions(),p.checkErrors(),p.bind.events(),f.observeChanges&&p.observeChanges(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),C=p,x.data(y,p)},destroy:function(){p.verbose("Destroying previous instance"),p.reset(),u&&u.disconnect(),w.off("load"+b,p.event.load).off("resize"+b,p.event.resize),k.off("scrollchange"+b,p.event.scrollchange),x.removeData(y)},observeChanges:function(){var t=o[0];"MutationObserver"in e&&(u=new MutationObserver(function(){clearTimeout(p.timer),p.timer=setTimeout(function(){p.verbose("DOM tree modified, updating sticky menu"),p.refresh()},100)}),u.observe(T,{childList:!0,subtree:!0}),u.observe(t,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",u))},determineContext:function(){return o=f.context?t(f.context):_,0===o.length?void p.error(v.invalidContext,f.context,x):void 0},checkErrors:function(){return p.is.hidden()&&p.error(v.visible,x),p.cache.element.height>p.cache.context.height?(p.reset(),void p.error(v.elementSize,x)):void 0},bind:{events:function(){w.on("load"+b,p.event.load).on("resize"+b,p.event.resize),k.off("scroll"+b).on("scroll"+b,p.event.scroll).on("scrollchange"+b,p.event.scrollchange)}},event:{load:function(){p.verbose("Page contents finished loading"),S(p.refresh)},resize:function(){p.verbose("Window resized"),S(p.refresh)},scroll:function(){S(function(){k.trigger("scrollchange"+b,k.scrollTop())})},scrollchange:function(t,e){p.stick(e),f.onScroll.call(T)}},refresh:function(t){p.reset(),t&&(_=x.offsetParent()),p.save.positions(),p.stick(),f.onReposition.call(T)},supports:{sticky:function(){var e=t("<div/>");return e.get(),e.addClass(g.supported),e.css("position").match("sticky")}},save:{lastScroll:function(t){p.lastScroll=t},positions:function(){var t={height:w.height()},e={margin:{top:parseInt(x.css("margin-top"),10),bottom:parseInt(x.css("margin-bottom"),10)},offset:x.offset(),width:x.outerWidth(),height:x.outerHeight()},i={offset:o.offset(),height:o.outerHeight(),bottomPadding:parseInt(o.css("padding-bottom"),10)};p.cache={fits:e.height<t.height,window:{height:t.height},element:{margin:e.margin,top:e.offset.top-e.margin.top,left:e.offset.left,width:e.width,height:e.height,bottom:e.offset.top+e.height},context:{top:i.offset.top,height:i.height,bottomPadding:i.bottomPadding,bottom:i.offset.top+i.height-i.bottomPadding}},p.set.containerSize(),p.set.size(),p.stick(),p.debug("Caching element positions",p.cache)}},get:{direction:function(t){var e="down";return t=t||k.scrollTop(),p.lastScroll!==n&&(p.lastScroll<t?e="down":p.lastScroll>t&&(e="up")),e},scrollChange:function(t){return t=t||k.scrollTop(),p.lastScroll?t-p.lastScroll:0},currentElementScroll:function(){return p.is.top()?Math.abs(parseInt(x.css("top"),10))||0:Math.abs(parseInt(x.css("bottom"),10))||0},elementScroll:function(t){t=t||k.scrollTop();var e,i=p.cache.element,n=p.cache.window,s=p.get.scrollChange(t),o=i.height-n.height+f.offset,e=p.get.currentElementScroll(),r=e+s;return e=p.cache.fits||0>r?0:r>o?o:r}},remove:{offset:function(){x.css("margin-top","")}},set:{offset:function(){p.verbose("Setting offset on element",f.offset),x.css("margin-top",f.offset)},containerSize:function(){var t=_.get(0).tagName;"HTML"===t||"body"==t?_=x.offsetParent():Math.abs(_.height()-p.cache.context.height)>5&&(p.debug("Context has padding, specifying exact height for container",p.cache.context.height),_.css({height:p.cache.context.height}))},scroll:function(t){p.debug("Setting scroll on element",t),p.is.top()&&x.css("bottom","").css("top",-t),p.is.bottom()&&x.css("top","").css("bottom",t)},size:function(){0!==p.cache.element.height&&0!==p.cache.element.width&&x.css({width:p.cache.element.width,height:p.cache.element.height})}},is:{top:function(){return x.hasClass(g.top)},bottom:function(){return x.hasClass(g.bottom)},initialPosition:function(){return!p.is.fixed()&&!p.is.bound()},hidden:function(){return!x.is(":visible")},bound:function(){return x.hasClass(g.bound)},fixed:function(){return x.hasClass(g.fixed)}},stick:function(t){var e=t||k.scrollTop(),i=p.cache,n=i.fits,s=i.element,o=i.window,r=i.context,a=p.is.bottom()&&f.pushing?f.bottomOffset:f.offset,t={top:e+a,bottom:e+a+o.height},l=(p.get.direction(t.top),n?0:p.get.elementScroll(t.top)),h=!n,c=0!==s.height;p.save.lastScroll(t.top),c&&(p.is.initialPosition()?t.top>=r.bottom?(p.debug("Element bottom of container"),p.bindBottom()):t.top>=s.top&&(p.debug("Element passed, fixing element to page"),p.fixTop()):p.is.fixed()?p.is.top()?t.top<s.top?(p.debug("Fixed element reached top of container"),p.setInitialPosition()):s.height+t.top-l>r.bottom?(p.debug("Fixed element reached bottom of container"),p.bindBottom()):h&&p.set.scroll(l):p.is.bottom()&&(t.bottom-s.height<s.top?(p.debug("Bottom fixed rail has reached top of container"),p.setInitialPosition()):t.bottom>r.bottom?(p.debug("Bottom fixed rail has reached bottom of container"),p.bindBottom()):h&&p.set.scroll(l)):p.is.bottom()&&(f.pushing?p.is.bound()&&t.bottom<r.bottom&&(p.debug("Fixing bottom attached element to bottom of browser."),p.fixBottom()):p.is.bound()&&t.top<r.bottom-s.height&&(p.debug("Fixing bottom attached element to top of browser."),p.fixTop())))},bindTop:function(){p.debug("Binding element to top of parent container"),p.remove.offset(),x.css("left","").css("top","").css("margin-bottom","").removeClass(g.fixed).removeClass(g.bottom).addClass(g.bound).addClass(g.top),f.onTop.call(T),f.onUnstick.call(T)},bindBottom:function(){p.debug("Binding element to bottom of parent container"),p.remove.offset(),x.css("left","").css("top","").css("margin-bottom",p.cache.context.bottomPadding).removeClass(g.fixed).removeClass(g.top).addClass(g.bound).addClass(g.bottom),f.onBottom.call(T),f.onUnstick.call(T)},setInitialPosition:function(){p.unfix(),p.unbind()},fixTop:function(){p.debug("Fixing element to top of page"),p.set.offset(),x.css("left",p.cache.element.left).css("bottom","").removeClass(g.bound).removeClass(g.bottom).addClass(g.fixed).addClass(g.top),f.onStick.call(T)},fixBottom:function(){p.debug("Sticking element to bottom of page"),p.set.offset(),x.css("left",p.cache.element.left).css("bottom","").removeClass(g.bound).removeClass(g.top).addClass(g.fixed).addClass(g.bottom),f.onStick.call(T)},unbind:function(){p.debug("Removing absolute position on element"),p.remove.offset(),x.removeClass(g.bound).removeClass(g.top).removeClass(g.bottom)},unfix:function(){p.debug("Removing fixed position on element"),p.remove.offset(),x.removeClass(g.fixed).removeClass(g.top).removeClass(g.bottom),f.onUnstick.call(T)},reset:function(){p.debug("Reseting elements position"),p.unbind(),p.unfix(),p.resetCSS(),p.remove.offset()},resetCSS:function(){x.css({width:"",height:""}),_.css({height:""})},setting:function(e,i){if(t.isPlainObject(e))t.extend(!0,f,e);else{if(i===n)return f[e];f[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,p,e);else{if(i===n)return p[e];p[e]=i}},debug:function(){f.debug&&(f.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,f.name+":"),p.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,f.name+":"),p.error.apply(console,arguments)},performance:{log:function(t){var e,i,n;f.performance&&(e=(new Date).getTime(),n=a||e,i=e-n,a=e,l.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:T,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,0)},display:function(){var e=f.name+":",i=0;a=!1,clearTimeout(p.performance.timer),t.each(l,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",r&&(e+=" '"+r+"'"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(e),console.table?console.table(l):t.each(l,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(e,i,o){var r,a,l,h=C;return i=i||d,o=T||o,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n?(a=h[s],!1):!1;h=h[s]}})),t.isFunction(a)?l=a.apply(o,i):a!==n&&(l=a),t.isArray(s)?s.push(l):s!==n?s=[s,l]:l!==n&&(s=l),a}},c?(C===n&&p.initialize(),p.invoke(h)):(C!==n&&C.invoke("destroy"),p.initialize())}),s!==n?s:this},t.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:e,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(t,e,i,n){t.fn.dimmer=function(e){var s,o=t(this),r=(new Date).getTime(),a=[],l=arguments[0],h="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var d,u,p,f=t.isPlainObject(e)?t.extend(!0,{},t.fn.dimmer.settings,e):t.extend({},t.fn.dimmer.settings),g=f.selector,m=f.namespace,v=f.className,b=f.error,y="."+m,x="module-"+m,w=o.selector||"",_="ontouchstart"in i.documentElement?"touchstart":"click",k=t(this),C=this,S=k.data(x);p={preinitialize:function(){p.is.dimmer()?(u=k.parent(),d=k):(u=k,d=p.has.dimmer()?f.dimmerName?u.children(g.dimmer).filter("."+f.dimmerName):u.children(g.dimmer):p.create())},initialize:function(){p.debug("Initializing dimmer",f),f.on=="hover"?u.on("mouseenter"+y,p.show).on("mouseleave"+y,p.hide):f.on=="click"&&u.on(_+y,p.toggle),p.is.page()&&(p.debug("Setting as a page dimmer",u),p.set.pageDimmer()),p.is.closable()&&(p.verbose("Adding dimmer close event",d),d.on(_+y,p.event.click)),p.set.dimmable(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),S=p,k.data(x,S)},destroy:function(){p.verbose("Destroying previous module",d),k.removeData(x),u.off(y),d.off(y)},event:{click:function(e){p.verbose("Determining if event occured on dimmer",e),(d.find(e.target).size()===0||t(e.target).is(g.content))&&(p.hide(),e.stopImmediatePropagation())}},addContent:function(e){var i=t(e);p.debug("Add content to dimmer",i),i.parent()[0]!==d[0]&&i.detach().appendTo(d)},create:function(){var e=t(f.template.dimmer());return f.variation&&(p.debug("Creating dimmer with variation",f.variation),e.addClass(v.variation)),f.dimmerName&&(p.debug("Creating named dimmer",f.dimmerName),e.addClass(f.dimmerName)),e.appendTo(u),e},show:function(e){e=t.isFunction(e)?e:function(){},p.debug("Showing dimmer",d,f),p.is.dimmed()&&!p.is.animating()||!p.is.enabled()?p.debug("Dimmer is already shown or disabled"):(p.animate.show(e),t.proxy(f.onShow,C)(),t.proxy(f.onChange,C)())},hide:function(e){e=t.isFunction(e)?e:function(){},p.is.dimmed()||p.is.animating()?(p.debug("Hiding dimmer",d),p.animate.hide(e),t.proxy(f.onHide,C)(),t.proxy(f.onChange,C)()):p.debug("Dimmer is not visible")},toggle:function(){p.verbose("Toggling dimmer visibility",d),p.is.dimmed()?p.hide():p.show()},animate:{show:function(e){e=t.isFunction(e)?e:function(){},f.useCSS&&t.fn.transition!==n&&d.transition("is supported")?d.transition({animation:f.transition+" in",queue:!1,duration:p.get.duration(),onStart:function(){p.set.dimmed()},onComplete:function(){p.set.active(),e()}}):(p.verbose("Showing dimmer animation with javascript"),p.set.dimmed(),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(p.get.duration(),1,function(){d.removeAttr("style"),p.set.active(),e()}))},hide:function(e){e=t.isFunction(e)?e:function(){},f.useCSS&&t.fn.transition!==n&&d.transition("is supported")?(p.verbose("Hiding dimmer with css"),d.transition({animation:f.transition+" out",queue:!1,duration:p.get.duration(),onStart:function(){p.remove.dimmed()},onComplete:function(){p.remove.active(),e()}})):(p.verbose("Hiding dimmer with javascript"),p.remove.dimmed(),d.stop().fadeOut(p.get.duration(),function(){p.remove.active(),d.removeAttr("style"),e()}))}},get:{dimmer:function(){return d},duration:function(){return typeof f.duration=="object"?p.is.active()?f.duration.hide:f.duration.show:f.duration}},has:{dimmer:function(){return f.dimmerName?k.children(g.dimmer).filter("."+f.dimmerName).size()>0:k.children(g.dimmer).size()>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return f.closable=="auto"?f.on=="hover"?!1:!0:f.closable},dimmer:function(){return k.is(g.dimmer)},dimmable:function(){return k.is(g.dimmable)},dimmed:function(){return u.hasClass(v.dimmed)},disabled:function(){return u.hasClass(v.disabled)},enabled:function(){return!p.is.disabled()},page:function(){return u.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{active:function(){d.addClass(v.active)},dimmable:function(){u.addClass(v.dimmable)},dimmed:function(){u.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){u.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)}},setting:function(e,i){if(p.debug("Changing setting",e,i),t.isPlainObject(e))t.extend(!0,f,e);else{if(i===n)return f[e];f[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,p,e);else{if(i===n)return p[e];p[e]=i}},debug:function(){f.debug&&(f.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,f.name+":"),p.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,f.name+":"),p.error.apply(console,arguments)},performance:{log:function(t){var e,i,n;f.performance&&(e=(new Date).getTime(),n=r||e,i=e-n,r=e,a.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:C,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var e=f.name+":",i=0;r=!1,clearTimeout(p.performance.timer),t.each(a,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",w&&(e+=" '"+w+"'"),o.size()>1&&(e+=" ("+o.size()+")"),(console.group!==n||console.table!==n)&&a.length>0&&(console.groupCollapsed(e),console.table?console.table(a):t.each(a,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(e,i,o){var r,a,l,h=S;return i=i||c,o=C||o,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n?(a=h[s],!1):(p.error(b.method,e),!1);h=h[s]}})),t.isFunction(a)?l=a.apply(o,i):a!==n&&(l=a),t.isArray(s)?s.push(l):s!==n?s=[s,l]:l!==n&&(s=l),a}},p.preinitialize(),h?(S===n&&p.initialize(),p.invoke(l)):(S!==n&&p.destroy(),p.initialize())}),s!==n?s:this},t.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",transition:"fade",useCSS:!0,on:!1,duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return t("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(jQuery,window,document),/*
colpick Color Picker
Copyright 2013 Jose Vargas. Licensed under GPL license. Based on Stefan Petre's Color Picker www.eyecon.ro, dual licensed under the MIT and GPL licenses

For usage and examples: colpick.com/plugin
 */
function(t){var e=function(){var e='<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>',i={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},r=function(e,i){var n=o(e);t(i).data("colpick").fields.eq(1).val(n.r).end().eq(2).val(n.g).end().eq(3).val(n.b).end()},l=function(e,i){t(i).data("colpick").fields.eq(4).val(Math.round(e.h)).end().eq(5).val(Math.round(e.s)).end().eq(6).val(Math.round(e.b)).end()},h=function(e,i){t(i).data("colpick").fields.eq(0).val(a(e))},c=function(e,i){t(i).data("colpick").selector.css("backgroundColor","#"+a({h:e.h,s:100,b:100})),t(i).data("colpick").selectorIndic.css({left:parseInt(t(i).data("colpick").height*e.s/100,10),top:parseInt(t(i).data("colpick").height*(100-e.b)/100,10)})},d=function(e,i){t(i).data("colpick").hue.css("top",parseInt(t(i).data("colpick").height-t(i).data("colpick").height*e.h/360,10))},u=function(e,i){t(i).data("colpick").currentColor.css("backgroundColor","#"+a(e))},p=function(e,i){t(i).data("colpick").newColor.css("backgroundColor","#"+a(e))},f=function(){var e,i=t(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(i.data("colpick").color=e=n(E(this.value)),r(e,i.get(0)),l(e,i.get(0))):this.parentNode.className.indexOf("_hsb")>0?(i.data("colpick").color=e=P({h:parseInt(i.data("colpick").fields.eq(4).val(),10),s:parseInt(i.data("colpick").fields.eq(5).val(),10),b:parseInt(i.data("colpick").fields.eq(6).val(),10)}),r(e,i.get(0)),h(e,i.get(0))):(i.data("colpick").color=e=s(D({r:parseInt(i.data("colpick").fields.eq(1).val(),10),g:parseInt(i.data("colpick").fields.eq(2).val(),10),b:parseInt(i.data("colpick").fields.eq(3).val(),10)})),h(e,i.get(0)),l(e,i.get(0))),c(e,i.get(0)),d(e,i.get(0)),p(e,i.get(0)),i.data("colpick").onChange.apply(i.parent(),[e,a(e),o(e)])},g=function(){t(this).parent().removeClass("colpick_focus")},m=function(){t(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),t(this).parent().addClass("colpick_focus")},v=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=t(this).parent().find("input").focus(),n={el:t(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:e.pageY,field:i,val:parseInt(i.val(),10),preview:t(this).parent().parent().data("colpick").livePreview};t(document).mouseup(n,y),t(document).mousemove(n,b)},b=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val-t.pageY+t.data.y,10)))),t.data.preview&&f.apply(t.data.field.get(0),[!0]),!1},y=function(e){return f.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colpick_slider").find("input").focus(),t(document).off("mouseup",y),t(document).off("mousemove",b),!1},x=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i={cal:t(this).parent(),y:t(this).offset().top};i.preview=i.cal.data("colpick").livePreview,t(document).mouseup(i,_),t(document).mousemove(i,w),f.apply(i.cal.data("colpick").fields.eq(4).val(parseInt(360*(i.cal.data("colpick").height-(e.pageY-i.y))/i.cal.data("colpick").height,10)).get(0),[i.preview])},w=function(t){return f.apply(t.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(t.data.cal.data("colpick").height-Math.max(0,Math.min(t.data.cal.data("colpick").height,t.pageY-t.data.y)))/t.data.cal.data("colpick").height,10)).get(0),[t.data.preview]),!1},_=function(e){return r(e.data.cal.data("colpick").color,e.data.cal.get(0)),h(e.data.cal.data("colpick").color,e.data.cal.get(0)),t(document).off("mouseup",_),t(document).off("mousemove",w),!1},k=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i={cal:t(this).parent(),pos:t(this).offset()};i.preview=i.cal.data("colpick").livePreview,t(document).mouseup(i,S),t(document).mousemove(i,C),f.apply(i.cal.data("colpick").fields.eq(6).val(parseInt(100*(i.cal.data("colpick").height-(e.pageY-i.pos.top))/i.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(e.pageX-i.pos.left)/i.cal.data("colpick").height,10)).get(0),[i.preview])},C=function(t){return f.apply(t.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(t.data.cal.data("colpick").height-Math.max(0,Math.min(t.data.cal.data("colpick").height,t.pageY-t.data.pos.top)))/t.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(t.data.cal.data("colpick").height,t.pageX-t.data.pos.left))/t.data.cal.data("colpick").height,10)).get(0),[t.data.preview]),!1},S=function(e){return r(e.data.cal.data("colpick").color,e.data.cal.get(0)),h(e.data.cal.data("colpick").color,e.data.cal.get(0)),t(document).off("mouseup",S),t(document).off("mousemove",C),!1},T=function(){var e=t(this).parent(),i=e.data("colpick").color;e.data("colpick").origColor=i,u(i,e.get(0)),e.data("colpick").onSubmit(i,a(i),o(i),e.data("colpick").el)},A=function(){var e=t("#"+t(this).data("colpickId"));e.data("colpick").onBeforeShow.apply(this,[e.get(0)]);var i=t(this).offset(),n=i.top+this.offsetHeight,s=i.left,o=M();s+346>o.l+o.w&&(s-=346),e.css({left:s+"px",top:n+"px"}),e.data("colpick").onShow.apply(this,[e.get(0)])!=0&&e.show(),t("html").mousedown({cal:e},L),e.mousedown(function(t){t.stopPropagation()})},L=function(e){e.data.cal.data("colpick").onHide.apply(this,[e.data.cal.get(0)])!=0&&e.data.cal.hide(),t("html").off("mousedown",L)},M=function(){var t=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth)}},P=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},D=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},E=function(t){var e=6-t.length;if(e>0){for(var i=[],n=0;e>n;n++)i.push("0");i.push(t),t=i.join("")}return t},I=function(){var e=t(this).parent(),i=e.data("colpick").origColor;e.data("colpick").color=i,r(i,e.get(0)),h(i,e.get(0)),l(i,e.get(0)),c(i,e.get(0)),d(i,e.get(0)),p(i,e.get(0))};return{init:function(o){if(o=t.extend({},i,o||{}),typeof o.color=="string")o.color=n(o.color);else if(o.color.r!=void 0&&o.color.g!=void 0&&o.color.b!=void 0)o.color=s(o.color);else{if(o.color.h==void 0||o.color.s==void 0||o.color.b==void 0)return this;o.color=P(o.color)}return this.each(function(){if(!t(this).data("colpickId")){var i=t.extend({},o);i.origColor=o.color;var n="collorpicker_"+parseInt(Math.random()*1e3);t(this).data("colpickId",n);var s=t(e).attr("id",n);s.addClass("colpick_"+i.layout+(i.submit?"":" colpick_"+i.layout+"_ns")),i.colorScheme!="light"&&s.addClass("colpick_"+i.colorScheme),s.find("div.colpick_submit").html(i.submitText).click(T),i.fields=s.find("input").change(f).blur(g).focus(m),s.find("div.colpick_field_arrs").mousedown(v).end().find("div.colpick_current_color").click(I),i.selector=s.find("div.colpick_color").mousedown(k),i.selectorIndic=i.selector.find("div.colpick_selector_outer"),i.el=this,i.hue=s.find("div.colpick_hue_arrs"),huebar=i.hue.parent();var a=navigator.userAgent.toLowerCase(),b=navigator.appName==="Microsoft Internet Explorer",y=b?parseFloat(a.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,w=b&&10>y,_=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(w){var C,S;for(C=0;11>=C;C++)S=t("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+_[C]+", endColorstr="+_[C+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+_[C]+", endColorstr="+_[C+1]+')";'),huebar.append(S)}else stopList=_.join(","),huebar.attr("style","background:-webkit-linear-gradient(top center,"+stopList+"); background:-moz-linear-gradient(top center,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); "),huebar.css({background:"linear-gradient(to bottom,"+stopList+")"}),huebar.css({background:"-moz-linear-gradient(top,"+stopList+")"});s.find("div.colpick_hue").mousedown(x),i.newColor=s.find("div.colpick_new_color"),i.currentColor=s.find("div.colpick_current_color"),s.data("colpick",i),r(i.color,s.get(0)),l(i.color,s.get(0)),h(i.color,s.get(0)),d(i.color,s.get(0)),c(i.color,s.get(0)),u(i.color,s.get(0)),p(i.color,s.get(0)),i.flat?(s.appendTo(this).show(),s.css({position:"relative",display:"block"})):(s.appendTo(document.body),t(this).on(i.showEvent,A),s.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){t(this).data("colpickId")&&A.apply(this)})},hidePicker:function(){return this.each(function(){t(this).data("colpickId")&&t("#"+t(this).data("colpickId")).hide()})},setColor:function(e,i){if(i="undefined"==typeof i?1:i,"string"==typeof e)e=n(e);else if(e.r!=void 0&&e.g!=void 0&&e.b!=void 0)e=s(e);else{if(e.h==void 0||e.s==void 0||e.b==void 0)return this;e=P(e)}return this.each(function(){if(t(this).data("colpickId")){var n=t("#"+t(this).data("colpickId"));n.data("colpick").color=e,n.data("colpick").origColor=e,r(e,n.get(0)),l(e,n.get(0)),h(e,n.get(0)),d(e,n.get(0)),c(e,n.get(0)),p(e,n.get(0)),n.data("colpick").onChange.apply(n.parent(),[e,a(e),o(e),1]),i&&u(e,n.get(0))}})}}}(),i=function(t){var t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:t>>16,g:(65280&t)>>8,b:255&t}},n=function(t){return s(i(t))},s=function(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),s=n-i;return e.b=n,e.s=0!=n?255*s/n:0,e.h=e.s!=0?t.r==n?(t.g-t.b)/s:t.g==n?2+(t.b-t.r)/s:4+(t.r-t.g)/s:-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},o=function(t){var e={},i=Math.round(t.h),n=Math.round(t.s*255/100),s=Math.round(t.b*255/100);if(0==n)e.r=e.g=e.b=s;else{var o=s,r=(255-n)*s/255,a=(o-r)*(i%60)/60;360==i&&(i=0),60>i?(e.r=o,e.b=r,e.g=r+a):120>i?(e.g=o,e.b=r,e.r=o-a):180>i?(e.g=o,e.r=r,e.b=r+a):240>i?(e.b=o,e.r=r,e.g=o-a):300>i?(e.b=o,e.g=r,e.r=r+a):360>i?(e.r=o,e.g=r,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},r=function(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){e.length==1&&(i[t]="0"+e)}),i.join("")},a=function(t){return r(o(t))};t.fn.extend({colpick:e.init,colpickHide:e.hidePicker,colpickShow:e.showPicker,colpickSetColor:e.setColor}),t.extend({colpickRgbToHex:r,colpickRgbToHsb:s,colpickHsbToHex:a,colpickHsbToRgb:o,colpickHexToHsb:n,colpickHexToRgb:i})}(jQuery),function(){$(function(){var t,e,i,n,s,o,r,a,l;t=1,e=50,a=5,this.title_fork_url="",this.title_project_path="",this.title_post_url="",this.title_p_name="",this.title_p_id="",this.title_description="",this.title_form_authenticity_token="";try{$(".author").length===1?(s=$.trim($(".author").attr("href"))+"/"+title_project_path+"/check_fetch",l=$.trim($(".author").attr("href"))+"/projects"):$(".author").length>1&&(s=$.trim($(".author").eq(0).attr("href"))+"/"+title_project_path+"/check_fetch",l=$.trim($(".author").eq(0).attr("href"))+"/projects")}catch(h){return r=h,void 0}return o=function(t,e,n){var s,o;return null==e&&(e=!0),null==n&&(n=""),e?(gon.wait_fetch=!0,o=!0,t===this.title_import_url||t===l?(o=!1,$(".popup-github i").addClass("loading spinner").removeClass("refresh"),$(".popup-github i").css("color","green")):($(".fetch-code").addClass("loading spinner").removeClass("refresh"),$(".fetch-code").css("color","green")),$("#git-project-title .popup >.content").text("项目正在后台同步中,同步完成将自动刷新界面,请稍等"),i(o),void 0):(s=void 0,s=t===this.title_import_url||t===l?$(".remote-message .popup > .content"):$(".fork-message .popup > .content"),void 0!==n&&""!==n?s.text(n):s.text("由于队列已满,或者其他错误,暂无法拉取代码"),void 0)},i=function(t){t?setTimeout(function(){return $.ajax({type:"GET",url:s,dataType:"json",success:function(e){return e.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(t)}})},5e3):setTimeout(function(){return $.ajax({type:"GET",url:s,dataType:"json",success:function(e){return e.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(t)}})},5e3)},n=function(i){i?setTimeout(function(){return e>t?(t+=1,$.ajax({type:"GET",url:s,dataType:"json",success:function(t){return t.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(i)},error:function(){return n(i)}})):void 0},5e3):setTimeout(function(){return e>t?(t+=1,$.ajax({type:"GET",url:s,dataType:"json",success:function(t){return t.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(i)},error:function(){return n(i)}})):void 0},5e3)},$(".fetch-code, .popup-github").popup({inline:!0,hoverable:!0,position:"right center",delay:{show:400,hide:100}}),$("#write-cloneurl-message button").click(function(){var t,e;return t=$("#write-cloneurl-message #import_url").val(),e=$("#write-cloneurl-message span.message"),t.indexOf("http")===-1?(e.html(" * 必须是http/https的clone地址"),void 0):t.indexOf(title_project_path)===-1?(e.html(" * 这似乎并不是该仓库的clone地址"),void 0):($("#write-cloneurl-message i.refresh").show(),$.post(post_url,{import_url:t},function(){var i;return e.html("操作成功."),i=t,$("#write-cloneurl-message").hide(),$("#imported-message").show()}))}),$(".popup-github").on("click",function(){return gon.wait_fetch===void 0||gon.wait_fetch!==!0?"false"===import_url?($("#write-cloneurl-message").show(),void 0):($("#fork-imported-message").is(":visible")&&$("#fork-imported-message").hide(),$("#imported-message").show()):void 0}),$("#imported-message .button.close").click(function(){return $("#imported-message").hide()}),$("#imported-message .button.positive").click(function(){return $.ajax({type:"POST",url:l,timeout:12e4,dataType:"json",data:{"project[id]":title_p_id,"project[name]":title_p_name,"project[description]":title_description,"private":0,"project[import_url]":title_import_url,authenticity_token:title_form_authenticity_token,ignore:"no",license:"no",imported:1},beforeSend:function(){return $(".popup-github i").css("color",""),$("#imported-message").hide(),$(".popup-github i").addClass("loading spinner").removeClass("refresh")},success:function(t){return t.status===0?(t.message!==void 0&&t.message!==""&&($("#import-result-message .status-message").text(t.message),$("#import-result-message").fadeIn(),setTimeout(function(){return $("#import-result-message").fadeOut()},2e3)),o(title_import_url,!1,t.message),$(".popup-github i").removeClass("loading spinner").addClass("refresh")):(o(title_import_url),$("#new_file_bread").on("click",function(t){return t.preventDefault(),alert("项目正在后台处理中,请稍后执行此功能"),!1}))}})}),$(".fetch-code").click(function(){(gon.wait_fetch===void 0||gon.wait_fetch!==!0)&&($("#imported-message").is(":visible")&&$("#imported-message").hide(),$("#fork-imported-message").show())}),$("#fork-imported-message .button.positive").on("click",function(){$.ajax({type:"POST",url:title_fork_url,dataType:"json",data:{fetch_code:1},beforeSend:function(){return $(".fetch-code").css("color",""),$("#fork-imported-message").hide(),$(".fetch-code").addClass("loading spinner").removeClass("refresh")},success:function(t){return t.status===0?(t.message!==void 0&&t.message!==""&&($("#import-result-message .status-title").text("提示"),$("#import-result-message .status-message").text(t.message),$("#import-result-message").fadeIn(),setTimeout(function(){return $("#import-result-message").fadeOut()},2e3)),o(title_fork_url,!1,t.message),$(".fetch-code").removeClass("loading spinner").addClass("refresh")):o(title_fork_url)}})}),$("#fork-imported-message .button.close").on("click",function(){$("#fork-imported-message").hide()}),gon.fetch_url!==void 0?o(gon.fetch_url):void 0})}.call(this),function(){$(function(){var t,e,i,n,s,o,r,a,l,h,c;return t=24,e=void 0,o=void 0,r=void 0,a=0,l=!1,n=function(t,e,i){var n,s,o,r,a,l,h;return o=i+t.parent_path+t.name+"?oid="+t.oid,$.trim(e).length>=1?(s=t.parent_path+t.name,l=s.toLowerCase(),h=e.toLowerCase(),a=l.indexOf(h),-1===a?e=s:(n=s.substring(a,a+e.length),e=s.replace(n,"<span style='color:#01609d'>"+n+"</span>")),r="<div class='color-item'><div class='row tree-item' style='height:28px;margin-left:12px;font-size:0.9rem;line-height:28px;'><div class='six wide column tree-item-file-name' style='padding:0px;overflow-x:hidden;white-space:nowrap;'><i class='icon text outline file' style='color:#4183c4'><strong style='margin-left:12px;font-weight:normal;'><a href='"+o+"'>"+e+"</a></strong></i></div></div></div>"):r="<div class='color-item'><div class='row tree-item' style='height:28px;margin-left:12px;font-size:0.9rem;line-height:28px;'><div class='six wide column tree-item-file-name' style='padding:0px;overflow-x:hidden;white-space:nowrap;'><i class='icon text outline file' style='color:#4183c4'><strong style='margin-left:12px;font-weight:normal;'><a href='"+o+"'>"+t.parent_path+t.name+"</a></strong></i></div></div></div>",r},i=function(t,e,i){var s,a,l,h,c,d;if(h="<div class='row column tree-holder' id='temp-list'><div class='tree-content-holder' style='margin-top:6px;'><div class='tree-content' style='padding-top:6px;background-color:#fff '>",l="</div></div></div>",t.length===0)return h+"<div style='font-size:10px;'>找不到相关文件</div>"+l;if(t.length===1&&t[0].parent_path==="#"&&t[0].oid==="")return h+"<div style='font-size:12px;padding-left:12px;padding-top:6px;padding-bottom:6px;'>"+t[0].name+"</div>"+l;for(i=r+"/blob/"+o+"/",s="",c=0,d=t.length;d>c;c++)a=t[c],s+=n(a,e,i);return h+s+l},$("#search-name").on("keyup",function(n){var s,o,r,l,h,c,d,u,p,f;if(n.which!==13){if(n.keyCode===27)return $("#back-to-list").trigger("click");for(a=0,d=$.trim($("#search-name").val()),r=[],p=0,f=e.length;f>p;p++)s=e[p],s.type!=="tree"&&(o=s.parent_path+s.name,h=o.toLowerCase(),c=d.toLowerCase(),(h.indexOf(c)!==-1||d.length===0)&&r.length<t&&r.push(s));return $("#temp-list").remove(),$("#search-plane").append(i(r,d)),$(".color-item").on("click",function(){return window.location.href=$(this).find("a").attr("href")})}return u=$("#temp-list").find(".tree-item"),u.length>0?(l=$(u[a]).find("a").attr("href"),window.location.href=l):void 0}),$("#search-files").on("click",function(){return s()}),$("#back-to-list").on("click",function(){return $("#git-project").show(),$("#git-project-nav").remove("#search-plane"),$("#search-plane").hide()}),h=function(){return c(),$("#git-project").hide(),$("#git-project-nav").append($("#search-plane")),$("#search-plane").show(),$("#search-name").val("").focus().trigger("keyup")},c=function(){return $("#search-files-loading").toggleClass("octicon octicon-list-unordered spinner loading icon")},s=function(){var t,i;return c(),void 0!==e?(h(),void 0):(l||(l=!0,o=$(".chzn-single").children("span").text(),t=gon.http_clone,r=t.replace(".git","").replace("https://","//"),i=r+"/file_list",(void 0===o||$.trim(o)==="")&&(o="master"),$.ajax({url:i,data:{ref:o},type:"GET",success:function(t){l=!1,e=t,h()},error:function(){l=!1,c(),alert("因为网络或其他原因,文件列表获取失败,请稍后重试!")}})),void 0)}})}.call(this),$(function(){function t(t){t.keyCode==9&&(this.value=this.value+"	",t.returnValue=!1)}$("select.chosen").chosen(),$(".project-refs-form .group-result").each(function(t){if(0==t){var e=0;$(this).nextAll().each(function(){return $(this).hasClass("group-option")?(e+=1,void 0):!1});var i="/"+gon.user_project+"/branches/recent",n=$(this).text();$(this).text(n+"("+e+")"),$(this).append("<a href='#' style='float:right;' onclick='javascript:window.location.href=\""+i+"\"'>"+gon.manage_branch+"</a>")}else if(1==t){var s=$(this).next(),e=0;if(s.text()=="占位符看起来挺不错的"){s.css("display","none");var e=-1}$(this).nextAll().each(function(){return $(this).hasClass("group-option")?(e+=1,void 0):!1});var o="/"+gon.user_project+"/tags",n=$(this).text();$(this).text(n+"("+e+")"),$(this).append("<a href='#' style='float:right;' onclick='javascript:window.location.href=\""+o+"\"'>"+gon.manage_tag+"</a>")}}),$(".project-refs-select").trigger("chosen:updated"),$(".js-comment-form").length>0&&(Notes.initCommentForm($(".js-comment-form")),$(".js-comment-text").blur(function(){$(this).html(this.value)}).keydown(t))});